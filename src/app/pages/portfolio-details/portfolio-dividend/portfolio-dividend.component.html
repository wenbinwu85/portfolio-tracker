<section *ngIf="infoCards" class="info-cards">
  <ng-container *ngFor="let card of infoCards">
    <info-card
      [icon]="card.icon"
      [value]="card.value"
      [valueType]="card.valueType"
      [subtitle]="card.subtitle"
      [color]="card.color"
    />
  </ng-container>
</section>

<section  *ngIf="browser === 'Safari'" class="add-border">
  <app-echart [options]="echartOptions" />
</section>

<section *ngIf="browser !== 'Safari'" class="add-border">
  <div class="title">
    <span>Dividend History</span>
  </div>
  <div *ngIf="dividendLineChartData" class="chart-container">
    <ngx-charts-area-chart
      [results]="dividendLineChartData"
      [scheme]="'forest'"
      [xAxisLabel]="selectedSymbol"
      [yAxisLabel]="'Dividend Rate'"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxis]="true"
      [yAxis]="true"
      [autoScale]="true"
      [animations]="true"
      [gradient]="true"
      >
    </ngx-charts-area-chart>
  </div>
</section>

<table
  mat-table
  matSort
  matSortActive="dividendYield"
  matSortDirection="desc"
  [dataSource]="dataSource"
>
  <ng-container *ngFor="let column of columnDefs; index as cidx" [matColumnDef]="column">
    <th *matHeaderCellDef mat-header-cell mat-sort-header>{{ headers[cidx] }}</th>
    <td mat-cell *matCellDef="let stock">
      <div *ngIf="cidx === 0; else elseBlock" class="table-col-0">
        <stock-ticker-name [stock]="stock" />
      </div>
      <ng-template #elseBlock>
        <span (click)="updateChart(stock.symbol)">{{ cells[cidx](stock) }}</span>
      </ng-template>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnDefs; sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: columnDefs"></tr>
</table>
