<ng-template #marketChartsRef>
  <tv-symbol-overview-widget 
    [company]="'VIX Volatility'" 
    [symbol]="'VANTAGE:VIX'"
    [timeFrame]="'1m'"
  />
</ng-template>

<ng-template #marketChartsFooterRef>
  <div class="tradingview-widget-copyright">
    <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
        <span class="blue-text">Track all markets on TradingView</span>
    </a>
  </div>
</ng-template>

<section class="add-margin">
  <container-card
    title="Volatility Index"
    [mainContentRef]="marketChartsRef"
    [footerContentRef]="marketChartsFooterRef"
  />
</section>

<mat-tab-group mat-align-tabs="center">
  <mat-tab label="Quotes">
    <section class="add-margin">
      <portfolio-quotes [expandWidget]="true"/>
    </section>
  </mat-tab>

  <mat-tab label="Grading History">
    <section class="add-margin">
      @for (item of gradingHistory; track item.epochGradeDate) {
        <info-card
          [value]="item.fromGrade + ' to ' + item.toGrade"
          [subtitle]="item.symbol"
          [subtitleChip]="true"
          [additionalInfo]="item.firm"
          [date]="(item.epochGradeDate * 1000).toString()"
          [icon]="item.icon"
          [color]="item.color"
        />
        <div class="spacer"></div>
      }
    </section>
  </mat-tab>

  <mat-tab label="Insider Activities">
    <section class="add-margin">
      @for(activity of insiderActivities; track activity.index) {
        <info-card
          [value]="activity.shares.fmt + ' shares. ' + activity.transactionText"
          [subtitle]="activity.symbol"
          [subtitleChip]="true"
          [additionalInfo]="activity.filerName + ', ' + activity.filerRelation"
          [date]="(activity.startDate.raw * 1000).toString()"
          [icon]="activity.icon"
          [color]="activity.color"
        />
        <div class="spacer"></div>
      }
    </section>
  </mat-tab>
</mat-tab-group>