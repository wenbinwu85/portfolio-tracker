import './polyfills.server.mjs';
import{a as $,b as j,c as R,d as N,e as W,h as K}from"./chunk-JXWXNR5G.mjs";import{a as P,b,c as M,d as S}from"./chunk-EWYRINQU.mjs";import{a as L,c as O,e as U,f as F,g as X}from"./chunk-LDUYCJ5N.mjs";import{b as Y,c as z}from"./chunk-53HVJOPX.mjs";import{a as q}from"./chunk-6NFK5ISD.mjs";import{a as G,b as w}from"./chunk-RTSQ3GE6.mjs";import{a as J}from"./chunk-KUHTMXSH.mjs";import{O as D,P as C}from"./chunk-MA3PBPVZ.mjs";import{n as V,t as A,u as H}from"./chunk-FCMVA44A.mjs";import{Ab as n,Jb as r,Kb as o,Lb as m,Pb as k,Ub as T,Wb as h,ba as x,bb as a,cb as I,dc as s,ec as u,fa as _,ga as B,ic as y,nc as f,oc as v,pc as E,yb as g}from"./chunk-NLLPQ6HJ.mjs";function ae(p,c){if(p&1&&(r(0,"section",9),m(1,"info-card",10)(2,"info-card",11)(3,"info-card",12)(4,"info-card",13)(5,"info-card",14)(6,"info-card",15)(7,"info-card",16)(8,"info-card",17),o()),p&2){let i=h();a(),n("value",i.portfolioHoldings.portfolioPositions),a(),n("value",i.portfolioHoldings.portfolioTotalInvestment),a(),n("value",i.portfolioHoldings.portfolioMarketValue),a(),n("value",i.portfolioHoldings.portfolioUnrealizedGain)("color",i.portfolioHoldings.portfolioUnrealizedGain>0?"seagreen":"orangered")("accentColor",i.portfolioHoldings.portfolioUnrealizedGain>0?"seagreen":"orangered"),a(),n("value",i.portfolioHoldings.portfolioUnrealizedGainPercent)("color",i.portfolioHoldings.portfolioUnrealizedGainPercent>0?"seagreen":"orangered")("accentColor",i.portfolioHoldings.portfolioUnrealizedGain>0?"seagreen":"orangered"),a(),n("value",i.portfolioHoldings.portfolioDividendIncome),a(),n("value",i.portfolioHoldings.portfolioYield),a(),n("value",i.portfolioHoldings.portfolioYieldOnCost)}}function oe(p,c){if(p&1){let i=k();r(0,"button",18),T("click",function(){_(i);let e=h();return B(e.filterBySector({name:"all"}))}),r(1,"mat-icon"),s(2,"restart_alt"),o()()}}function re(p,c){if(p&1&&(r(0,"div",2)(1,"section",19)(2,"h1")(3,"b"),s(4,"Portfolio Value Goal:"),o(),r(5,"span",20),s(6),f(7,"percent"),o()(),r(8,"mat-slider",21),m(9,"input",22),o(),r(10,"div",23)(11,"h1"),s(12),f(13,"currency"),o(),r(14,"h1"),s(15),f(16,"currency"),o()()(),r(17,"mat-expansion-panel",24)(18,"mat-expansion-panel-header")(19,"mat-panel-title")(20,"mat-icon",25),s(21,"payment"),o(),r(22,"span"),s(23,"Portfolio Value"),o()()(),r(24,"section",4)(25,"div",5),m(26,"ngx-charts-bar-vertical-stacked",26),o(),r(27,"div",5),m(28,"ngx-charts-bar-vertical",7),o()()()()),p&2){let i=h();a(6),u(E(7,28,i.portfolioValueGoalPercentage,".2")),a(2),n("min",0)("max",i.portfolioValueTarget)("step",1e3)("showTickMarks",!0)("color","primary"),a(),n("value",i.portfolioHoldings.portfolioMarketValue)("matTooltip",i.getTooltip("investment")),a(3),u(v(13,31,"0")),a(3),u(v(16,33,i.portfolioValueTarget)),a(2),n("expanded",!1),a(9),n("scheme","ocean")("animations",!0)("results",i.marketValueBarChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("yAxisLabel","Market Value $")("yScaleMax",i.marketValueYMax),a(2),n("scheme","air")("animations",!0)("results",i.unrealizedGainBarChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("yAxisLabel","Open P & L %")}}function ne(p,c){if(p&1&&(r(0,"div",2)(1,"section",19)(2,"h1")(3,"b"),s(4,"Passive Income Goal:"),o(),r(5,"span",20),s(6),f(7,"percent"),o()(),r(8,"mat-slider",21),m(9,"input",22),o(),r(10,"div",23)(11,"h1"),s(12),f(13,"currency"),o(),r(14,"h1"),s(15),f(16,"currency"),o()()(),r(17,"mat-expansion-panel",24)(18,"mat-expansion-panel-header")(19,"mat-panel-title")(20,"mat-icon",25),s(21,"local_fire_department"),o(),r(22,"span"),s(23,"Passive Income"),o()()(),r(24,"section",4)(25,"div",5),m(26,"ngx-charts-bar-vertical",26),o(),r(27,"div",5),m(28,"ngx-charts-bar-vertical",26),o()()()()),p&2){let i=h();a(6),u(E(7,29,i.passiveIncomeGoalPercentage,".2")),a(2),n("min",0)("max",i.passiveIncomeTarget)("step",120)("showTickMarks",!0)("color","primary"),a(),n("value",i.portfolioHoldings.portfolioDividendIncome)("matTooltip",i.getTooltip("passive")),a(3),u(v(13,32,"0")),a(3),u(v(16,34,i.passiveIncomeTarget)),a(2),n("expanded",!1),a(9),n("scheme","natural")("animations",!0)("results",i.dividendBarChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("yAxisLabel","Dividend Income $")("yScaleMax",i.dividendYMax),a(2),n("scheme","natural")("animations",!0)("results",i.yocBarChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("yAxisLabel","Yield On Cost %")("yScaleMax",i.yocYMax)}}var Q=(()=>{let c=class c{constructor(l){this.dataService=l,this.portfolioYtdGain=12345,this.ytdDividendEarned=12345,this.portfolioValueTarget=0,this.portfolioValueGoalPercentage=0,this.passiveIncomeTarget=12e3,this.passiveIncomeGoalPercentage=0,this.sectorsData=[],this.portfolioPercentBarChartData=[],this.allPortfolioPercentData=[],this.marketValueBarChartData=[],this.allMarketValueData=[],this.marketValueYMax=0,this.unrealizedGainBarChartData=[],this.allUnrealizedGainData=[],this.unrealizedGainYMax=0,this.dividendBarChartData=[],this.allDividendData=[],this.dividendYMax=0,this.yocBarChartData=[],this.allYocData=[],this.yocYMax=0,this.showResetButton=!1,this.scaleType=L}ngOnInit(){this.portfolioHoldings=this.dataService.portfolioHoldings,this.portfolioData=this.dataService.portfolioData,this.portfolioSymbols=this.dataService.portfolioSymbols,this.passiveIncomeGoalPercentage=this.portfolioHoldings?.portfolioDividendIncome/this.passiveIncomeTarget,this.portfolioValueTarget=this.passiveIncomeTarget/this.portfolioHoldings?.portfolioYieldOnCost,this.portfolioValueGoalPercentage=this.portfolioHoldings?.portfolioMarketValue/this.portfolioValueTarget;let l={};this.portfolioSymbols?.forEach(e=>{let t=this.portfolioHoldings[e],d=this.portfolioData[e];l[d.profile.sector]?l[d.profile.sector]+=t.marketValue:l[d.profile.sector]=t.marketValue}),l.ETF=l.undefined,delete l.undefined,Object.keys(l).forEach(e=>{this.sectorsData.push({name:e,value:l[e]})}),this.sectorsData.sort((e,t)=>e.value-t.value),this.portfolioSymbols.sort((e,t)=>this.portfolioHoldings[e].marketValue-this.portfolioHoldings[t].marketValue).forEach(e=>{let t=this.portfolioHoldings[e],d=this.portfolioData[e];this.allMarketValueData.push({name:d.symbol,series:[{name:"Cost Basis",value:t.totalCost},{name:"Unrealized Gain",value:t.unrealizedGain}],sector:d.profile?.sector||"ETF"}),this.allPortfolioPercentData.push({name:d.symbol,value:t.marketValue/this.portfolioHoldings.portfolioMarketValue*100,sector:d.profile?.sector||"ETF"})}),this.marketValueBarChartData=this.allMarketValueData,this.portfolioPercentBarChartData=this.allPortfolioPercentData,this.portfolioSymbols.sort((e,t)=>this.portfolioHoldings[e].unrealizedGainPercent-this.portfolioHoldings[t].unrealizedGainPercent).forEach(e=>{let t=this.portfolioData[e];this.allUnrealizedGainData.push({name:t.symbol,value:this.portfolioHoldings[e].unrealizedGainPercent*100||0,sector:t.profile?.sector||"ETF"})}),this.unrealizedGainBarChartData=this.allUnrealizedGainData,this.portfolioSymbols.sort((e,t)=>this.portfolioHoldings[e].dividendIncome-this.portfolioHoldings[t].dividendIncome).forEach(e=>{let t=this.portfolioData[e];this.allDividendData.push({name:t.symbol,value:this.portfolioHoldings[e].dividendIncome,sector:t.profile?.sector||"ETF"})}),this.dividendBarChartData=this.allDividendData,this.dataService.portfolioSymbols.sort((e,t)=>this.portfolioHoldings[e].yieldOnCost-this.portfolioHoldings[t].yieldOnCost).forEach(e=>{let t=this.portfolioData[e];this.allYocData.push({name:t.symbol,value:this.portfolioHoldings[e].yieldOnCost*100,sector:t.profile?.sector||"ETF"})}),this.yocBarChartData=this.allYocData}filterBySector(l){if(l.name==="all"){this.portfolioPercentBarChartData=this.allPortfolioPercentData,this.marketValueBarChartData=this.allMarketValueData,this.unrealizedGainBarChartData=this.allUnrealizedGainData,this.dividendBarChartData=this.allDividendData,this.yocBarChartData=this.allYocData,this.showResetButton=!1;return}this.showResetButton=!0,this.portfolioPercentBarChartData=this.allPortfolioPercentData.filter(e=>e.sector===l.name),this.marketValueBarChartData=this.allMarketValueData.filter(e=>e.sector===l.name),this.unrealizedGainBarChartData=this.allUnrealizedGainData.filter(e=>e.sector===l.name),this.dividendBarChartData=this.allDividendData.filter(e=>e.sector===l.name),this.yocBarChartData=this.allYocData.filter(e=>e.sector===l.name)}getTooltip(l){return l==="passive"?`Progress: ${(this.passiveIncomeGoalPercentage*100).toFixed(4)}%`:l==="investment"?`Progress: ${(this.portfolioValueGoalPercentage*100).toFixed(4)}%`:""}};c.\u0275fac=function(e){return new(e||c)(I(J))},c.\u0275cmp=x({type:c,selectors:[["portfolio-summary"]],standalone:!0,features:[y],decls:14,vars:16,consts:[["class","summary-cards",4,"ngIf"],["mat-mini-fab","","color","accent","class","reset-button",3,"click",4,"ngIf"],[1,"add-border"],[1,"title"],[1,"charts-flex"],[1,"chart-container"],[3,"scheme","animations","results","label","select"],[3,"scheme","animations","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","yAxisLabel"],["class","add-border",4,"ngIf"],[1,"summary-cards"],["icon","numbers","subtitle","Total Positions",3,"value"],["icon","payments","valueType","currency","subtitle","Total Investment",3,"value"],["icon","payments","valueType","currency","subtitle","Market Value",3,"value"],["icon","payments","subtitle","Unrealized Gain","valueType","currency",3,"value","color","accentColor"],["icon","percentage","valueType","percentage","subtitle","Unrealized Gain %",3,"value","color","accentColor"],["icon","payments","valueType","currency","subtitle","Projected Annual Income",3,"value"],["icon","percentage","valueType","percentage","subtitle","Portfolio Yield",3,"value"],["icon","percentage","valueType","percentage","subtitle","Portfolio YOC","color","seagreen","accentColor","seagreen",3,"value"],["mat-mini-fab","","color","accent",1,"reset-button",3,"click"],[1,"goal-container"],[1,"goal"],[3,"min","max","step","showTickMarks","color"],["matSliderThumb","","matTooltipPosition","above",3,"value","matTooltip"],[1,"labels"],[3,"expanded"],[1,"add-margin"],[3,"scheme","animations","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","yAxisLabel","yScaleMax"]],template:function(e,t){e&1&&(g(0,ae,9,12,"section",0),m(1,"mat-divider"),g(2,oe,3,0,"button",1),r(3,"section",2)(4,"div",3)(5,"span"),s(6,"Portfolio Allocation"),o()(),r(7,"div",4)(8,"div",5)(9,"ngx-charts-pie-grid",6),T("select",function(Z){return t.filterBySector(Z)}),o()(),r(10,"div",5),m(11,"ngx-charts-bar-vertical",7),o()()(),g(12,re,29,35,"div",8)(13,ne,29,36,"div",8)),e&2&&(n("ngIf",t.portfolioHoldings),a(2),n("ngIf",t.showResetButton),a(7),n("scheme","picnic")("animations",!0)("results",t.sectorsData)("label","Total $"),a(2),n("scheme","picnic")("animations",!0)("results",t.portfolioPercentBarChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("yAxisLabel","Portfolio %"),a(),n("ngIf",t.portfolioHoldings),a(),n("ngIf",t.portfolioHoldings))},dependencies:[H,q,z,Y,w,G,S,P,b,M,C,D,R,$,j,W,N,V,X,A,O,U,F],styles:[".summary-cards[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.goal-container[_ngcontent-%COMP%]{margin-top:50px;margin-left:20px}mat-slider[_ngcontent-%COMP%]{width:99%;height:8px;padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:20px}.goal[_ngcontent-%COMP%]{color:#2e8b57;padding-left:10px}.labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:99%;margin-bottom:20px}.reset-button[_ngcontent-%COMP%]{float:right;margin:10px}button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{padding-right:0}  mat-slider-visual-thumb.mdc-slider__thumb{height:0px!important}"]});let p=c;return p})();var ke=(()=>{let c=class c{};c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=x({type:c,selectors:[["app-portfolio-main"]],standalone:!0,features:[y],decls:16,vars:2,consts:[[3,"expanded"],[1,"add-margin"]],template:function(e,t){e&1&&(r(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",1),s(4,"auto_graph"),o(),r(5,"span"),s(6,"Price Change Summary"),o()()(),m(7,"price-movement-charts"),o(),r(8,"mat-expansion-panel",0)(9,"mat-expansion-panel-header")(10,"mat-panel-title")(11,"mat-icon",1),s(12,"assessment"),o(),r(13,"span"),s(14,"Portfolio Summary"),o()()(),m(15,"portfolio-summary"),o()),e&2&&(n("expanded",!0),a(8),n("expanded",!0))},dependencies:[S,P,b,M,C,D,Q,K],styles:[".add-margin[_ngcontent-%COMP%]{margin-right:5px}"]});let p=c;return p})();export{ke as a};
