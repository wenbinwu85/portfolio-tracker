import './polyfills.server.mjs';
import{B as X,d as h,e as I,f as A,g,h as q,i as B,k as z,l as V,n as N,o as j,q as J,r as K,t as L,v as U,w as W}from"./chunk-5K6BIBFD.mjs";import{G as Q}from"./chunk-5TKWRWDU.mjs";import{R as G,Y as O}from"./chunk-P566SQAQ.mjs";import{$a as p,Ab as f,Bb as u,Ca as r,Da as T,Ib as D,Kb as b,Mb as Y,Nb as k,Pb as E,Ra as _,Wa as m,Y as F,bb as P,cb as R,db as v,eb as c,fb as d,gb as s,pb as o,sc as $,ub as w,vb as y,wb as M,xc as H,zb as S}from"./chunk-GABBXSEO.mjs";import{a as C,b as x}from"./chunk-WUI6SWGE.mjs";var ee=t=>({color:t});function te(t,a){if(t&1&&(c(0,"th",9)(1,"span"),f(2),d()()),t&2){let n=o().$index,i=o(3);r(2),u(i.headers[n])}}function ne(t,a){if(t&1&&(c(0,"div",11),s(1,"stock-name-card",13),d()),t&2){let n=o().$implicit;r(),m("stock",n)}}function ie(t,a){if(t&1&&(c(0,"span",12),f(1),d()),t&2){let n=o().$implicit,i=o(),e=i.$implicit,l=i.$index,Z=o(3);m("ngStyle",b(2,ee,Z.getCellColor(l,n))),r(),u(n[e])}}function ae(t,a){if(t&1&&(c(0,"td",10),_(1,ne,2,1,"div",11)(2,ie,2,4,"span",12),d()),t&2){let n=o().$index;r(),p(n===0?1:2)}}function re(t,a){if(t&1&&(c(0,"div",4),_(1,te,3,1,"th",7)(2,ae,3,1,"td",8),d()),t&2){let n=a.$implicit;m("matColumnDef",n)}}function oe(t,a){t&1&&s(0,"tr",14)}function le(t,a){t&1&&s(0,"tr",15)}function me(t,a){if(t&1&&(c(0,"table",3),R(1,re,3,1,"div",4,P),_(3,oe,1,0,"tr",5)(4,le,1,0,"tr",6),d()),t&2){let n=o(2);m("dataSource",n.dataSource),r(),v(n.columnDefs),r(2),m("matHeaderRowDef",n.columnDefs)("matHeaderRowDefSticky",!0),r(),m("matRowDefColumns",n.columnDefs)}}function ce(t,a){if(t&1&&(_(0,me,5,4,"ng-template",null,0,E),s(2,"container-card",2)),t&2){let n=S(1);r(2),m("mainContentRef",n)}}function de(t,a){if(t&1&&(c(0,"th",19)(1,"span"),f(2),d()()),t&2){let n=o().$index,i=o(3);r(2),u(i.etfHeaders[n])}}function _e(t,a){if(t&1&&(c(0,"div",11),s(1,"stock-name-card",13),d()),t&2){let n=o().$implicit;r(),m("stock",n)}}function se(t,a){if(t&1&&(c(0,"span"),f(1),d()),t&2){let n=o(2).$implicit,i=o().$implicit;r(),u(n[i])}}function pe(t,a){if(t&1&&(c(0,"span"),f(1),Y(2,"currency"),d()),t&2){let n=o(2).$implicit,i=o().$implicit;r(),u(k(2,1,n[i]))}}function fe(t,a){if(t&1&&_(0,se,2,1,"span")(1,pe,3,3,"span"),t&2){let n=o(2).$index;p(n<13?0:-1),r(),p(n===13?1:-1)}}function ue(t,a){if(t&1&&(c(0,"td",10),_(1,_e,2,1,"div",11)(2,fe,2,2),d()),t&2){let n=o().$index;r(),p(n===0?1:2)}}function Ce(t,a){if(t&1&&(c(0,"div",4),_(1,de,3,1,"th",18)(2,ue,3,1,"td",8),d()),t&2){let n=a.$implicit;m("matColumnDef",n)}}function he(t,a){t&1&&s(0,"tr",14)}function ge(t,a){t&1&&s(0,"tr",15)}function xe(t,a){if(t&1&&(c(0,"table",17),R(1,Ce,3,1,"div",4,P),_(3,he,1,0,"tr",5)(4,ge,1,0,"tr",6),d()),t&2){let n=o(2);m("dataSource",n.sortedEtfs),r(),v(n.etfColumnDefs),r(2),m("matHeaderRowDef",n.etfColumnDefs)("matHeaderRowDefSticky",!0),r(),m("matRowDefColumns",n.etfColumnDefs)}}function Pe(t,a){if(t&1&&(_(0,xe,5,4,"ng-template",null,1,E),s(2,"container-card",16)),t&2){let n=S(1);r(2),m("mainContentRef",n)}}var be=(()=>{class t{constructor(n){this.dataService=n,this.dataSource=new W,this.sortedEtfs=[],this.headers=["Symbol","Debt To Equity (MRQ)","Current Ratio (MRQ)","Earnings Growth (QOQ) %","Quarterly Revenue Growth (YOY) %","Profit Margins %","Forward PE","Forward EPS","PEG Ratio","Total Cash / Share","Revenue / Share","FCF Yield","FCF / Share","Return On Assets %","Return On Equity %","EV / EBITDA","EV / Revenue"],this.columnDefs=["symbol","debtToEquity","currentRatio","earningsGrowth","revenueGrowth","profitMargins","forwardPE","forwardEps","pegRatio","totalCashPerShare","revenuePerShare","freeCashflowYield","freeCashflowPerShare","returnOnAssets","returnOnEquity","enterpriseToEbitda","enterpriseToRevenue"],this.etfHeaders=["Symbol","Expense Ratio","Nav Price","Trailing PE","YTD Return","1 Month Return","3 month Return","1 Year Return","3 Year Return","5 year Return","10 Year return","3Y Beta","Total Assets"],this.etfColumnDefs=["symbol","annualReportExpenseRatio","navPrice","trailingPE","ytdReturn","1monthReturn","3monthReturn","1YearReturn","threeYearReturn","fiveYearReturn","tenYearReturn","beta3Year","totalAssets"]}ngOnInit(){let n=this.dataService.portfolioStocks,i=this.dataService.portfolioEtfs;this.dataSource.data=n.map(e=>{let l=this.dataService.portfolioHoldings[e.symbol];return x(C(C({},e),l),{symbol:e.symbol,debtToEquity:(e.debtToEquity.raw/100).toFixed(2)||0,currentRatio:e.currentRatio.fmt||0,earningsGrowth:+e.earningsQuarterlyGrowth.fmt?.replace("%","")||0,revenueGrowth:+e.revenueGrowth.fmt?.replace("%","")||0,profitMargins:+e.profitMargins.fmt?.replace("%","")||0,forwardPE:e.forwardPE.fmt||0,forwardEps:e.forwardEps.fmt||0,pegRatio:e.pegRatio.fmt||0,totalCashPerShare:e.totalCashPerShare.fmt||0,revenuePerShare:e.revenuePerShare.fmt||0,freeCashflowYield:+(e.freeCashflowYield*100).toFixed(2)||0,freeCashflowPerShare:+e.freeCashflowPerShare.toFixed(2)||0,returnOnAssets:+e.returnOnAssets.fmt?.replace("%","")||0,returnOnEquity:+e.returnOnEquity.fmt?.replace("%","")||0,enterpriseToEbitda:e.enterpriseToEbitda.fmt||0,enterpriseToRevenue:e.enterpriseToRevenue.fmt||0,regularMarketPrice:e.regularMarketPrice?.raw,regularMarketChange:e.regularMarketChange?.raw,regularMarketChangePercent:e.regularMarketChangePercent?.raw,preMarketPrice:e.preMarketPrice?.raw,preMarketChangePercent:e.preMarketChangePercent?.raw||0,postMarketPrice:e.postMarketPrice?.raw,postMarketChangePercent:e.postMarketChangePercent?.raw||0})}).sort((e,l)=>e.unrealizedGainPercent-l.unrealizedGainPercent),this.sortedEtfs=i.map(e=>{let l=this.dataService.portfolioHoldings[e.symbol];return x(C(C({},e),l),{symbol:e.symbol,annualReportExpenseRatio:e.profile.feesExpensesInvestment.annualReportExpenseRatio.fmt,navPrice:e.navPrice.fmt,trailingPE:e.trailingPE.fmt,ytdReturn:e.fundPerformance.trailingReturns.ytd.fmt,"1monthReturn":e.fundPerformance.trailingReturns.oneMonth.fmt,"3monthReturn":e.fundPerformance.trailingReturns.threeMonth.fmt,"1YearReturn":e.fundPerformance.trailingReturns.oneYear.fmt,threeYearReturn:e.fundPerformance.trailingReturns.threeYear.fmt,fiveYearReturn:e.fundPerformance.trailingReturns.fiveYear.fmt,tenYearReturn:e.fundPerformance.trailingReturns.tenYear.fmt,beta3Year:e.beta3Year.raw,totalAssets:e.totalAssets.fmt,regularMarketPrice:e.regularMarketPrice?.raw,regularMarketChange:e.regularMarketChange?.raw,regularMarketChangePercent:e.regularMarketChangePercent?.raw,preMarketPrice:e.preMarketPrice?.raw,preMarketChangePercent:e.preMarketChangePercent?.raw||0,postMarketPrice:e.postMarketPrice?.raw,postMarketChangePercent:e.postMarketChangePercent?.raw||0})}).sort((e,l)=>e.unrealizedGainPercent-l.unrealizedGainPercent)}ngAfterViewInit(){this.dataSource.sort=this.sort}getCellColor(n,i){let e=this.columnDefs[n],l=i[e];return l<0||l[0]==="-"||l[1]==="-"?"chocolate":""}static{this.\u0275fac=function(i){return new(i||t)(T(O))}}static{this.\u0275cmp=F({type:t,selectors:[["portfolio-financials"]],viewQuery:function(i,e){if(i&1&&(w(g,5),w(h,5)),i&2){let l;y(l=M())&&(e.table=l.first),y(l=M())&&(e.sort=l.first)}},standalone:!0,features:[D],decls:2,vars:2,consts:[["stocksRef",""],["etfsRef",""],["title","Stocks",3,"mainContentRef"],["mat-table","","matSort","","matSortActive","earningsQuarterlyGrowth","matSortDirection","asc",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"table-col-0"],[3,"ngStyle"],[3,"stock"],["mat-header-row",""],["mat-row",""],["title","Exchange Traded Funds",3,"mainContentRef"],["mat-table","",3,"dataSource"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""]],template:function(i,e){i&1&&_(0,ce,3,1)(1,Pe,3,1),i&2&&(p(e.dataSource.data.length?0:-1),r(),p(e.sortedEtfs.length?1:-1))},dependencies:[Q,H,G,A,h,I,U,g,B,j,z,q,J,V,N,K,L,$,X],styles:[".table-col-0[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;margin:0;padding:0}.mdc-data-table__header-cell[_ngcontent-%COMP%], .mdc-data-table__cell[_ngcontent-%COMP%]{padding:0}"]})}}return t})();export{be as a};
