import './polyfills.server.mjs';
import{f as y,i as x,j as b,m as d}from"./chunk-RGWKIQ5M.mjs";import{T as v}from"./chunk-L37IW5RY.mjs";import{$a as l,Bb as f,Qa as m,T as i,Y as p,_a as c,ab as h,wa as o,xa as g,zb as u}from"./chunk-UPMD732B.mjs";var T=s=>[400,s],w=(()=>{let n=class n{constructor(t){this.dataService=t,this.symbol="AAPL",this.recommendationTrendChartColorScheme={domain:["teal","seagreen","gold","tomato","chocolate"]},this.scaleType=y}ngOnInit(){this.updateRecommendationTrends()}ngOnChanges(){this.updateRecommendationTrends()}updateRecommendationTrends(){let t=this.dataService.portfolioData;this.stockData=Object.values(t).filter(e=>e.symbol===this.symbol)[0],this.recommendationTrends=this.stockData.recommendationTrend,this.recommendationTrendChartData=[],this.recommendationTrends.forEach(e=>{this.recommendationTrendChartData.push({name:this.getMonthName(e.period),series:[{name:"Strong Buy",value:e.strongBuy},{name:"Buy",value:e.buy},{name:"Hold",value:e.hold},{name:"Sell",value:e.sell},{name:"Strong Sell",value:e.strongSell}]})})}getMonthName(t){let a={"0m":0,"-1m":1,"-2m":2,"-3m":3}[t],r=new Date,C=r.getMonth();return r.setMonth(C-a),r.toLocaleString("default",{month:"short"})}};n.\u0275fac=function(e){return new(e||n)(g(v))},n.\u0275cmp=i({type:n,selectors:[["stock-recommendation-trends"]],inputs:{symbol:"symbol",height:"height"},standalone:!0,features:[p,u],decls:2,vars:15,consts:[[1,"rec-trends"],[3,"view","scheme","results","xAxis","yAxis","showYAxisLabel","rotateXAxisTicks","animations","legend","showDataLabel","legendTitle","yAxisLabel"]],template:function(e,a){e&1&&(c(0,"div",0),h(1,"ngx-charts-bar-vertical-stacked",1),l()),e&2&&(o(),m("view",f(13,T,a.height||200))("scheme",a.recommendationTrendChartColorScheme)("results",a.recommendationTrendChartData)("xAxis",!0)("yAxis",!0)("showYAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("legend",!0)("showDataLabel",!0)("legendTitle","")("yAxisLabel","Analysts Opinions"))},dependencies:[d,x],styles:["div.ngx-charts-outer{display:flex!important;align-items:center!important}  ul.legend-labels{width:min-content!important;background:none!important}"]});let s=n;return s})();var F=(()=>{let n=class n{constructor(){this.earningsChartData=[],this.currentQuarter="",this.currentQuarterYear="",this.currentQuarterEstimate=0,this.earningsDate="",this.view=[0,200],this.colorScheme={domain:["skyblue","slategrey"]}}ngOnInit(){let t=this.stock.earnings?.earningsChart;this.currentQuarter=t.currentQuarterEstimateDate,this.currentQuarterYear=t.currentQuarterEstimateYear,this.currentQuarterEstimate=t.currentQuarterEstimate.fmt,this.earningsDate=t.earningsDate[0].fmt,this.earningsChartData.name=this.stock.symbol;let e={name:"Estimate",series:[]},a={name:"Actual",series:[]};t.quarterly.forEach(r=>{e.series.push({name:r.date,x:r.date,y:r.estimate.fmt,r:50}),a.series.push({name:r.date,x:r.date,y:r.actual.fmt,r:50})}),e.series.push({name:this.currentQuarter+this.currentQuarterYear+" "+this.earningsDate,x:this.currentQuarter+this.currentQuarterYear,y:this.currentQuarterEstimate,r:50}),this.earningsChartData.push(e),this.earningsChartData.push(a)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i({type:n,selectors:[["stock-earnings-chart"]],inputs:{stock:"stock"},standalone:!0,features:[u],decls:2,vars:10,consts:[[1,"earnings-container"],[3,"view","scheme","results","xAxis","yAxis","yAxisLabel","showYAxisLabel","legend","animations","legendTitle"]],template:function(e,a){e&1&&(c(0,"div",0),h(1,"ngx-charts-bubble-chart",1),l()),e&2&&(o(),m("view",a.view)("scheme",a.colorScheme)("results",a.earningsChartData)("xAxis",!0)("yAxis",!0)("yAxisLabel","Earnings Per Share")("showYAxisLabel",!0)("legend",!0)("animations",!0)("legendTitle",""))},dependencies:[d,b],styles:[".earnings-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}  ul.legend-labels{width:max-content!important;background:none!important}"]});let s=n;return s})();export{w as a,F as b};
