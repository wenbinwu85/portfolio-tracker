import './polyfills.server.mjs';
import{a as I}from"./chunk-RTR5DSAK.mjs";import{h as F}from"./chunk-4OWJMABH.mjs";import"./chunk-OZL3Q3MV.mjs";import{d as T}from"./chunk-INJADEP7.mjs";import"./chunk-VWMIHJ2W.mjs";import{Bb as a,Cb as l,Db as y,Hb as O,Jb as P,Kb as s,Ub as m,Vb as d,Wb as u,Ya as c,Za as f,_b as R,fa as h,gc as g,na as _,oa as C,pb as v,rb as S}from"./chunk-ARX2IPHX.mjs";import"./chunk-5XUXGTUW.mjs";function b(t,n){if(t&1){let r=O();a(0,"div",4)(1,"label",5)(2,"span"),d(3),l(),a(4,"input",6),P("change",function(e){_(r);let o=s();return C(o.handleOpenFile(e))}),l()()()}if(t&2){let r=s();c(3),u(r.fileInputText)}}function M(t,n){if(t&1&&(a(0,"span",7),d(1),l()),t&2){let r=s();c(),u(r.footerText)}}var k=(()=>{let n=class n{constructor(i,e){this.dataService=i,this.router=e,this.fileInputText="Open Portfolio Holdings Data*:",this.footerText="*Supported file formats: .csv",this.dataService.portfolioSymbols.length>0&&Object.keys(this.dataService.portfolioData).length===this.dataService.portfolioSymbols.length&&Object.keys(this.dataService.portfolioTechnicalInsights).length===this.dataService.portfolioSymbols.length&&this.router.navigateByUrl("/main")}handleOpenFile(i){let e=i.target.files[0],o=new FileReader;o.onload=x=>{let p=o.result.split(`
`);this.dataService.generatePortfolioData(p)},o.readAsText(e)}};n.\u0275fac=function(e){return new(e||n)(f(I),f(T))},n.\u0275cmp=h({type:n,selectors:[["app-portfolio-file-loader"]],standalone:!0,features:[R],decls:6,vars:2,consts:[["fileInputRef",""],["footerRef",""],[1,"add-margin"],["title","Open Portfolio Data",3,"mainContentRef","footerContentRef"],[1,"file-input-container"],[1,"custom-file-upload"],["type","file","accept","text/csv",1,"file-input",3,"change"],[1,"footer-text"]],template:function(e,o){if(e&1&&(v(0,b,5,1,"ng-template",null,0,g)(2,M,2,1,"ng-template",null,1,g),a(4,"section",2),y(5,"container-card",3),l()),e&2){let x=m(1),p=m(3);c(5),S("mainContentRef",x)("footerContentRef",p)}},dependencies:[F],styles:[".file-input-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid slategrey;display:inline-block;padding:2rem 1rem;cursor:pointer;width:max-content}.custom-file-upload[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1rem;padding:2rem 1rem 2rem 0rem}.file-input[_ngcontent-%COMP%]{cursor:pointer}.footer-text[_ngcontent-%COMP%]{float:right}"]});let t=n;return t})();export{k as PortfolioFileLoaderComponent};
