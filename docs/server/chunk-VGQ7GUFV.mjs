import './polyfills.server.mjs';
import{a as w}from"./chunk-I6QBC7XM.mjs";import{a as y,b as M,c as v,d as k}from"./chunk-4NVO3U6Q.mjs";import{a as b,e as A,h as C}from"./chunk-U6TBIIHJ.mjs";import"./chunk-2ZBT5STY.mjs";import{b as E}from"./chunk-QI436PDA.mjs";import"./chunk-E4IE6GEV.mjs";import{N as S,O as T,ba as D}from"./chunk-ZOO27FTS.mjs";import{u as g}from"./chunk-M4BOR6LG.mjs";import{$b as f,Cb as t,Db as n,Eb as u,Mb as x,Wb as i,ab as l,bb as h,ja as p,tb as s}from"./chunk-3SQ4IWRA.mjs";import"./chunk-VVCT4QZE.mjs";var Y=(()=>{let o=class o{constructor(a){this.dataService=a,this.recommendationTrendChartColorScheme={domain:["teal","seagreen","gold","tomato","chocolate"]},this.scaleType=b}ngOnInit(){this.portfolioData=Object.values(this.dataService.portfolioData),this.updateSelectedTicker("AAPL")}getMonthName(a){let r={"0m":0,"-1m":1,"-2m":2,"-3m":3}[a],m=new Date,d=m.getMonth();return m.setMonth(d-r),m.toLocaleString("default",{month:"short"})}updateSelectedTicker(a){this.selectedStock=this.portfolioData.filter(e=>e.symbol===a)[0],this.selectedRecommendationTrend=this.selectedStock.recommendationTrend,this.recommendationTrendChartData=[],this.selectedRecommendationTrend.forEach(e=>{this.recommendationTrendChartData.push({name:this.getMonthName(e.period),series:[{name:"Strong Buy",value:e.strongBuy},{name:"Buy",value:e.buy},{name:"Hold",value:e.hold},{name:"Sell",value:e.sell},{name:"Strong Sell",value:e.strongSell}]})})}};o.\u0275fac=function(e){return new(e||o)(h(D))},o.\u0275cmp=p({type:o,selectors:[["portfolio-analysis"]],standalone:!0,features:[f],decls:24,vars:16,consts:[[3,"expanded"],[1,""],[3,"selectedTicker","showETF"],[1,"chart-container","rec-trends"],[3,"scheme","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","legend","showDataLabel","legendTitle","yAxisLabel"]],template:function(e,r){e&1&&(t(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",1),i(4,"auto_graph"),n(),t(5,"span"),i(6,"Recommendation Trends"),n()()(),t(7,"stock-ticker-buttons",2),x("selectedTicker",function(d){return r.updateSelectedTicker(d)}),n(),t(8,"div",3),u(9,"ngx-charts-bar-vertical-stacked",4),n()(),t(10,"mat-expansion-panel",0)(11,"mat-expansion-panel-header")(12,"mat-panel-title")(13,"mat-icon",1),i(14,"auto_graph"),n(),t(15,"span"),i(16,"Analysis B"),n()()()(),t(17,"mat-expansion-panel",0)(18,"mat-expansion-panel-header")(19,"mat-panel-title")(20,"mat-icon",1),i(21,"auto_graph"),n(),t(22,"span"),i(23,"Analysis C"),n()()()()),e&2&&(s("expanded",!0),l(7),s("showETF",!1),l(2),s("scheme",r.recommendationTrendChartColorScheme)("results",r.recommendationTrendChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("legend",!0)("showDataLabel",!0)("legendTitle","")("yAxisLabel",r.selectedStock.symbol+" Recommendation Trends"),l(),s("expanded",!1),l(7),s("expanded",!1))},dependencies:[g,k,y,M,v,T,S,E,C,A,w],styles:[".rec-trends[_ngcontent-%COMP%]{min-width:25%;max-width:2rem}  div.ngx-charts-outer{display:flex!important;align-items:center!important}  ul.legend-labels{width:min-content!important;background:none!important}"]});let c=o;return c})();export{Y as PortfolioAnalysisComponent};
