import './polyfills.server.mjs';
import{a as N}from"./chunk-QTFRKL2Q.mjs";import{a as E,b as W,c as v,d as C}from"./chunk-E2ID36ZF.mjs";import"./chunk-6RKP56WZ.mjs";import"./chunk-4GXEFY3W.mjs";import"./chunk-UEAIM6S4.mjs";import"./chunk-YG54OGXN.mjs";import{a as D}from"./chunk-CV345SGF.mjs";import{M,N as P}from"./chunk-UY3DO3X5.mjs";import{m as x}from"./chunk-6YJCKQYO.mjs";import{C as h,Db as r,Eb as o,Fb as d,Ob as u,Xb as p,ac as y,ba as g,bb as m,cb as f,q as l,sb as S,ub as s}from"./chunk-D5BORNAZ.mjs";import"./chunk-VVCT4QZE.mjs";function B(i,n){if(i&1&&(r(0,"mat-expansion-panel",1)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),p(4,"list"),o(),r(5,"span"),p(6,"Magnificiant 7+"),o()()(),d(7,"tv-market-quotes-widget",2),o()),i&2){let c=u();s("expanded",!1),m(7),s("stockNames",c.magnificent7PlusWatchlist)("height",400)}}function A(i,n){if(i&1&&(r(0,"mat-expansion-panel",1)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),p(4,"list"),o(),r(5,"span"),p(6,"Potential Buys"),o()()(),d(7,"tv-market-quotes-widget",2),o()),i&2){let c=u();s("expanded",!1),m(7),s("stockNames",c.potentialBuysWatchlist)("height",600)}}var G=(()=>{let n=class n{constructor(e){this.dataService=e,this.magnificent7Symbols=["AAPL","MSFT","META","GOOG","AMZN","NVDA","NFLX","TSLA","SMCI"],this.magnificent7PlusWatchlist=[],this.potentialBuysSymbols=["PG","AMD","AMT","DGRO","DGRW","DIVO","MCHP","OBDC","BAC","NEE","CVS","WFC","NTES","MCD","LOW"],this.potentialBuysWatchlist=[]}ngOnInit(){this.magnificent7Symbols.forEach(e=>{this.dataService.loadStockDataFromDataFolder(e).pipe(l(t=>{if(t.status===500)throw`Api Error: ${e} - ${t.status} - ${t.message}`;return t}),h(t=>(console.log(t),this.dataService.getStockData(e,!0).pipe(l(a=>a[e]))))).subscribe(t=>{this.magnificent7PlusWatchlist.push({name:t.symbol,displayName:`${t.longName} - ${t.symbol}`,changePercent:t.regularMarketChangePercent})})}),this.potentialBuysSymbols.forEach(e=>{this.dataService.loadStockDataFromDataFolder(e).pipe(l(t=>{if(t.status===500)throw`Api Error: ${e} - ${t.status} - ${t.message}`;return t}),h(t=>(console.log(t),this.dataService.getStockData(e,!0).pipe(l(a=>a[e]))))).subscribe(t=>{this.potentialBuysWatchlist.push({name:t.symbol,displayName:`${t.longName} - ${t.symbol}`,changePercent:t.regularMarketChangePercent})})}),this.magnificent7PlusWatchlist.sort((e,t)=>e.changePercent-t.changePercent),this.potentialBuysWatchlist.sort((e,t)=>e.changePercent-t.changePercent)}};n.\u0275fac=function(t){return new(t||n)(f(D))},n.\u0275cmp=g({type:n,selectors:[["app-watchlists"]],standalone:!0,features:[y],decls:2,vars:2,consts:[[3,"expanded",4,"ngIf"],[3,"expanded"],[3,"stockNames","height"]],template:function(t,a){t&1&&S(0,B,8,3,"mat-expansion-panel",0)(1,A,8,3,"mat-expansion-panel",0),t&2&&(s("ngIf",a.magnificent7PlusWatchlist&&a.magnificent7PlusWatchlist.length===a.magnificent7Symbols.length),m(),s("ngIf",a.potentialBuysWatchlist&&a.potentialBuysWatchlist.length===a.potentialBuysSymbols.length))},dependencies:[x,C,E,W,v,P,M,N]});let i=n;return i})();export{G as WatchlistsComponent};
