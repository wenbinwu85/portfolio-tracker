import{b as ee}from"./chunk-AWE7NYHX.js";import{d as $}from"./chunk-HYCLT52H.js";import{d as te}from"./chunk-L5Q3RUZB.js";import{a as ie,b as P,x as re}from"./chunk-RAY5W57K.js";import{f as j,h as q,i as Q,j as U,n as N,o as G,s as K,u as Z}from"./chunk-QSPSCNBK.js";import{b as J}from"./chunk-FUODSAFE.js";import{J as z}from"./chunk-GMCOC7RB.js";import{g as D}from"./chunk-VVNTZD5F.js";import{f as H,g as O,h as B}from"./chunk-HC3HT2CS.js";import{$b as Y,Ab as l,Eb as y,Gb as f,Hb as m,Oc as V,Ra as M,Rb as S,Sb as g,Tb as W,Wa as n,Xa as C,Xb as T,Yb as _,Zb as v,_b as X,dc as A,fa as k,lc as R,mb as d,na as u,oa as p,ob as s,tb as x,ua as I,ub as L,wb as E,xb as F,yb as c,zb as h}from"./chunk-2TNWCKWZ.js";function le(i,o){if(i&1){let t=y();c(0,"button",2),f("click",function(){let e=u(t).$implicit,a=m();return p(a.emitSelectedTicker(e.symbol))}),l(1,"img",3),c(2,"div"),g(3),h()()}if(i&2){let t=o.$implicit,r=m();n(),s("src",r.helperService.getTickerLogo(t.symbol),M),n(2),W(t.symbol)}}function me(i,o){if(i&1){let t=y();c(0,"button",2),f("click",function(){let e=u(t).$implicit,a=m(2);return p(a.emitSelectedTicker(e.symbol))}),l(1,"img",3),c(2,"div"),g(3),h()()}if(i&2){let t=o.$implicit,r=m(2);n(),s("src",r.helperService.getTickerLogo(t.symbol),M),n(2),W(t.symbol)}}function he(i,o){if(i&1&&E(0,me,4,2,"button",1,L),i&2){let t=m();F(t.sortedEtfs)}}var oe=(()=>{let o=class o{constructor(r,e){this.dataService=r,this.helperService=e,this.showETF=!0,this.selectedTicker=new I,this.sortedStocks=[],this.sortedEtfs=[]}ngOnInit(){this.sortedStocks=Object.values(this.dataService.portfolioData).filter(r=>r.quoteType==="EQUITY").sort((r,e)=>r["52WeekChange"].raw-e["52WeekChange"].raw),this.sortedEtfs=Object.values(this.dataService.portfolioData).filter(r=>r.quoteType==="ETF").sort((r,e)=>r.ytdReturn.raw-e.ytdReturn.raw)}emitSelectedTicker(r){this.selectedTicker.emit(r)}};o.\u0275fac=function(e){return new(e||o)(C(D),C(Z))},o.\u0275cmp=k({type:o,selectors:[["stock-ticker-buttons"]],inputs:{showETF:"showETF"},outputs:{selectedTicker:"selectedTicker"},standalone:!0,features:[T],decls:4,vars:1,consts:[[1,"logos-container"],["mat-button","",1,"ticker-button"],["mat-button","",1,"ticker-button",3,"click"],["alt","Logo","width","auto","height","35",3,"src"]],template:function(e,a){e&1&&(c(0,"div",0),E(1,le,4,2,"button",1,L),d(3,he,2,0),h()),e&2&&(n(),F(a.sortedStocks),n(2),x(a.showETF?3:-1))},dependencies:[P,ie],styles:[".logos-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 0rem 1rem}.ticker-button[_ngcontent-%COMP%]{align-items:center;height:5rem}.ticker-button[_ngcontent-%COMP%]:hover{border-left:.3rem solid slategrey}"]});let i=o;return i})();var w=i=>[i],ue=()=>["S&P 500"],pe=()=>({name:"S&P 500",value:"gold"}),de=(i,o)=>[i,o],fe=()=>({name:"SCHD",value:"deepskyblue"}),Ce=()=>({name:"VYM",value:"maroon"}),xe=()=>({name:"JEPI",value:"dodgerblue"}),ye=(i,o,t)=>[i,o,t];function ge(i,o){if(i&1&&l(0,"stock-price-insight",7),i&2){let t=m(2);s("symbol",t.selectedSymbol)}}function _e(i,o){if(i&1){let t=y();c(0,"stock-ticker-buttons",6),f("selectedTicker",function(e){u(t);let a=m();return p(a.updateSelectedStock(e))}),h(),l(1,"mat-divider"),d(2,ge,1,1,"stock-price-insight",7)}if(i&2){let t=m();n(2),x(t.selectedSymbol?2:-1)}}function ve(i,o){if(i&1&&(c(0,"div",9)(1,"div",8),l(2,"ngx-charts-bar-vertical",10),h(),c(3,"div",8),l(4,"ngx-charts-bar-vertical",10),h()(),c(5,"div",9)(6,"div",8),l(7,"ngx-charts-bar-vertical",11),h(),c(8,"div",8),l(9,"ngx-charts-bar-vertical",11),h()(),c(10,"div",9)(11,"div",8),l(12,"ngx-charts-bar-vertical",12),h(),c(13,"div",8),l(14,"ngx-charts-bar-vertical",13),h()()),i&2){let t=m(2);n(2),s("scheme",t.performanceChartColorScheme)("results",t.fiftyDayMAChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yAxisLabel","Price vs 50 Day MA %")("yScaleMin",t.fiftyDayMAChartData[0].value-5)("customColors",v(70,w,t.selectedSymbolColor)),n(2),s("scheme",t.performanceChartColorScheme)("results",t.twoHundredDayMAChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yAxisLabel","Price vs 200 Day MA %")("yScaleMin",t.twoHundredDayMAChartData[0].value-5)("customColors",v(72,w,t.selectedSymbolColor)),n(3),s("scheme",t.fiftyTwoWeekChartColorScheme)("results",t.fiftyTwoWeekLowChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yAxisLabel","Price % above 52 week low")("customColors",v(74,w,t.selectedSymbolColor)),n(2),s("scheme",t.fiftyTwoWeekChartColorScheme)("results",t.fiftyTwoWeekHighChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yAxisLabel","Price % below 52 week high")("customColors",v(76,w,t.selectedSymbolColor)),n(3),s("scheme",t.performanceChartColorScheme)("results",t.fiftyTwoWeekChangeChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yAxisLabel","52 Week Change %")("activeEntries",_(78,ue))("customColors",X(80,de,t.selectedSymbolColor,_(79,pe))),n(2),s("scheme",t.targetPriceChartColorScheme)("results",t.discountChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("rotateXAxisTicks",!0)("yScaleMin",-5)("yAxisLabel","Price % vs mean target price")("customColors",v(83,w,t.selectedSymbolColor))}}function we(i,o){if(i&1&&(c(0,"div",8),l(1,"ngx-charts-bar-vertical-2d",14),h()),i&2){let t=m(2);n(),s("results",t.etfPerformanceChartData)("animations",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("legend",!1)("showDataLabel",!0)("rotateXAxisTicks",!0)("yAxisLabel","ETF Performance %")("customColors",Y(14,ye,_(11,fe),_(12,Ce),_(13,xe)))}}function be(i,o){if(i&1&&d(0,ve,15,85)(1,we,2,18,"div",8),i&2){let t=m();x(t.selectedPerformanceChart===1?0:-1),n(),x(t.selectedPerformanceChart===2?1:-1)}}function ke(i,o){if(i&1){let t=y();c(0,"mat-chip-listbox")(1,"mat-chip-option",15),f("click",function(){u(t);let e=m();return p(e.changePerformanceChart(1))}),g(2," Stocks "),h(),c(3,"mat-chip-option",15),f("click",function(){u(t);let e=m();return p(e.changePerformanceChart(2))}),g(4," ETFs "),h()()}if(i&2){let t=m();n(),s("selected",t.selectedPerformanceChart===1),n(2),s("selected",t.selectedPerformanceChart===2)}}var nt=(()=>{let o=class o{constructor(r,e){this.dataService=r,this.cdr=e,this.sortedStocks=[],this.sortedEtfs=[],this.sp500FiftyTwoWeekChange=0,this.fiftyTwoWeekChangeChartData=[],this.fiftyTwoWeekLowChartData=[],this.fiftyTwoWeekHighChartData=[],this.discountChartData=[],this.fiftyDayMAChartData=[],this.twoHundredDayMAChartData=[],this.etfPerformanceChartData=[],this.sp500="S&P 500",this.selectedPerformanceChart=1,this.selectedSymbol="AAPL",this.selectedSymbolColor={name:"AAPL",value:"chocolate"},this.performanceChartColorScheme={domain:["slategrey"]},this.fiftyTwoWeekChartColorScheme={domain:["slategrey"]},this.targetPriceChartColorScheme={domain:["slategrey"]}}ngOnInit(){this.sortedStocks=Object.values(this.dataService.portfolioData).filter(e=>e.quoteType==="EQUITY").sort((e,a)=>e["52WeekChange"].raw-a["52WeekChange"].raw),this.sortedEtfs=Object.values(this.dataService.portfolioData).filter(e=>e.quoteType==="ETF").sort((e,a)=>e.ytdReturn.raw-a.ytdReturn.raw),this.sp500FiftyTwoWeekChange=this.sortedStocks[0].SandP52WeekChange.raw,this.selectedStock=this.dataService.portfolioData[this.selectedSymbol],console.dir(this.sortedStocks),console.log(this.sortedStocks),this.sortedStocks.forEach(e=>{this.fiftyDayMAChartData.push({name:e.symbol,value:(e.regularMarketPrice.raw-e.fiftyDayAverage.raw)/e.fiftyDayAverage.raw*100}),this.twoHundredDayMAChartData.push({name:e.symbol,value:(e.regularMarketPrice.raw-e.twoHundredDayAverage.raw)/e.twoHundredDayAverage.raw*100}),this.fiftyTwoWeekChangeChartData.push({name:e.symbol,value:e["52WeekChange"].raw*100}),this.fiftyTwoWeekLowChartData.push({name:e.symbol,value:(e.regularMarketPrice.raw-e.fiftyTwoWeekLow.raw)/e.fiftyTwoWeekLow.raw*100}),this.fiftyTwoWeekHighChartData.push({name:e.symbol,value:(e.regularMarketPrice.raw-e.fiftyTwoWeekHigh.raw)/e.fiftyTwoWeekHigh.raw*100}),e.targetMeanPrice.raw&&this.discountChartData.push({name:e.symbol,value:(e.regularMarketPrice.raw-e.targetMeanPrice.raw)/e.targetMeanPrice.raw*100})}),this.fiftyTwoWeekChangeChartData.push({name:this.sp500,value:this.sortedStocks[0].SandP52WeekChange.raw*100}),this.fiftyDayMAChartData.sort((e,a)=>e.value-a.value),this.twoHundredDayMAChartData.sort((e,a)=>e.value-a.value),this.fiftyTwoWeekChangeChartData.sort((e,a)=>e.value-a.value),this.fiftyTwoWeekLowChartData.sort((e,a)=>e.value-a.value),this.fiftyTwoWeekHighChartData.sort((e,a)=>e.value-a.value),this.discountChartData.sort((e,a)=>e.value-a.value);let r={ytd:"Year to Date",oneMonth:"One Month",threeMonth:"Three Month",oneYear:"One Year",threeYear:"Three Year",fiveYear:"Five Year",tenYear:"Ten Year"};Object.keys(r).forEach(e=>{let a={name:r[e],series:[]};this.sortedEtfs.forEach(b=>{a.series.push({name:b.symbol,value:b.fundPerformance.trailingReturns[e].raw*100})}),this.etfPerformanceChartData.push(a)})}changePerformanceChart(r){this.selectedPerformanceChart=r}updateSelectedStock(r){this.selectedSymbol=null,this.cdr.detectChanges(),this.selectedSymbol=r,this.selectedSymbolColor={name:r,value:"chocolate"},this.selectedStock=[this.dataService.portfolioData[r]],this.selectedStock[0].quoteType==="ETF"?this.changePerformanceChart(2):this.changePerformanceChart(1)}};o.\u0275fac=function(e){return new(e||o)(C(D),C(R))},o.\u0275cmp=k({type:o,selectors:[["portfolio-price-insights"]],standalone:!0,features:[T],decls:9,vars:4,consts:[["priceInsightsRef",""],["performanceChartsRef",""],["performanceChartsTitleRef",""],[3,"expandQuotes"],["title","Price Insights",3,"mainContentRef"],["title","Performace Charts",3,"mainContentRef","titleContentRef"],[3,"selectedTicker"],[3,"symbol"],[1,"chart-container"],[1,"add-flex"],[3,"scheme","results","animations","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","rotateXAxisTicks","yAxisLabel","yScaleMin","customColors"],[3,"scheme","results","animations","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","rotateXAxisTicks","yAxisLabel","customColors"],[3,"scheme","results","animations","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","rotateXAxisTicks","yAxisLabel","activeEntries","customColors"],[3,"scheme","results","animations","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","rotateXAxisTicks","yScaleMin","yAxisLabel","customColors"],[3,"results","animations","xAxis","yAxis","showXAxisLabel","showYAxisLabel","legend","showDataLabel","rotateXAxisTicks","yAxisLabel","customColors"],[3,"click","selected"]],template:function(e,a){if(e&1&&(l(0,"stock-price-movement-charts",3),d(1,_e,3,1,"ng-template",null,0,A),l(3,"container-card",4),d(4,be,2,2,"ng-template",null,1,A)(6,ke,5,2,"ng-template",null,2,A),l(8,"container-card",5)),e&2){let b=S(2),ae=S(5),ne=S(7);s("expandQuotes",!1),n(3),s("mainContentRef",b),n(5),s("mainContentRef",ae)("titleContentRef",ne)}},dependencies:[V,B,P,U,Q,q,O,H,$,j,z,J,te,K,N,G,re,ee,oe],styles:[".chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]});let i=o;return i})();export{nt as a};
