import{a as pe}from"./chunk-BVU3B45F.js";import{a as J,b as z,c as G,d as K}from"./chunk-GPOULYNH.js";import{a as me}from"./chunk-ZZH5XO4R.js";import{aa as ae,da as se,fa as ce,ia as le,j as te,l as ie,s as ne,t as re,u as oe}from"./chunk-2KVMJ3HJ.js";import{a as j,b as q}from"./chunk-EAQPCGMJ.js";import{a as E,b as I}from"./chunk-6G5JGSN7.js";import{Ra as Z,Sa as ee,h as U,i as D,j as H,n as Q,o as Y,p as $}from"./chunk-KDKXGZYQ.js";import{$a as u,$b as R,Ba as B,Bb as s,Cb as c,Db as d,Eb as O,Fb as V,Hb as S,Lb as k,Mb as h,Rb as T,Sb as P,Tb as w,Va as F,Vb as p,Wb as _,Xb as v,_a as a,_b as f,ac as M,dc as b,ec as N,fc as L,gc as X,ja as C,qb as g,sb as l,ta as x,ua as y}from"./chunk-AWEJSUHL.js";var ue=["miniChartWidget"],he=(()=>{let r=class r{constructor(e){this.tradingviewService=e,this.width="100%",this.height=200,this.range="12M",this.theme="light"}ngAfterViewInit(){let e=this.tradingviewService.miniChartWidget(this.symbol,this.width,this.height,this.range,this.theme);this.miniChartWidget.nativeElement.appendChild(e)}};r.\u0275fac=function(t){return new(t||r)(u(I))},r.\u0275cmp=C({type:r,selectors:[["tv-mini-chart-widget"]],viewQuery:function(t,o){if(t&1&&T(ue,5),t&2){let m;P(m=w())&&(o.miniChartWidget=m.first)}},inputs:{symbol:"symbol",width:"width",height:"height",range:"range",theme:"theme"},standalone:!0,features:[f],decls:2,vars:0,consts:[["miniChartWidget",""]],template:function(t,o){t&1&&d(0,"div",null,0)},encapsulation:2});let n=r;return n})();var ge=["tickersWidget"],De=(()=>{let r=class r{constructor(e){this.tradingviewService=e,this.symbols=`[
    {
      "title": "S&P 500 Index",
      "proName": "FOREXCOM:SPXUSD"
    },
    {
      "title": "Nasdaq 100",
      "proName": "NASDAQ:NDX"
    },
    {
      "title": "Dow Jones Industrial",
      "proName": "DJI"
    },
    {
      "title": "Bitcoin",
      "proName": "BITSTAMP:BTCUSD"
    },
    {
      "title": "Ethereum",
      "proName": "BITSTAMP:ETHUSD"
    },
    {
      "title": "Dogecoin",
      "proName": "BINANCE:DOGEUSD"
    },
    {
      "title": "USD/RMB",
      "proName": "FX:USDCNH"
    },
    {
      "title": "USD/JPY",
      "proName": "FX:USDJPY"
    },
    {
      "title": "EUR/USD",
      "proName": "FX:EURUSD"
    }
  ]`,this.theme="light",this.displayMode="adaptive"}ngAfterViewInit(){let e=this.tradingviewService.tickersWidget(this.symbols,this.tape,this.displayMode,this.theme);this.tickersWidget.nativeElement.appendChild(e);try{let t=this.tickersWidget.nativeElement.children[1];this.tickersWidget.nativeElement.removeChild(t)}catch{}}};r.\u0275fac=function(t){return new(t||r)(u(I))},r.\u0275cmp=C({type:r,selectors:[["tv-tickers-widget"]],viewQuery:function(t,o){if(t&1&&T(ge,5),t&2){let m;P(m=w())&&(o.tickersWidget=m.first)}},inputs:{symbols:"symbols",tape:"tape",theme:"theme",displayMode:"displayMode"},standalone:!0,features:[f],decls:2,vars:0,consts:[["tickersWidget",""]],template:function(t,o){t&1&&d(0,"div",null,0)},encapsulation:2});let n=r;return n})();var fe=()=>({"padding-right":"1.25rem"}),A=n=>({color:n});function ve(n,r){n&1&&(s(0,"div",12)(1,"span"),p(2,"Portfolio Value Change"),c()())}function xe(n,r){if(n&1&&(s(0,"div",3)(1,"span"),p(2),c(),s(3,"mat-icon"),p(4),c(),s(5,"span",5),p(6),b(7,"currency"),c(),s(8,"span",5),p(9),b(10,"percent"),c()()),n&2){let i=h(2);a(2),_(i.prePostHourText),a(2),_(i.prePostHourIcon),a(),l("ngStyle",M(11,A,i.getDayPriceChangeColor())),a(),v(" ",N(7,6,i.prePostMarketPriceChange)," "),a(2),l("ngStyle",M(13,A,i.getPrePostPriceChangeColor())),a(),v(" (",L(10,8,i.prePostMarketPriceChange/i.portfolioHoldings.portfolioMarketValue,".4"),") ")}}function ye(n,r){if(n&1&&(d(0,"tv-mini-chart-widget",16)(1,"mat-divider",17),s(2,"span"),p(3),c(),s(4,"span"),p(5),c()),n&2){let i=r.model;l("symbol",i.name)("theme","dark"),a(3),v("Pre/Post: ",i.name," "),a(2),v("",i.value.toFixed(2),"%")}}function ke(n,r){if(n&1&&(s(0,"div",3)(1,"div",13)(2,"ngx-charts-bar-vertical",14),g(3,ye,6,4,"ng-template",null,0,X),c()(),s(5,"div",13),d(6,"ngx-charts-bar-vertical-stacked",15),c()()),n&2){let i=h(2);a(2),l("results",i.priceChangeChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Price Change %")("customColors",i.getPriceChangeChartColor),a(4),l("scheme",i.priceRangeColorScheme)("results",i.priceRangeChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Market Day Price Range $")}}function _e(n,r){if(n&1&&(s(0,"div",3)(1,"div",13),d(2,"ngx-charts-bar-vertical",18),c()()),n&2){let i=h(2);a(2),l("scheme",i.betaColorScheme)("schemeType",i.scaleType.Linear)("results",i.betaChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Beta")}}function Se(n,r){if(n&1){let i=S();s(0,"section",2)(1,"div",3),g(2,ve,3,0,"div",4),s(3,"mat-chip-listbox",5)(4,"mat-chip-option",6),k("click",function(){x(i);let t=h();return y(t.displayChart(1))}),p(5,"Today's Change"),c(),s(6,"mat-chip-option",7),k("click",function(){x(i);let t=h();return y(t.displayChart(2))}),p(7,"Beta"),c()()(),s(8,"div",8)(9,"div",3)(10,"span"),p(11,"Regular Market "),c(),s(12,"mat-icon"),p(13,"schedule"),c(),s(14,"span",5),p(15),b(16,"currency"),c(),s(17,"span",5),p(18),b(19,"percent"),c()(),g(20,xe,11,15,"div",9),c(),g(21,ke,7,18,"div",9)(22,_e,3,10,"div",9),s(23,"mat-expansion-panel",10)(24,"mat-expansion-panel-header")(25,"mat-panel-title")(26,"mat-icon"),p(27,"price_change"),c(),s(28,"span"),p(29,"Price Quotes"),c()()(),d(30,"tv-market-quotes-widget",11),c()()}if(n&2){let i=h();a(2),l("ngIf",i.priceChangeChartData),a(),l("ngStyle",R(17,fe)),a(11),l("ngStyle",M(18,A,i.getDayPriceChangeColor())),a(),v(" ",N(16,12,i.priceChange)," "),a(2),l("ngStyle",M(20,A,i.getPrePostPriceChangeColor())),a(),v(" (",L(19,14,i.priceChange/i.portfolioHoldings.portfolioMarketValue,".4"),") "),a(2),l("ngIf",i.prePostMarketPriceChange!==0),a(),l("ngIf",i.selectedChart===1),a(),l("ngIf",i.selectedChart===2),a(),l("expanded",!1),a(7),l("stockNames",i.stockNames)("height",410)}}var qe=(()=>{let r=class r{constructor(e,t){this.dataService=e,this.helper=t,this.showTickers=!0,this.priceChange=0,this.prePostMarketPriceChange=0,this.priceChangeChartData=[],this.priceRangeChartData=[],this.betaChartData=[],this.stockNames=[],this.priceRangeColorScheme={domain:["steelblue","skyblue"]},this.betaColorScheme={domain:["palevioletred"]},this.scaleType=ae,this.selectedChart=1,this.getPriceChangeChartColor=o=>this.portfolioData[o].regularMarketChangePercent>0?"teal":"chocolate"}ngOnInit(){this.portfolioHoldings=this.dataService.portfolioHoldings,this.portfolioData=this.dataService.portfolioData,this.dataService.portfolioSymbols?.forEach(e=>{let t=this.portfolioHoldings[e],o=this.portfolioData[e];this.stockNames.push({name:o.symbol,displayName:`${o.longName} - ${o.symbol} `}),this.priceChange+=o.regularMarketChange*t.sharesOwned;let m=this.helper.getPriceKeyPrefix();m.startsWith("regular")||(this.prePostMarketPriceChange+=o[m+"Change"]*t.sharesOwned,this.prePostHourIcon=m.startsWith("pre")?"light_mode":"dark_mode",this.prePostHourText=m.startsWith("pre")?"Pre Market ":"Post Market "),this.priceChangeChartData.push({name:o.symbol,value:o.regularMarketChangePercent*100||0}),this.priceRangeChartData.push({name:o.symbol,series:[{name:"Low Range",value:o.regularMarketPrice-o.regularMarketDayLow},{name:"High Range",value:o.regularMarketDayHigh-o.regularMarketPrice}]}),o.quoteType==="EQUITY"&&this.betaChartData.push({name:o.symbol,value:o.beta||0})}),this.stockNames.sort((e,t)=>{let o=this.portfolioData[e.name].regularMarketChangePercent,m=this.portfolioData[t.name].regularMarketChangePercent;return o-m}),this.priceChangeChartData.sort((e,t)=>e.value-t.value),this.priceRangeChartData.sort((e,t)=>e.series[0].value+e.series[1].value-(t.series[0].value+t.series[1].value)),this.betaChartData.sort((e,t)=>e.value-t.value)}getDayPriceChangeColor(){return this.priceChange>0?"teal":"chocolate"}getPrePostPriceChangeColor(){return this.prePostMarketPriceChange>0?"teal":"chocolate"}displayChart(e){this.selectedChart=e}};r.\u0275fac=function(t){return new(t||r)(u(E),u(me))},r.\u0275cmp=C({type:r,selectors:[["stock-price-movement-charts"]],inputs:{showTickers:"showTickers"},standalone:!0,features:[f],decls:1,vars:1,consts:[["tooltipTemplate",""],["class","add-border",4,"ngIf"],[1,"add-border"],[1,"add-flex"],["class","title",4,"ngIf"],[3,"ngStyle"],["selected","",3,"click"],[3,"click"],[1,"return-wrapper"],["class","add-flex",4,"ngIf"],[3,"expanded"],[3,"stockNames","height"],[1,"title"],[1,"chart-container"],[3,"results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel","customColors"],[3,"scheme","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel"],[3,"symbol","theme"],[2,"margin","none","border-top-color","slategrey"],[3,"scheme","schemeType","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel"]],template:function(t,o){t&1&&g(0,Se,31,22,"section",1),t&2&&l("ngIf",o.priceChangeChartData.length>0)},dependencies:[$,D,H,Q,Y,oe,re,ne,q,j,K,J,z,G,ee,Z,le,se,ce,he,pe],styles:[".return-wrapper[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;margin-left:1rem;font-size:1.25rem}.return-wrapper[_ngcontent-%COMP%]   .add-flex[_ngcontent-%COMP%]{margin-right:1rem}"]});let n=r;return n})();function Me(n,r){if(n&1){let i=S();s(0,"button",3),k("click",function(){let t=x(i).$implicit,o=h();return y(o.emitSelectedTicker(t.symbol))}),d(1,"img",4),s(2,"div"),p(3),c()()}if(n&2){let i=r.$implicit,e=h();a(),l("src",e.getLogoSource(i),F),a(2),_(i.symbol)}}function be(n,r){if(n&1){let i=S();s(0,"button",3),k("click",function(){let t=x(i).$implicit,o=h(2);return y(o.emitSelectedTicker(t.symbol))}),d(1,"img",4),s(2,"div"),p(3),c()()}if(n&2){let i=r.$implicit,e=h(2);a(),l("src",e.getLogoSource(i),F),a(2),_(i.symbol)}}function Te(n,r){if(n&1&&(O(0),g(1,be,4,2,"button",1),V()),n&2){let i=h();a(),l("ngForOf",i.sortedEtfs)}}var nt=(()=>{let r=class r{constructor(e){this.dataService=e,this.showETF=!0,this.selectedTicker=new B,this.sortedStocks=[],this.sortedEtfs=[]}ngOnInit(){this.sortedStocks=Object.values(this.dataService.portfolioData).filter(e=>e.quoteType==="EQUITY").sort((e,t)=>e["52WeekChange"]-t["52WeekChange"]),this.sortedEtfs=Object.values(this.dataService.portfolioData).filter(e=>e.quoteType==="ETF").sort((e,t)=>e.ytdReturn-t.ytdReturn)}emitSelectedTicker(e){this.selectedTicker.emit(e)}getLogoSource(e){return`/assets/ticker-logos/${e.symbol}.png`}};r.\u0275fac=function(t){return new(t||r)(u(E))},r.\u0275cmp=C({type:r,selectors:[["stock-ticker-buttons"]],inputs:{showETF:"showETF"},outputs:{selectedTicker:"selectedTicker"},standalone:!0,features:[f],decls:3,vars:2,consts:[[1,"logos-container"],["mat-button","","class","ticker-button",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-button","",1,"ticker-button",3,"click"],["alt","Logo","width","auto","height","35",3,"src"]],template:function(t,o){t&1&&(s(0,"div",0),g(1,Me,4,2,"button",1)(2,Te,2,1,"ng-container",2),c()),t&2&&(a(),l("ngForOf",o.sortedStocks),a(),l("ngIf",o.showETF))},dependencies:[U,D,ie,te],styles:[".logos-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 1rem 1rem}.ticker-button[_ngcontent-%COMP%]{align-items:center;height:5rem}.ticker-button[_ngcontent-%COMP%]:hover{border-left:.3rem solid slategrey}"]});let n=r;return n})();export{De as a,qe as b,nt as c};
