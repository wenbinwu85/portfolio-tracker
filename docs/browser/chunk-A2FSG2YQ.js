var fP=Object.create;var fp=Object.defineProperty,pP=Object.defineProperties,mP=Object.getOwnPropertyDescriptor,gP=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertyNames,Pu=Object.getOwnPropertySymbols,vP=Object.getPrototypeOf,pp=Object.prototype.hasOwnProperty,rb=Object.prototype.propertyIsEnumerable;var nb=(t,e,n)=>e in t?fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})pp.call(e,n)&&nb(t,n,e[n]);if(Pu)for(var n of Pu(e))rb.call(e,n)&&nb(t,n,e[n]);return t},De=(t,e)=>pP(t,gP(e));var ib=(t,e)=>{var n={};for(var r in t)pp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Pu)for(var r of Pu(t))e.indexOf(r)<0&&rb.call(t,r)&&(n[r]=t[r]);return n};var T9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _P=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yP(e))!pp.call(t,i)&&i!==n&&fp(t,i,{get:()=>e[i],enumerable:!(r=mP(e,i))||r.enumerable});return t};var C9=(t,e,n)=>(n=t!=null?fP(vP(t)):{},_P(e||!t||!t.__esModule?fp(n,"default",{value:t,enumerable:!0}):n,t));var R=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function sb(t,e){return Object.is(t,e)}var Xe=null,wa=!1,Ou=1,Xt=Symbol("SIGNAL");function de(t){let e=Xe;return Xe=t,e}function ob(){return Xe}function IP(){return wa}var Ds={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vp(t){if(wa)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(t);let e=Xe.nextProducerIndex++;if(Uu(Xe),e<Xe.producerNode.length&&Xe.producerNode[e]!==t&&ba(Xe)){let n=Xe.producerNode[e];ju(n,Xe.producerIndexOfThis[e])}Xe.producerNode[e]!==t&&(Xe.producerNode[e]=t,Xe.producerIndexOfThis[e]=ba(Xe)?db(t,Xe,e):0),Xe.producerLastReadVersion[e]=t.version}function EP(){Ou++}function ab(t){if(!(ba(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ou)){if(!t.producerMustRecompute(t)&&!Lu(t)){t.dirty=!1,t.lastCleanEpoch=Ou;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ou}}function cb(t){if(t.liveConsumerNode===void 0)return;let e=wa;wa=!0;try{for(let n of t.liveConsumerNode)n.dirty||lb(n)}finally{wa=e}}function ub(){return Xe?.consumerAllowSignalWrites!==!1}function lb(t){t.dirty=!0,cb(t),t.consumerMarkedDirty?.(t)}function Da(t){return t&&(t.nextProducerIndex=0),de(t)}function Fu(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ba(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ju(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lu(t){Uu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ab(n),r!==n.version))return!0}return!1}function Vu(t){if(Uu(t),ba(t))for(let e=0;e<t.producerNode.length;e++)ju(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function db(t,e,n){if(hb(t),t.liveConsumerNode.length===0&&fb(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=db(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ju(t,e){if(hb(t),t.liveConsumerNode.length===1&&fb(t))for(let r=0;r<t.producerNode.length;r++)ju(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uu(i),i.producerIndexOfThis[r]=e}}function ba(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fb(t){return t.producerNode!==void 0}function _p(t){let e=Object.create(wP);e.computation=t;let n=()=>{if(ab(e),vp(e),e.value===ku)throw e.error;return e.value};return n[Xt]=e,n}var mp=Symbol("UNSET"),gp=Symbol("COMPUTING"),ku=Symbol("ERRORED"),wP=De(L({},Ds),{value:mp,dirty:!0,error:null,equal:sb,producerMustRecompute(t){return t.value===mp||t.value===gp},producerRecomputeValue(t){if(t.value===gp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=gp;let n=Da(t),r;try{r=t.computation()}catch(i){r=ku,t.error=i}finally{Fu(t,n)}if(e!==mp&&e!==ku&&r!==ku&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function bP(){throw new Error}var pb=bP;function mb(){pb()}function gb(t){pb=t}var DP=null;function yb(t){let e=Object.create(_b);e.value=t;let n=()=>(vp(e),e.value);return n[Xt]=e,n}function Ip(t,e){ub()||mb(),t.equal(t.value,e)||(t.value=e,TP(t))}function vb(t,e){ub()||mb(),Ip(t,e(t.value))}var _b=De(L({},Ds),{equal:sb,value:void 0});function TP(t){t.version++,EP(),cb(t),DP?.()}function Ib(t,e,n){let r=Object.create(CP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(Vu(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=yp)}let a=()=>{if(r.fn===null)return;if(IP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Lu(r))return;r.hasRun=!0;let c=Da(r);try{r.cleanupFn(),r.cleanupFn=yp,r.fn(i)}finally{Fu(r,c)}};return r.ref={notify:()=>lb(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Xt]:r},r.ref}var yp=()=>{},CP=De(L({},Ds),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:yp});function W(t){return typeof t=="function"}function Ts(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bu=Ts(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof Bu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Eb(s)}catch(o){e=e??[],o instanceof Bu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Eb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vi(n,e)}remove(e){let{_finalizers:n}=this;n&&vi(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var Ep=Oe.EMPTY;function $u(t){return t instanceof Oe||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Eb(t){W(t)?t():t.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cs={setTimeout(t,e,...n){let{delegate:r}=Cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hu(t){Cs.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(t);else throw t})}function Ta(){}var wb=wp("C",void 0,void 0);function bb(t){return wp("E",void 0,t)}function Db(t){return wp("N",t,void 0)}function wp(t,e,n){return{kind:t,value:e,error:n}}var _i=null;function As(t){if(mn.useDeprecatedSynchronousErrorHandling){let e=!_i;if(e&&(_i={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=_i;if(_i=null,n)throw r}}else t()}function Tb(t){mn.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=t)}var Ii=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$u(e)&&e.add(this)):this.destination=RP}static create(e,n,r){return new nr(e,n,r)}next(e){this.isStopped?Dp(Db(e),this):this._next(e)}error(e){this.isStopped?Dp(bb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dp(wb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AP=Function.prototype.bind;function bp(t,e){return AP.call(t,e)}var Tp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){zu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){zu(r)}else zu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){zu(n)}}},nr=class extends Ii{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bp(e.next,s),error:e.error&&bp(e.error,s),complete:e.complete&&bp(e.complete,s)}):i=e}this.destination=new Tp(i)}};function zu(t){mn.useDeprecatedSynchronousErrorHandling?Tb(t):Hu(t)}function SP(t){throw t}function Dp(t,e){let{onStoppedNotification:n}=mn;n&&Cs.setTimeout(()=>n(t,e))}var RP={closed:!0,next:Ta,error:SP,complete:Ta};var Ss=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ot(t){return t}function qu(...t){return Cp(t)}function Cp(t){return t.length===0?ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=MP(n)?n:new nr(n,r,i);return As(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Cb(r),new r((i,s)=>{let o=new nr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ss](){return this}pipe(...n){return Cp(n)(this)}toPromise(n){return n=Cb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Cb(t){var e;return(e=t??mn.Promise)!==null&&e!==void 0?e:Promise}function NP(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function MP(t){return t&&t instanceof Ii||NP(t)&&$u(t)}function Ap(t){return W(t?.lift)}function re(t){return e=>{if(Ap(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Sp(t,e,n,r,i)}var Sp=class extends Ii{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Rs(){return re((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ns=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ap(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return Rs()(this)}};var Ab=Ts(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ab}next(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ep:(this.currentObservers=null,s.push(n),new Oe(()=>{this.currentObservers=null,vi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Gu(e,n),t})(),Gu=class extends me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ep}};var He=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ca={now(){return(Ca.delegate||Date).now()},delegate:void 0};var Aa=class extends me{constructor(e=1/0,n=1/0,r=Ca){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Wu=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var Sa={setInterval(t,e,...n){let{delegate:r}=Sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ms=class extends Wu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var xs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};xs.now=Ca.now;var Ps=class extends xs{constructor(e,n=xs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var jr=new Ps(Ms),Rp=jr;var Ku=class extends Ms{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Qu=class extends Ps{};var Np=new Qu(Ku);var At=new Z(t=>t.complete());function Yu(t){return t&&W(t.schedule)}function Mp(t){return t[t.length-1]}function Zu(t){return W(Mp(t))?t.pop():void 0}function Nn(t){return Yu(Mp(t))?t.pop():void 0}function Sb(t,e){return typeof Mp(t)=="number"?t.pop():e}function xp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g3(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Nb(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function c(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Rb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(t){return this instanceof Ei?(this.v=t,this):new Ei(t)}function Mb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(E){return Promise.resolve(E).then(g,p)}}function a(g,E){r[g]&&(i[g]=function(C){return new Promise(function(A,x){s.push([g,C,A,x])>1||c(g,C)})},E&&(i[g]=E(i[g])))}function c(g,E){try{l(r[g](E))}catch(C){y(s[0][3],C)}}function l(g){g.value instanceof Ei?Promise.resolve(g.value.v).then(h,p):y(s[0][2],g)}function h(g){c("next",g)}function p(g){c("throw",g)}function y(g,E){g(E),s.shift(),s.length&&c(s[0][0],s[0][1])}}function xb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rb=="function"?Rb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Os=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ju(t){return W(t?.then)}function Xu(t){return W(t[Ss])}function el(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function tl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=xP();function rl(t){return W(t?.[nl])}function il(t){return Mb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ei(n.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{n.releaseLock()}})}function sl(t){return W(t?.getReader)}function _e(t){if(t instanceof Z)return t;if(t!=null){if(Xu(t))return PP(t);if(Os(t))return OP(t);if(Ju(t))return kP(t);if(el(t))return Pb(t);if(rl(t))return FP(t);if(sl(t))return LP(t)}throw tl(t)}function PP(t){return new Z(e=>{let n=t[Ss]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OP(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kP(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hu)})}function FP(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Pb(t){return new Z(e=>{VP(t,e).catch(n=>e.error(n))})}function LP(t){return Pb(il(t))}function VP(t,e){var n,r,i,s;return Nb(this,void 0,void 0,function*(){try{for(n=xb(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ot(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ur(t,e=0){return re((n,r)=>{n.subscribe(ne(r,i=>Ot(r,t,()=>r.next(i),e),()=>Ot(r,t,()=>r.complete(),e),i=>Ot(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ob(t,e){return _e(t).pipe(Br(e),Ur(e))}function kb(t,e){return _e(t).pipe(Br(e),Ur(e))}function Fb(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Lb(t,e){return new Z(n=>{let r;return Ot(n,e,()=>{r=t[nl](),Ot(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function ol(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Ot(n,e,()=>{let r=t[Symbol.asyncIterator]();Ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vb(t,e){return ol(il(t),e)}function jb(t,e){if(t!=null){if(Xu(t))return Ob(t,e);if(Os(t))return Fb(t,e);if(Ju(t))return kb(t,e);if(el(t))return ol(t,e);if(rl(t))return Lb(t,e);if(sl(t))return Vb(t,e)}throw tl(t)}function Me(t,e){return e?jb(t,e):_e(t)}function q(...t){let e=Nn(t);return Me(t,e)}function ks(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function al(t){return!!t&&(t instanceof Z||W(t.lift)&&W(t.subscribe))}var rr=Ts(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ub(t){return t instanceof Date&&!isNaN(t)}function K(t,e){return re((n,r)=>{let i=0;n.subscribe(ne(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:jP}=Array;function UP(t,e){return jP(e)?t(...e):t(e)}function Fs(t){return K(e=>UP(t,e))}var{isArray:BP}=Array,{getPrototypeOf:$P,prototype:HP,keys:zP}=Object;function cl(t){if(t.length===1){let e=t[0];if(BP(e))return{args:e,keys:null};if(qP(e)){let n=zP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qP(t){return t&&typeof t=="object"&&$P(t)===HP}function ul(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function wi(...t){let e=Nn(t),n=Zu(t),{args:r,keys:i}=cl(t);if(r.length===0)return Me([],e);let s=new Z(GP(r,e,i?o=>ul(i,o):ot));return n?s.pipe(Fs(n)):s}function GP(t,e,n=ot){return r=>{Bb(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Bb(e,()=>{let l=Me(t[c],e),h=!1;l.subscribe(ne(r,p=>{s[c]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Bb(t,e,n){t?Ot(n,t,e):e()}function $b(t,e,n,r,i,s,o,a){let c=[],l=0,h=0,p=!1,y=()=>{p&&!c.length&&!l&&e.complete()},g=C=>l<r?E(C):c.push(C),E=C=>{s&&e.next(C),l++;let A=!1;_e(n(C,h++)).subscribe(ne(e,x=>{i?.(x),s?g(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let x=c.shift();o?Ot(e,o,()=>E(x)):E(x)}y()}catch(x){e.error(x)}}))};return t.subscribe(ne(e,g,()=>{p=!0,y()})),()=>{a?.()}}function ze(t,e,n=1/0){return W(e)?ze((r,i)=>K((s,o)=>e(r,s,i,o))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>$b(r,i,t,n)))}function $r(t=1/0){return ze(ot,t)}function Hb(){return $r(1)}function Hr(...t){return Hb()(Me(t,Nn(t)))}function ll(t){return new Z(e=>{_e(t()).subscribe(e)})}function Pp(...t){let e=Zu(t),{args:n,keys:r}=cl(t),i=new Z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let h=0;h<o;h++){let p=!1;_e(n[h]).subscribe(ne(s,y=>{p||(p=!0,l--),a[h]=y},()=>c--,void 0,()=>{(!c||!p)&&(l||s.next(r?ul(r,a):a),s.complete())}))}});return e?i.pipe(Fs(e)):i}var WP=["addListener","removeListener"],KP=["addEventListener","removeEventListener"],QP=["on","off"];function Op(t,e,n,r){if(W(n)&&(r=n,n=void 0),r)return Op(t,e,n).pipe(Fs(r));let[i,s]=JP(t)?KP.map(o=>a=>t[o](e,a,n)):YP(t)?WP.map(zb(t,e)):ZP(t)?QP.map(zb(t,e)):[];if(!i&&Os(t))return ze(o=>Op(o,e,n))(_e(t));if(!i)throw new TypeError("Invalid event target");return new Z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function zb(t,e){return n=>r=>t[n](e,r)}function YP(t){return W(t.addListener)&&W(t.removeListener)}function ZP(t){return W(t.on)&&W(t.off)}function JP(t){return W(t.addEventListener)&&W(t.removeEventListener)}function Ra(t=0,e,n=Rp){let r=-1;return e!=null&&(Yu(e)?n=e:r=e),new Z(i=>{let s=Ub(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function XP(...t){let e=Nn(t),n=Sb(t,1/0),r=t;return r.length?r.length===1?_e(r[0]):$r(n)(Me(r,e)):At}function Ve(t,e){return re((n,r)=>{let i=0;n.subscribe(ne(r,s=>t.call(e,s,i++)&&r.next(s)))})}function qb(t){return re((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(ne(n,l=>{r=!0,i=l,s||_e(t(l)).subscribe(s=ne(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function eO(t,e=jr){return qb(()=>Ra(t,e))}function gn(t){return re((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ne(n,void 0,void 0,o=>{s=_e(t(o,gn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Gb(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(ne(o,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function ir(t,e){return W(e)?ze(t,e,1):ze(t,1)}function bi(t,e=jr){return re((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(ne(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function zr(t){return re((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yt(t){return t<=0?()=>At:re((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kp(t){return K(()=>t)}function dl(t,e=ot){return t=t??tO,re((n,r)=>{let i,s=!0;n.subscribe(ne(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function tO(t,e){return t===e}function hl(t=nO){return re((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nO(){return new rr}function Di(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,s)=>t(i,s,r)):ot,yt(1),n?zr(e):hl(()=>new rr))}function Ls(t){return t<=0?()=>At:re((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,s)=>t(i,s,r)):ot,Ls(1),n?zr(e):hl(()=>new rr))}function Lp(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?ot:re((s,o)=>{let a=0,c,l=()=>{let h=!1;c=s.subscribe(ne(o,p=>{i&&(a=0),o.next(p)},void 0,p=>{if(a++<n){let y=()=>{c?(c.unsubscribe(),c=null,l()):h=!0};if(r!=null){let g=typeof r=="number"?Ra(r):_e(r(p,a)),E=ne(o,()=>{E.unsubscribe(),y()},()=>{o.complete()});g.subscribe(E)}else y()}else o.error(p)})),h&&(c.unsubscribe(),c=null,l())};l()})}function fl(t,e){return re(Gb(t,e,arguments.length>=2,!0))}function jp(t={}){let{connector:e=()=>new me,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,h=!1,p=!1,y=()=>{a?.unsubscribe(),a=void 0},g=()=>{y(),o=c=void 0,h=p=!1},E=()=>{let C=o;g(),C?.unsubscribe()};return re((C,A)=>{l++,!p&&!h&&y();let x=c=c??e();A.add(()=>{l--,l===0&&!p&&!h&&(a=Vp(E,i))}),x.subscribe(A),!o&&l>0&&(o=new nr({next:V=>x.next(V),error:V=>{p=!0,y(),a=Vp(g,n,V),x.error(V)},complete:()=>{h=!0,y(),a=Vp(g,r),x.complete()}}),_e(C).subscribe(o))})(s)}}function Vp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new nr({next:()=>{r.unsubscribe(),t()}});return _e(e(...n)).subscribe(r)}function Up(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,jp({connector:()=>new Aa(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Na(t){return Ve((e,n)=>t<=n)}function Vs(...t){let e=Nn(t);return re((n,r)=>{(e?Hr(t,n,e):Hr(t,n)).subscribe(r)})}function kt(t,e){return re((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ne(r,c=>{i?.unsubscribe();let l=0,h=s++;_e(t(c,h)).subscribe(i=ne(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function sr(t){return re((e,n)=>{_e(t).subscribe(ne(n,()=>n.complete(),Ta)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ne(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ot}var jD="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(od(e,n)),this.code=e}};function od(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ba(t){return{toString:t}.toString()}var pl="__parameters__";function rO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function UD(t,e,n){return Ba(()=>{let r=rO(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,h){let p=c.hasOwnProperty(pl)?c[pl]:Object.defineProperty(c,pl,{value:[]})[pl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var or=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function iO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function rm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sO=Ae({__forward_ref__:Ae});function BD(t){return t.__forward_ref__=BD,t.toString=function(){return St(this())},t}function at(t){return $D(t)?t():t}function $D(t){return typeof t=="function"&&t.hasOwnProperty(sO)&&t.__forward_ref__===BD}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function We(t){return{providers:t.providers||[],imports:t.imports||[]}}function ad(t){return Wb(t,zD)||Wb(t,qD)}function HD(t){return ad(t)!==null}function Wb(t,e){return t.hasOwnProperty(e)?t[e]:null}function oO(t){let e=t&&(t[zD]||t[qD]);return e||null}function Kb(t){return t&&(t.hasOwnProperty(Qb)||t.hasOwnProperty(aO))?t[Qb]:null}var zD=Ae({\u0275prov:Ae}),Qb=Ae({\u0275inj:Ae}),qD=Ae({ngInjectableDef:Ae}),aO=Ae({ngInjectorDef:Ae}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function GD(t){return t&&!!t.\u0275providers}var cO=Ae({\u0275cmp:Ae}),uO=Ae({\u0275dir:Ae}),lO=Ae({\u0275pipe:Ae}),dO=Ae({\u0275mod:Ae}),Nl=Ae({\u0275fac:Ae}),xa=Ae({__NG_ELEMENT_ID__:Ae}),Yb=Ae({__NG_ENV_ID__:Ae});function Ai(t){return typeof t=="string"?t:t==null?"":String(t)}function hO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ai(t)}function fO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function yg(t,e){throw new $(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),im;function WD(){return im}function Ft(t){let e=im;return im=t,e}function KD(t,e,n){let r=ad(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;yg(t,"Injector")}var pO={},Pa=pO,sm="__NG_DI_FLAG__",Ml="ngTempTokenPath",mO="ngTokenPath",gO=/\n/gm,yO="\u0275",Zb="__source",zs;function vO(){return zs}function qr(t){let e=zs;return zs=t,e}function _O(t,e=le.Default){if(zs===void 0)throw new $(-203,!1);return zs===null?KD(t,void 0,e):zs.get(t,e&le.Optional?null:void 0,e)}function O(t,e=le.Default){return(WD()||_O)(at(t),e)}function M(t,e=le.Default){return O(t,cd(e))}function cd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function om(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){let a=r[o],c=IO(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function QD(t,e){return t[sm]=e,t.prototype[sm]=e,t}function IO(t){return t[sm]}function EO(t,e,n,r){let i=t[Ml];throw e[Zb]&&i.unshift(e[Zb]),t.message=wO(`
`+t.message,i,n,r),t[mO]=i,t[Ml]=null,t}function wO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yO?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gO,`
  `)}`}var Ht=QD(UD("Optional"),8);var ud=QD(UD("SkipSelf"),4);function Si(t,e){let n=t.hasOwnProperty(Nl);return n?t[Nl]:null}function bO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function DO(t){return t.flat(Number.POSITIVE_INFINITY)}function vg(t,e){t.forEach(n=>Array.isArray(n)?vg(n,e):e(n))}function YD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TO(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function CO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ld(t,e,n){let r=$a(t,e);return r>=0?t[r|1]=n:(r=~r,CO(t,r,e,n)),r}function Bp(t,e){let n=$a(t,e);if(n>=0)return t[n|1]}function $a(t,e){return AO(t,e,1)}function AO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ar={},vt=[],Ri=new B(""),ZD=new B("",-1),JD=new B(""),Pl=class{get(e,n=Pa){if(n===Pa){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}},XD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(XD||{}),Pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pn||{}),Wr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wr||{});function SO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function am(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];RO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function eT(t){return t===3||t===4||t===6}function RO(t){return t.charCodeAt(0)===64}function Oa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jb(t,n,i,null,e[++r]):Jb(t,n,i,null,null))}}return t}function Jb(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var tT="ng-template";function NO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_g(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function _g(t){return t.type===4&&t.value!==tT}function MO(t,e,n){let r=t.type===4&&!n?tT:t.value;return e===r}function xO(t,e,n){let r=4,i=t.attrs,s=i!==null?kO(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!vn(r)&&!vn(c))return!1;if(o&&vn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!MO(t,c,n)||c===""&&e.length===1){if(vn(r))return!1;o=!0}}else if(r&8){if(i===null||!NO(t,i,c,n)){if(vn(r))return!1;o=!0}}else{let l=e[++a],h=PO(c,i,_g(t),n);if(h===-1){if(vn(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;o=!0}}}}return vn(r)||o}function vn(t){return(t&1)===0}function PO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return FO(e,t)}function nT(t,e,n=!1){for(let r=0;r<e.length;r++)if(xO(t,e[r],n))return!0;return!1}function OO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kO(t){for(let e=0;e<t.length;e++){let n=t[e];if(eT(n))return e}return t.length}function FO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Xb(t,e){return t?":not("+e.trim()+")":e}function VO(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!vn(o)&&(e+=Xb(s,i),i=""),r=o,s=s||!vn(r);n++}return i!==""&&(e+=Xb(s,i)),e}function jO(t){return t.map(VO).join(",")}function UO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!vn(i))break;i=s}r++}return{attrs:e,classes:n}}function Vi(t){return Ba(()=>{let e=oT(t),n=De(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===XD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""});aT(n);let r=t.dependencies;return n.directiveDefs=tD(r,!1),n.pipeDefs=tD(r,!0),n.id=HO(n),n})}function BO(t){return Kr(t)||Ig(t)}function $O(t){return t!==null}function Ke(t){return Ba(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eD(t,e){if(t==null)return ar;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Wr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Wr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function It(t){return Ba(()=>{let e=oT(t);return aT(e),e})}function Ha(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kr(t){return t[cO]||null}function Ig(t){return t[uO]||null}function rT(t){return t[lO]||null}function iT(t){let e=Kr(t)||Ig(t)||rT(t);return e!==null?e.standalone:!1}function sT(t,e){let n=t[dO]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function oT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eD(t.inputs,e),outputs:eD(t.outputs),debugInfo:null}}function aT(t){t.features?.forEach(e=>e(t))}function tD(t,e){if(!t)return null;let n=e?rT:BO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter($O)}function HO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bn(t){return{\u0275providers:t}}function zO(...t){return{\u0275providers:cT(!0,t),\u0275fromNgModule:!0}}function cT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return vg(e,o=>{let a=o;cm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uT(i,s),n}function uT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eg(i,s=>{e(s,r)})}}function cm(t,e,n,r){if(t=at(t),!t)return!1;let i=null,s=Kb(t),o=!s&&Kr(t);if(!s&&!o){let c=t.ngModule;if(s=Kb(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)cm(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{vg(s.imports,h=>{cm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&uT(l,e)}if(!a){let l=Si(i)||(()=>new i);e({provide:i,useFactory:l,deps:vt},i),e({provide:JD,useValue:i,multi:!0},i),e({provide:Ri,useValue:()=>O(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Eg(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Eg(t,e){for(let n of t)GD(n)&&(n=n.\u0275providers),Array.isArray(n)?Eg(n,e):e(n)}var qO=Ae({provide:String,useValue:Ae});function lT(t){return t!==null&&typeof t=="object"&&qO in t}function GO(t){return!!(t&&t.useExisting)}function WO(t){return!!(t&&t.useFactory)}function Gs(t){return typeof t=="function"}function KO(t){return!!t.useClass}var dd=new B(""),bl={},QO={},$p;function wg(){return $p===void 0&&($p=new Pl),$p}var Rt=class{},ka=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(e,o=>this.processProvider(o)),this.records.set(ZD,js(void 0,this)),i.has("environment")&&this.records.set(Rt,js(void 0,this));let s=this.records.get(dd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JD,vt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qr(this),r=Ft(void 0),i;try{return e()}finally{qr(n),Ft(r)}}get(e,n=Pa,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Yb))return e[Yb](this);r=cd(r);let i,s=qr(this),o=Ft(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=ek(e)&&ad(e);l&&this.injectableDefInScope(l)?c=js(um(e),bl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&le.Self?wg():this.parent;return n=r&le.Optional&&n===Pa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ml]=a[Ml]||[]).unshift(St(e)),s)throw a;return EO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(o),qr(s)}}resolveInjectorInitializers(){let e=de(null),n=qr(this),r=Ft(void 0),i;try{let s=this.get(Ri,vt,le.Self);for(let o of s)o()}finally{qr(n),Ft(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=at(e);let n=Gs(e)?e:at(e&&e.provide),r=ZO(e);if(!Gs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=js(void 0,bl,!0),i.factory=()=>om(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===bl&&(n.value=QO,n.value=n.factory()),typeof n.value=="object"&&n.value&&XO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function um(t){let e=ad(t),n=e!==null?e.factory:Si(t);if(n!==null)return n;if(t instanceof B)throw new $(204,!1);if(t instanceof Function)return YO(t);throw new $(204,!1)}function YO(t){if(t.length>0)throw new $(204,!1);let n=oO(t);return n!==null?()=>n.factory(t):()=>new t}function ZO(t){if(lT(t))return js(void 0,t.useValue);{let e=dT(t);return js(e,bl)}}function dT(t,e,n){let r;if(Gs(t)){let i=at(t);return Si(i)||um(i)}else if(lT(t))r=()=>at(t.useValue);else if(WO(t))r=()=>t.useFactory(...om(t.deps||[]));else if(GO(t))r=()=>O(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(JO(t))r=()=>new i(...om(t.deps));else return Si(i)||um(i)}return r}function js(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JO(t){return!!t.deps}function XO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ek(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function lm(t,e){for(let n of t)Array.isArray(n)?lm(n,e):n&&GD(n)?lm(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof ka&&t.assertNotDestroyed();let n,r=qr(t),i=Ft(void 0);try{return e()}finally{qr(r),Ft(i)}}function hT(){return WD()!==void 0||vO()!=null}function bg(t){if(!hT())throw new $(-203,!1)}function tk(t){return typeof t=="function"}var Lt=0,ee=1,J=2,ut=3,In=4,Vt=5,tn=6,Ol=7,_t=8,Ws=9,On=10,Se=11,Fa=12,nD=13,ro=14,Nt=15,Ni=16,Us=17,cr=18,hd=19,fT=20,Gr=21,Dl=22,en=23,ke=25,Dg=1,La=6,ur=7,kl=8,Ks=9,ct=10,Fl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Fl||{});function En(t){return Array.isArray(t)&&typeof t[Dg]=="object"}function Ln(t){return Array.isArray(t)&&t[Dg]===!0}function Tg(t){return(t.flags&4)!==0}function za(t){return t.componentOffset>-1}function fd(t){return(t.flags&1)===1}function lr(t){return!!t.template}function Ll(t){return(t[J]&512)!==0}var dm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function pT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ji(){return mT}function mT(t){return t.type.prototype.ngOnChanges&&(t.setInput=rk),nk}ji.ngInherit=!0;function nk(){let t=yT(this),e=t?.current;if(e){let n=t.previous;if(n===ar)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rk(t,e,n,r,i){let s=this.declaredInputs[r],o=yT(t)||ik(t,{previous:ar,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new dm(l&&l.currentValue,n,c===ar),pT(t,e,i,n)}var gT="__ngSimpleChanges__";function yT(t){return t[gT]||null}function ik(t,e){return t[gT]=e}var rD=null;var Mn=function(t,e,n){rD?.(t,e,n)},vT="svg",sk="math";function wn(t){for(;Array.isArray(t);)t=t[Lt];return t}function ok(t){for(;Array.isArray(t);){if(typeof t[Dg]=="object")return t;t=t[Lt]}return null}function _T(t,e){return wn(e[t])}function zt(t,e){return wn(e[t.index])}function Cg(t,e){return t.data[e]}function Ag(t,e){return t[e]}function Jr(t,e){let n=e[t];return En(n)?n:n[Lt]}function ak(t){return(t[J]&4)===4}function Sg(t){return(t[J]&128)===128}function ck(t){return Ln(t[ut])}function Qr(t,e){return e==null?null:t[e]}function IT(t){t[Us]=0}function ET(t){t[J]&1024||(t[J]|=1024,Sg(t)&&md(t))}function uk(t,e){for(;t>0;)e=e[ro],t--;return e}function pd(t){return!!(t[J]&9216||t[en]?.dirty)}function hm(t){t[On].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),pd(t)&&md(t)}function md(t){t[On].changeDetectionScheduler?.notify(0);let e=Mi(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Sg(e)));)e=Mi(e)}function wT(t,e){if((t[J]&256)===256)throw new $(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function lk(t,e){if(t[Gr]===null)return;let n=t[Gr].indexOf(e);n!==-1&&t[Gr].splice(n,1)}function Mi(t){let e=t[ut];return Ln(e)?e[ut]:e}var oe={lFrame:RT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bT=!1;function dk(){return oe.lFrame.elementDepthCount}function hk(){oe.lFrame.elementDepthCount++}function fk(){oe.lFrame.elementDepthCount--}function DT(){return oe.bindingsEnabled}function io(){return oe.skipHydrationRootTNode!==null}function pk(t){return oe.skipHydrationRootTNode===t}function mk(t){oe.skipHydrationRootTNode=t}function gk(){oe.skipHydrationRootTNode=null}function X(){return oe.lFrame.lView}function Fe(){return oe.lFrame.tView}function nQ(t){return oe.lFrame.contextLView=t,t[_t]}function rQ(t){return oe.lFrame.contextLView=null,t}function lt(){let t=TT();for(;t!==null&&t.type===64;)t=t.parent;return t}function TT(){return oe.lFrame.currentTNode}function yk(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ui(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Rg(){return oe.lFrame.isParent}function Ng(){oe.lFrame.isParent=!1}function vk(){return oe.lFrame.contextLView}function CT(){return bT}function iD(t){bT=t}function qa(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _k(){return oe.lFrame.bindingIndex}function Ik(t){return oe.lFrame.bindingIndex=t}function Bi(){return oe.lFrame.bindingIndex++}function Mg(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ek(){return oe.lFrame.inI18n}function wk(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,fm(e)}function bk(){return oe.lFrame.currentDirectiveIndex}function fm(t){oe.lFrame.currentDirectiveIndex=t}function xg(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Pg(){return oe.lFrame.currentQueryIndex}function gd(t){oe.lFrame.currentQueryIndex=t}function Dk(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Vt]:null}function AT(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=Dk(s),i===null||(s=s[ro],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=ST();return r.currentTNode=e,r.lView=t,!0}function Og(t){let e=ST(),n=t[ee];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ST(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?RT(t):e}function RT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function NT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MT=NT;function kg(){let t=NT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tk(t){return(oe.lFrame.contextLView=uk(t,oe.lFrame.contextLView))[_t]}function fr(){return oe.lFrame.selectedIndex}function xi(t){oe.lFrame.selectedIndex=t}function Ga(){let t=oe.lFrame;return Cg(t.tView,t.selectedIndex)}function iQ(){oe.lFrame.currentNamespace=vT}function xT(){return oe.lFrame.currentNamespace}var PT=!0;function yd(){return PT}function Xr(t){PT=t}function Ck(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=mT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Tl(t,e,n){OT(t,e,3,n)}function Cl(t,e,n,r){(t[J]&3)===n&&OT(t,e,n,r)}function Hp(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function OT(t,e,n,r){let i=r!==void 0?t[Us]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Us]+=65536),(a<s||s==-1)&&(Ak(t,n,e,c),t[Us]=(t[Us]&4294901760)+c+2),c++}function sD(t,e){Mn(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Mn(5,t,e)}}function Ak(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[Us]>>16&&(t[J]&3)===e&&(t[J]+=16384,sD(a,s)):sD(a,s)}var qs=-1,Pi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Sk(t){return t instanceof Pi}function Rk(t){return(t.flags&8)!==0}function Nk(t){return(t.flags&16)!==0}var zp={},pm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cd(r);let i=this.injector.get(e,zp,r);return i!==zp||n===zp?i:this.parentInjector.get(e,n,r)}};function kT(t){return t!==qs}function Vl(t){return t&32767}function Mk(t){return t>>16}function jl(t,e){let n=Mk(t),r=e;for(;n>0;)r=r[ro],n--;return r}var mm=!0;function Ul(t){let e=mm;return mm=t,e}var xk=256,FT=xk-1,LT=5,Pk=0,xn={};function Ok(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xa)&&(r=n[xa]),r==null&&(r=n[xa]=Pk++);let i=r&FT,s=1<<i;e.data[t+(i>>LT)]|=s}function Bl(t,e){let n=VT(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,qp(r.data,t),qp(e,null),qp(r.blueprint,null));let i=Fg(t,e),s=t.injectorIndex;if(kT(i)){let o=Vl(i),a=jl(i,e),c=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HT(i),r===null)return qs;if(n++,i=i[ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qs}function gm(t,e,n){Ok(t,e,n)}function kk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(eT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function jT(t,e,n){if(n&le.Optional||t!==void 0)return t;yg(e,"NodeInjector")}function UT(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[Ws],s=Ft(void 0);try{return i?i.get(e,r,n&le.Optional):KD(e,r,n&le.Optional)}finally{Ft(s)}}return jT(r,e,n)}function BT(t,e,n,r=le.Default,i){if(t!==null){if(e[J]&2048&&!(r&le.Self)){let o=jk(t,e,n,r,xn);if(o!==xn)return o}let s=$T(t,e,n,r,xn);if(s!==xn)return s}return UT(e,n,r,i)}function $T(t,e,n,r,i){let s=Lk(n);if(typeof s=="function"){if(!AT(e,t,r))return r&le.Host?jT(i,n,r):UT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&le.Optional))yg(n);else return o}finally{MT()}}else if(typeof s=="number"){let o=null,a=VT(t,e),c=qs,l=r&le.Host?e[Nt][Vt]:null;for((a===-1||r&le.SkipSelf)&&(c=a===-1?Fg(t,e):e[a+8],c===qs||!aD(r,!1)?a=-1:(o=e[ee],a=Vl(c),e=jl(c,e)));a!==-1;){let h=e[ee];if(oD(s,a,h.data)){let p=Fk(a,e,n,o,r,l);if(p!==xn)return p}c=e[a+8],c!==qs&&aD(r,e[ee].data[a+8]===l)&&oD(s,a,e)?(o=h,a=Vl(c),e=jl(c,e)):a=-1}}return i}function Fk(t,e,n,r,i,s){let o=e[ee],a=o.data[t+8],c=r==null?za(a)&&mm:r!=o&&(a.type&3)!==0,l=i&le.Host&&s===a,h=Al(a,o,n,c,l);return h!==null?Oi(e,o,h,a):xn}function Al(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,y=i?a+h:l;for(let g=p;g<y;g++){let E=o[g];if(g<c&&n===E||g>=c&&E.type===n)return g}if(i){let g=o[c];if(g&&lr(g)&&g.type===n)return c}return null}function Oi(t,e,n,r){let i=t[n],s=e.data;if(Sk(i)){let o=i;o.resolving&&fO(hO(s[n]));let a=Ul(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ft(o.injectImpl):null,h=AT(t,r,le.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ck(n,s[n],e)}finally{l!==null&&Ft(l),Ul(a),o.resolving=!1,MT()}}return i}function Lk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xa)?t[xa]:void 0;return typeof e=="number"?e>=0?e&FT:Vk:e}function oD(t,e,n){let r=1<<t;return!!(n[e+(t>>LT)]&r)}function aD(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var Ci=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BT(this._tNode,this._lView,e,cd(r),n)}};function Vk(){return new Ci(lt(),X())}function Lg(t){return Ba(()=>{let e=t.prototype.constructor,n=e[Nl]||ym(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Nl]||ym(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ym(t){return $D(t)?()=>{let e=ym(at(t));return e&&e()}:Si(t)}function jk(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=$T(s,o,n,r|le.Self,xn);if(a!==xn)return a;let c=s.parent;if(!c){let l=o[fT];if(l){let h=l.get(n,xn,r);if(h!==xn)return h}c=HT(o),o=o[ro]}s=c}return i}function HT(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Vt]:null}function Vg(t){return kk(lt(),t)}function cD(t,e=null,n=null,r){let i=zT(t,e,n,r);return i.resolveInjectorInitializers(),i}function zT(t,e=null,n=null,r,i=new Set){let s=[n||vt,zO(t)];return r=r||(typeof t=="object"?void 0:St(t)),new ka(s,e||wg(),r||null,i)}var et=class t{static{this.THROW_IF_NOT_FOUND=Pa}static{this.NULL=new Pl}static create(e,n){if(Array.isArray(e))return cD({name:""},n,e,"");{let r=e.name??"";return cD({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=k({token:t,providedIn:"any",factory:()=>O(ZD)})}static{this.__NG_ELEMENT_ID__=-1}};var Uk=new B("");Uk.__NG_ELEMENT_ID__=t=>{let e=lt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new $(204,!1)};var Bk="ngOriginalError";function Gp(t){return t[Bk]}var qT=!0,_d=(()=>{class t{static{this.__NG_ELEMENT_ID__=$k}static{this.__NG_ENV_ID__=n=>n}}return t})(),vm=class extends _d{constructor(e){super(),this._lView=e}onDestroy(e){return wT(this._lView,e),()=>lk(this._lView,e)}};function $k(){return new vm(X())}var pr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}}return t})();var _m=class extends me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,hT()&&(this.destroyRef=M(_d,{optional:!0})??void 0,this.pendingTasks=M(pr,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=_m;function $l(...t){}function GT(t){let e,n;function r(){t=$l;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function uD(t){return queueMicrotask(()=>t()),()=>{t=$l}}var jg="isAngularZone",Hl=jg+"_ID",Hk=0,se=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=qT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Gk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,zk,$l,$l);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zk={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){GT(()=>{t.callbackScheduled=!1,Im(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Im(t)}function Gk(t){let e=()=>{qk(t)},n=Hk++;t._inner=t._inner.fork({name:"angular",properties:{[jg]:!0,[Hl]:n,[Hl+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(Wk(c))return r.invokeTask(s,o,a,c);try{return lD(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dD(t)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return lD(t),r.invoke(s,o,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Kk(c)&&e(),dD(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Im(t),Ug(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Im(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dD(t){t._nesting--,Ug(t)}var Em=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Wk(t){return WT(t,"__ignore_ng_zone__")}function Kk(t){return WT(t,"__scheduler_tick__")}function WT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gp(e);for(;n&&Gp(n);)n=Gp(n);return n||null}},Qk=new B("",{providedIn:"root",factory:()=>{let t=M(se),e=M(kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Yk(){return so(lt(),X())}function so(t,e){return new Qe(zt(t,e))}var Qe=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Yk}}return t})();function KT(t){return t instanceof Qe?t.nativeElement:t}function Zk(){return this._results[Symbol.iterator]()}var Qs=class t{get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Zk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=DO(e);(this._changesDetected=!bO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Jk="ngSkipHydration",Xk="ngskiphydration";function QT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Xk)return!0}return!1}function YT(t){return t.hasAttribute(Jk)}function zl(t){return(t.flags&128)===128}function e1(t){if(zl(t))return!0;let e=t.parent;for(;e;){if(zl(t)||QT(e))return!0;e=e.parent}return!1}var ZT=new Map,t1=0;function n1(){return t1++}function r1(t){ZT.set(t[hd],t)}function wm(t){ZT.delete(t[hd])}var hD="__ngContext__";function Yr(t,e){En(e)?(t[hD]=e[hd],r1(e)):t[hD]=e}function JT(t){return eC(t[Fa])}function XT(t){return eC(t[In])}function eC(t){for(;t!==null&&!Ln(t);)t=t[In];return t}var bm;function tC(t){bm=t}function Wa(){if(bm!==void 0)return bm;if(typeof document<"u")return document;throw new $(210,!1)}var oo=new B("",{providedIn:"root",factory:()=>i1}),i1="ng",Bg=new B(""),Et=new B("",{providedIn:"platform",factory:()=>"unknown"});var Id=new B(""),Ka=new B("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function s1(){let t=new ao;return M(Et)==="browser"&&(t.store=o1(Wa(),M(oo))),t}var ao=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=k({token:t,providedIn:"root",factory:s1})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function o1(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var nC="h",rC="b",Dm=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Dm||{}),a1="e",c1="t",$g="c",iC="x",ql="r",u1="i",l1="n",sC="d";var d1="__nghData__",oC=d1,Wp="ngh",h1="nghm",aC=()=>null;function f1(t,e,n=!1){let r=t.getAttribute(Wp);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let h=e.get(ao,null,{optional:!0});h!==null&&(c=h.get(oC,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ed(l,0,t.nextSibling)),a?t.setAttribute(Wp,a):t.removeAttribute(Wp),l}function p1(){aC=f1}function Hg(t,e,n=!1){return aC(t,e,n)}function m1(t){let e=t._lView;return e[ee].type===2?null:(Ll(e)&&(e=e[ke]),e)}function g1(t){return t.textContent?.replace(/\s/gm,"")}function y1(t){let e=Wa(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=g1(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Ed(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Tm(t,e){return t.segmentHeads?.[e]??null}function v1(t,e){let n=t.data,r=n[a1]?.[e]??null;return r===null&&n[$g]?.[e]&&(r=zg(t,e)),r}function cC(t,e){return t.data[$g]?.[e]??null}function zg(t,e){let n=cC(t,e)??[],r=0;for(let i of n)r+=i[ql]*(i[iC]??1);return r}function _1(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[sC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Qa(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[sC];t.disconnectedNodes=n?new Set(n):null}return!!_1(t)?.has(e)}var ml=new B(""),uC=!1,lC=new B("",{providedIn:"root",factory:()=>uC});var gl;function dC(){if(gl===void 0&&(gl=null,or.trustedTypes))try{gl=or.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gl}function wd(t){return dC()?.createHTML(t)||t}function I1(t){return dC()?.createScriptURL(t)||t}var yl;function hC(){if(yl===void 0&&(yl=null,or.trustedTypes))try{yl=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yl}function fD(t){return hC()?.createHTML(t)||t}function pD(t){return hC()?.createScriptURL(t)||t}var dr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jD})`}},Cm=class extends dr{getTypeName(){return"HTML"}},Am=class extends dr{getTypeName(){return"Style"}},Sm=class extends dr{getTypeName(){return"Script"}},Rm=class extends dr{getTypeName(){return"URL"}},Nm=class extends dr{getTypeName(){return"ResourceURL"}};function sn(t){return t instanceof dr?t.changingThisBreaksApplicationSecurity:t}function mr(t,e){let n=E1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jD})`)}return n===e}function E1(t){return t instanceof dr&&t.getTypeName()||null}function fC(t){return new Cm(t)}function pC(t){return new Am(t)}function mC(t){return new Sm(t)}function gC(t){return new Rm(t)}function yC(t){return new Nm(t)}function w1(t){let e=new xm(t);return b1()?new Mm(e):e}var Mm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(wd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},xm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=wd(e),n}};function b1(){try{return!!new window.DOMParser().parseFromString(wd(""),"text/html")}catch{return!1}}var D1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bd(t){return t=String(t),t.match(D1)?t:"unsafe:"+t}function gr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ya(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var vC=gr("area,br,col,hr,img,wbr"),_C=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IC=gr("rp,rt"),T1=Ya(IC,_C),C1=Ya(_C,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A1=Ya(IC,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mD=Ya(vC,C1,A1,T1),EC=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S1=gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),R1=gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),N1=Ya(EC,S1,R1),M1=gr("script,style,template"),Pm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=O1(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=P1(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=gD(e).toLowerCase();if(!mD.hasOwnProperty(n))return this.sanitizedSomething=!0,!M1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!N1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;EC[a]&&(c=bd(c)),this.buf.push(" ",o,'="',yD(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=gD(e).toLowerCase();mD.hasOwnProperty(n)&&!vC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(yD(e))}};function x1(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function P1(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw wC(e);return e}function O1(t){let e=t.firstChild;if(e&&x1(t,e))throw wC(e);return e}function gD(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function wC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var k1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F1=/([^\#-~ |!])/g;function yD(t){return t.replace(/&/g,"&amp;").replace(k1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(F1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vl;function qg(t,e){let n=null;try{vl=vl||w1(t);let r=e?String(e):"";n=vl.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=vl.getInertBodyElement(r)}while(r!==s);let a=new Pm().sanitizeChildren(vD(n)||n);return wd(a)}finally{if(n){let r=vD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function vD(t){return"content"in t&&L1(t)?t.content:null}function L1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Dn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Dn||{});function sQ(t){let e=Gg();return e?fD(e.sanitize(Dn.HTML,t)||""):mr(t,"HTML")?fD(sn(t)):qg(Wa(),Ai(t))}function V1(t){let e=Gg();return e?e.sanitize(Dn.URL,t)||"":mr(t,"URL")?sn(t):bd(Ai(t))}function j1(t){let e=Gg();if(e)return pD(e.sanitize(Dn.RESOURCE_URL,t)||"");if(mr(t,"ResourceURL"))return pD(sn(t));throw new $(904,!1)}function oQ(t){return I1(t[0])}function U1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?j1:V1}function bC(t,e,n){return U1(e,n)(t)}function Gg(){let t=X();return t&&t[On].sanitizer}var B1=/^>|^->|<!--|-->|--!>|<!-$/g,$1=/(<|>)/g,H1="\u200B$1\u200B";function z1(t){return t.replace(B1,e=>e.replace($1,H1))}function aQ(t){return t.ownerDocument.defaultView}function q1(t){return t.ownerDocument.body}function DC(t){return t instanceof Function?t():t}function Bs(t){return(t??M(et)).get(Et)==="browser"}var Fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fn||{}),G1;function Wg(t,e){return G1(t,e)}function $s(t,e,n,r,i){if(r!=null){let s,o=!1;Ln(r)?s=r:En(r)&&(o=!0,r=r[Lt]);let a=wn(r);t===0&&n!==null?i==null?NC(e,n,a):Gl(e,n,a,i||null,!0):t===1&&n!==null?Gl(e,n,a,i||null,!0):t===2?Yg(e,a,o):t===3&&e.destroyNode(a),s!=null&&sF(e,t,s,n,i)}}function TC(t,e){return t.createText(e)}function W1(t,e,n){t.setValue(e,n)}function CC(t,e){return t.createComment(z1(e))}function Kg(t,e,n){return t.createElement(e,n)}function K1(t,e){AC(t,e),e[Lt]=null,e[Vt]=null}function Q1(t,e,n,r,i,s){r[Lt]=i,r[Vt]=e,Cd(t,r,n,1,i,s)}function AC(t,e){e[On].changeDetectionScheduler?.notify(9),Cd(t,e,e[Se],2,null,null)}function Y1(t){let e=t[Fa];if(!e)return Kp(t[ee],t);for(;e;){let n=null;if(En(e))n=e[Fa];else{let r=e[ct];r&&(n=r)}if(!n){for(;e&&!e[In]&&e!==t;)En(e)&&Kp(e[ee],e),e=e[ut];e===null&&(e=t),En(e)&&Kp(e[ee],e),n=e&&e[In]}e=n}}function Z1(t,e,n,r){let i=ct+r,s=n.length;r>0&&(n[i-1][In]=e),r<s-ct?(e[In]=n[i],YD(n,ct+r,e)):(n.push(e),e[In]=null),e[ut]=n;let o=e[Ni];o!==null&&n!==o&&SC(o,e);let a=e[cr];a!==null&&a.insertView(t),hm(e),e[J]|=128}function SC(t,e){let n=t[Ks],r=e[ut];if(En(r))t[J]|=Fl.HasTransplantedViews;else{let i=r[ut][Nt];e[Nt]!==i&&(t[J]|=Fl.HasTransplantedViews)}n===null?t[Ks]=[e]:n.push(e)}function Qg(t,e){let n=t[Ks],r=n.indexOf(e);n.splice(r,1)}function Va(t,e){if(t.length<=ct)return;let n=ct+e,r=t[n];if(r){let i=r[Ni];i!==null&&i!==t&&Qg(i,r),e>0&&(t[n-1][In]=r[In]);let s=xl(t,ct+e);K1(r[ee],r);let o=s[cr];o!==null&&o.detachView(s[ee]),r[ut]=null,r[In]=null,r[J]&=-129}return r}function Dd(t,e){if(!(e[J]&256)){let n=e[Se];n.destroyNode&&Cd(t,e,n,3,null,null),Y1(e)}}function Kp(t,e){if(e[J]&256)return;let n=de(null);try{e[J]&=-129,e[J]|=256,e[en]&&Vu(e[en]),X1(t,e),J1(t,e),e[ee].type===1&&e[Se].destroy();let r=e[Ni];if(r!==null&&Ln(e[ut])){r!==e[ut]&&Qg(r,e);let i=e[cr];i!==null&&i.detachView(t)}wm(e)}finally{de(n)}}function J1(t,e){let n=t.cleanup,r=e[Ol];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ol]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function X1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Mn(4,a,c);try{c.call(a)}finally{Mn(5,a,c)}}else{Mn(4,i,s);try{s.call(i)}finally{Mn(5,i,s)}}}}}function RC(t,e,n){return eF(t,e.parent,n)}function eF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Lt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Pn.None||s===Pn.Emulated)return null}return zt(r,n)}}function Gl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NC(t,e,n){t.appendChild(e,n)}function _D(t,e,n,r,i){r!==null?Gl(t,e,n,r,i):NC(t,e,n)}function MC(t,e){return t.parentNode(e)}function tF(t,e){return t.nextSibling(e)}function xC(t,e,n){return rF(t,e,n)}function nF(t,e,n){return t.type&40?zt(t,n):null}var rF=nF,ID;function Td(t,e,n,r){let i=RC(t,r,e),s=e[Se],o=r.parent||e[Vt],a=xC(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_D(s,i,n[c],a,!1);else _D(s,i,n,a,!1);ID!==void 0&&ID(s,r,e,n,i)}function Ma(t,e){if(e!==null){let n=e.type;if(n&3)return zt(e,t);if(n&4)return Om(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ma(t,r);{let i=t[e.index];return Ln(i)?Om(-1,i):wn(i)}}else{if(n&128)return Ma(t,e.next);if(n&32)return Wg(e,t)()||wn(t[e.index]);{let r=PC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(t[Nt]);return Ma(i,r)}else return Ma(t,e.next)}}}return null}function PC(t,e){if(e!==null){let r=t[Nt][Vt],i=e.projection;return r.projection[i]}return null}function Om(t,e){let n=ct+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return Ma(r,i)}return e[ur]}function Yg(t,e,n){t.removeChild(null,e,n)}function OC(t){t.textContent=""}function Zg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Yr(wn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Zg(t,e,n.child,r,i,s,!1),$s(e,t,i,a,s);else if(c&32){let l=Wg(n,r),h;for(;h=l();)$s(e,t,i,h,s);$s(e,t,i,a,s)}else c&16?kC(t,e,r,n,i,s):$s(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cd(t,e,n,r,i,s){Zg(n,r,t.firstChild,e,i,s,!1)}function iF(t,e,n){let r=e[Se],i=RC(t,n,e),s=n.parent||e[Vt],o=xC(s,n,e);kC(r,0,e,n,i,o)}function kC(t,e,n,r,i,s){let o=n[Nt],c=o[Vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];$s(e,t,i,h,s)}else{let l=c,h=o[ut];zl(r)&&(l.flags|=128),Zg(t,e,l,h,i,s,!0)}}function sF(t,e,n,r,i){let s=n[ur],o=wn(n);s!==o&&$s(e,t,r,s,i);for(let a=ct;a<n.length;a++){let c=n[a];Cd(c[ee],c,t,e,r,s)}}function oF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fn.Important),t.setStyle(n,r,i,s))}}function aF(t,e,n){t.setAttribute(e,"style",n)}function FC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&am(t,e,r),i!==null&&FC(t,e,i),s!==null&&aF(t,e,s)}var jt={};function cF(t=1){VC(Fe(),X(),fr()+t,!1)}function VC(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Tl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cl(e,s,0,n)}xi(n)}function ce(t,e=le.Default){let n=X();if(n===null)return O(t,e);let r=lt();return BT(r,n,at(t),e)}function jC(){let t="invalid";throw new Error(t)}function UC(t,e,n,r,i,s){let o=de(null);try{let a=null;i&Wr.SignalBased&&(a=e[r][Xt]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Wr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):pT(e,a,r,s)}finally{de(o)}}function uF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xi(~i);else{let s=i,o=n[++r],a=n[++r];wk(o,s);let c=e[s];a(2,c)}}}finally{xi(-1)}}function Ad(t,e,n,r,i,s,o,a,c,l,h){let p=e.blueprint.slice();return p[Lt]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),IT(p),p[ut]=p[ro]=t,p[_t]=n,p[On]=o||t&&t[On],p[Se]=a||t&&t[Se],p[Ws]=c||t&&t[Ws]||null,p[Vt]=s,p[hd]=n1(),p[tn]=h,p[fT]=l,p[Nt]=e.type==2?t[Nt]:p,p}function co(t,e,n,r,i){let s=t.data[e];if(s===null)s=lF(t,e,n,r,i),Ek()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yk();s.injectorIndex=o===null?-1:o.injectorIndex}return Ui(s,!0),s}function lF(t,e,n,r,i){let s=TT(),o=Rg(),a=o?s:s&&s.parent,c=t.data[e]=yF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function BC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $C(t,e,n,r,i){let s=fr(),o=r&2;try{xi(-1),o&&e.length>ke&&VC(t,e,ke,!1),Mn(o?2:0,i),n(r,i)}finally{xi(s),Mn(o?3:1,i)}}function Jg(t,e,n){if(Tg(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{de(r)}}}function Xg(t,e,n){DT()&&(bF(t,e,n,zt(n,e)),(n.flags&64)===64&&GC(t,e,n))}function ey(t,e,n=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function HC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ty(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ty(t,e,n,r,i,s,o,a,c,l,h){let p=ke+r,y=p+i,g=dF(p,y),E=typeof l=="function"?l():l;return g[ee]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}function dF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jt);return n}function hF(t,e,n,r){let s=r.get(lC,uC)||n===Pn.ShadowDom,o=t.selectRootElement(e,s);return fF(o),o}function fF(t){zC(t)}var zC=()=>null;function pF(t){YT(t)?OC(t):y1(t)}function mF(){zC=pF}function gF(t,e,n,r){let i=QC(e);i.push(n),t.firstCreatePass&&YC(t).push(r,i.length-1)}function yF(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return io()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ED(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Wr.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?wD(r,n,l,a,c):wD(r,n,l,a)}return r}function wD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function vF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let p=s[h],y=n?n.get(p):null,g=y?y.inputs:null,E=y?y.outputs:null;c=ED(0,p.inputs,h,c,g),l=ED(1,p.outputs,h,l,E);let C=c!==null&&o!==null&&!_g(e)?OF(c,h,o):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _F(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sd(t,e,n,r,i,s,o,a){let c=zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ry(t,n,h,r,i),za(e)&&IF(n,e.index)):e.type&3?(r=_F(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function IF(t,e){let n=Jr(e,t);n[J]&16||(n[J]|=64)}function ny(t,e,n,r){if(DT()){let i=r===null?null:{"":-1},s=TF(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&qC(t,e,n,o,i,a),i&&CF(n,r,i)}n.mergedAttrs=Oa(n.mergedAttrs,n.attrs)}function qC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)gm(Bl(n,e),t,r[l].type);SF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=BC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Oa(n.mergedAttrs,h.hostAttrs),RF(t,n,e,c,h),AF(c,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}vF(t,n,s)}function EF(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;wF(o)!=a&&o.push(a),o.push(n,r,s)}}function wF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bF(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;za(n)&&NF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bl(n,e),Yr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Oi(e,t,a,n);if(Yr(l,e),o!==null&&PF(e,a-i,l,c,n,o),lr(c)){let h=Jr(n.index,e);h[_t]=Oi(e,t,a,n)}}}function GC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=bk();try{xi(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];fm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DF(c,l)}}finally{xi(-1),fm(o)}}function DF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(nT(e,o.selectors,!1))if(r||(r=[]),lr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;km(t,e,c)}else r.unshift(o),km(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function km(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function AF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function SF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RF(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Si(i.type,!0)),o=new Pi(s,lr(i),ce);t.blueprint[r]=o,n[r]=o,EF(t,e,r,BC(t,n,i.hostVars,jt),i)}function NF(t,e,n){let r=zt(e,t),i=HC(n),s=t[On].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Rd(t,Ad(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function MF(t,e,n,r,i,s){let o=zt(t,e);xF(e[Se],o,s,t.value,n,r,i)}function xF(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ai(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function PF(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],h=o[a++],p=o[a++];UC(r,n,c,l,h,p)}}function OF(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function WC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function KC(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];gd(s),a.contentQueries(2,e[o],o)}}}finally{de(r)}}}function Rd(t,e){return t[Fa]?t[nD][In]=e:t[Fa]=e,t[nD]=e,e}function Fm(t,e,n){gd(0);let r=de(null);try{e(t,n)}finally{de(r)}}function QC(t){return t[Ol]??=[]}function YC(t){return t.cleanup??=[]}function ZC(t,e,n){return(t===null||lr(t))&&(n=ok(n[e.index])),n[Se]}function JC(t,e){let n=t[Ws],r=n?n.get(kn,null):null;r&&r.handleError(e)}function ry(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],h=t.data[o];UC(h,l,r,a,c,i)}}function XC(t,e,n){let r=_T(e,t);W1(t[Se],r,n)}function kF(t,e){let n=Jr(e,t),r=n[ee];FF(r,n);let i=n[Lt];i!==null&&n[tn]===null&&(n[tn]=Hg(i,n[Ws])),iy(r,n,n[_t])}function FF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function iy(t,e,n){Og(e);try{let r=t.viewQuery;r!==null&&Fm(1,r,n);let i=t.template;i!==null&&$C(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cr]?.finishViewCreation(t),t.staticContentQueries&&KC(t,e),t.staticViewQueries&&Fm(2,t.viewQuery,n);let s=t.components;s!==null&&LF(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,kg()}}function LF(t,e){for(let n=0;n<e.length;n++)kF(t,e[n])}function Za(t,e,n,r){let i=de(null);try{let s=e.tView,a=t[J]&4096?4096:16,c=Ad(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ni]=l;let h=t[cr];return h!==null&&(c[cr]=h.createEmbeddedView(s)),iy(s,c,n),c}finally{de(i)}}function e0(t,e){let n=ct+e;if(n<t.length)return t[n]}function Ys(t,e){return!e||e.firstChild===null||zl(t)}function Ja(t,e,n,r=!0){let i=e[ee];if(Z1(i,e,t,n),r){let o=Om(n,t),a=e[Se],c=MC(a,t[ur]);c!==null&&Q1(i,t[Vt],a,e,c,o)}let s=e[tn];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function t0(t,e){let n=Va(t,e);return n!==void 0&&Dd(n[ee],n),n}function Wl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(wn(s)),Ln(s)&&VF(s,r);let o=n.type;if(o&8)Wl(t,e,n.child,r);else if(o&32){let a=Wg(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=PC(e,n);if(Array.isArray(a))r.push(...a);else{let c=Mi(e[Nt]);Wl(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VF(t,e){for(let n=ct;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&Wl(r[ee],r,i,e)}t[ur]!==t[Lt]&&e.push(t[ur])}var n0=[];function jF(t){return t[en]??UF(t)}function UF(t){let e=n0.pop()??Object.create($F);return e.lView=t,e}function BF(t){t.lView[en]!==t&&(t.lView=null,n0.push(t))}var $F=De(L({},Ds),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{md(t.lView)},consumerOnSignalRead(){this.lView[en]=this}});function HF(t){let e=t[en]??Object.create(zF);return e.lView=t,e}var zF=De(L({},Ds),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Mi(t.lView);for(;e&&!r0(e[ee]);)e=Mi(e);e&&ET(e)},consumerOnSignalRead(){this.lView[en]=this}});function r0(t){return t.type!==2}var qF=100;function i0(t,e=!0,n=0){let r=t[On],i=r.rendererFactory,s=!1;s||i.begin?.();try{GF(t,n)}catch(o){throw e&&JC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function GF(t,e){let n=CT();try{iD(!0),Lm(t,e);let r=0;for(;pd(t);){if(r===qF)throw new $(103,!1);r++,Lm(t,1)}}finally{iD(n)}}function WF(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[On].inlineEffectRunner?.flush(),Og(e);let a=!0,c=null,l=null;s||(r0(t)?(l=jF(e),c=Da(l)):ob()===null?(a=!1,l=HF(e),c=Da(l)):e[en]&&(Vu(e[en]),e[en]=null));try{IT(e),Ik(t.bindingStartIndex),n!==null&&$C(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let g=t.preOrderCheckHooks;g!==null&&Tl(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Cl(e,g,0,null),Hp(e,0)}if(o||KF(e),s0(e,0),t.contentQueries!==null&&KC(t,e),!s)if(h){let g=t.contentCheckHooks;g!==null&&Tl(e,g)}else{let g=t.contentHooks;g!==null&&Cl(e,g,1),Hp(e,1)}uF(t,e);let p=t.components;p!==null&&a0(e,p,0);let y=t.viewQuery;if(y!==null&&Fm(2,y,r),!s)if(h){let g=t.viewCheckHooks;g!==null&&Tl(e,g)}else{let g=t.viewHooks;g!==null&&Cl(e,g,2),Hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dl]){for(let g of e[Dl])g();e[Dl]=null}s||(e[J]&=-73)}catch(h){throw s||md(e),h}finally{l!==null&&(Fu(l,c),a&&BF(l)),kg()}}function s0(t,e){for(let n=JT(t);n!==null;n=XT(n))for(let r=ct;r<n.length;r++){let i=n[r];o0(i,e)}}function KF(t){for(let e=JT(t);e!==null;e=XT(e)){if(!(e[J]&Fl.HasTransplantedViews))continue;let n=e[Ks];for(let r=0;r<n.length;r++){let i=n[r];ET(i)}}}function QF(t,e,n){let r=Jr(e,t);o0(r,n)}function o0(t,e){Sg(t)&&Lm(t,e)}function Lm(t,e){let r=t[ee],i=t[J],s=t[en],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Lu(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)WF(r,t,r.template,t[_t]);else if(i&8192){s0(t,1);let a=r.components;a!==null&&a0(t,a,1)}}function a0(t,e,n){for(let r=0;r<e.length;r++)QF(t,e[r],n)}function sy(t,e){let n=CT()?64:1088;for(t[On].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=Mi(t);if(Ll(t)&&!r)return t;t=r}return null}var ki=class{get rootNodes(){let e=this._lView,n=e[ee];return Wl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(Ln(e)){let n=e[kl],r=n?n.indexOf(this):-1;r>-1&&(Va(e,r),xl(n,r))}this._attachedToViewContainer=!1}Dd(this._lView[ee],this._lView)}onDestroy(e){wT(this._lView,e)}markForCheck(){sy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){hm(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,i0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ll(this._lView),n=this._lView[Ni];n!==null&&!e&&Qg(n,this._lView),AC(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Ll(this._lView),r=this._lView[Ni];r!==null&&!n&&SC(r,this._lView),hm(this._lView)}},Fi=(()=>{class t{static{this.__NG_ELEMENT_ID__=JF}}return t})(),YF=Fi,ZF=class extends YF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Za(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ki(i)}};function JF(){return Nd(lt(),X())}function Nd(t,e){return t.type&4?new ZF(e,t,so(t,e)):null}var XF=new RegExp(`^(\\d+)*(${rC}|${nC})*(.*)`);function eL(t){let e=t.match(XF),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,l,h]of s.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[o,...a]}function tL(t){return!t.prev&&t.parent?.type===8}function Qp(t){return t.index-ke}function nL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Md(t,e,n,r){let i=Qp(r),s=nL(t,i);if(s===void 0){let o=t.data[l1];if(o?.[i])s=iL(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(tL(r)){let l=Qp(r.parent);s=Tm(t,l)}else{let l=zt(c,n);if(a)s=l.firstChild;else{let h=Qp(c),p=Tm(t,h);if(c.type===2&&p){let g=zg(t,h)+1;s=xd(g,p)}else s=l.nextSibling}}}}return s}function xd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function rL(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Dm.FirstChild:n=n.firstChild;break;case Dm.NextSibling:n=n.nextSibling;break}}return n}function iL(t,e){let[n,...r]=eL(t),i;if(n===nC)i=e[Nt][Lt];else if(n===rC)i=q1(e[Nt][Lt]);else{let s=Number(n);i=wn(e[s+ke])}return rL(i,r)}var sL=!1;function oL(t){sL=t}function aL(t){let e=t[tn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Se];for(let s of r.values())cL(i,n,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function cL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-ke);i&&Yg(t,i,!1)}}function c0(t){let e=t[La]??[],r=t[ut][Se];for(let i of e)uL(i,r);t[La]=vt}function uL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ql];for(;n<i;){let s=r.nextSibling;Yg(e,r,!1),r=s,n++}}}function u0(t){c0(t);let e=t[Lt];En(e)&&Kl(e);for(let n=ct;n<t.length;n++)Kl(t[n])}function Kl(t){aL(t);let e=t[ee];for(let n=ke;n<e.bindingStartIndex;n++)if(Ln(t[n])){let r=t[n];u0(r)}else En(t[n])&&Kl(t[n])}function lL(t){let e=t._views;for(let n of e){let r=m1(n);r!==null&&r[Lt]!==null&&(En(r)?Kl(r):u0(r))}}function dL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[iC]??1);i++){let s={data:r,firstChild:null};r[ql]>0&&(s.firstChild=t,t=xd(r[ql],t)),n.push(s)}return[t,n]}var l0=()=>null;function hL(t,e){let n=t[La];return!e||n===null||n.length===0?null:n[0].data[u1]===e?n.shift():(c0(t),null)}function fL(){l0=hL}function Zs(t,e){return l0(t,e)}var Js=class{},oy=new B("",{providedIn:"root",factory:()=>!1});var d0=new B(""),h0=new B(""),Vm=class{},Ql=class{};function pL(t){let e=Error(`No component factory found for ${St(t)}.`);return e[mL]=t,e}var mL="ngComponent";var jm=class{resolveComponentFactory(e){throw pL(e)}},Xs=class{static{this.NULL=new jm}},eo=class{},uo=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>gL()}}return t})();function gL(){let t=X(),e=lt(),n=Jr(e.index,t);return(En(n)?n:t)[Se]}var yL=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>null})}}return t})();function Yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=rm(i,a);else if(s==2){let c=a,l=e[++o];r=rm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Zl=class extends Xs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new to(n,this.ngModule)}};function bD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Wr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Wr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function vL(t){let e=t.toLowerCase();return e==="svg"?vT:e==="math"?sk:null}var to=class extends Ql{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=bD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return bD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof Rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new pm(e,o):e,c=a.get(eo,null);if(c===null)throw new $(407,!1);let l=a.get(yL,null),h=a.get(Js,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},y=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",E=r?hF(y,r,this.componentDef.encapsulation,a):Kg(y,g,vL(g)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let A=null;E!==null&&(A=Hg(E,a,!0));let x=ty(0,null,null,1,0,null,null,null,null,null,null),V=Ad(null,x,null,C,null,null,p,y,a,null,A);Og(V);let U,G,pe=null;try{let Y=this.componentDef,w,v=null;Y.findHostDirectiveDefs?(w=[],v=new Map,Y.findHostDirectiveDefs(Y,w,v),w.push(Y)):w=[Y];let _=_L(V,E);pe=IL(_,E,Y,w,V,p,y),G=Cg(x,ke),E&&bL(y,Y,E,r),n!==void 0&&DL(G,this.ngContentSelectors,n),U=wL(pe,Y,w,v,V,[TL]),iy(x,V,null)}catch(Y){throw pe!==null&&wm(pe),wm(V),Y}finally{kg()}return new Um(this.componentType,U,so(G,V),V,G)}finally{de(s)}}},Um=class extends Vm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ki(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ry(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=Jr(this._tNode.index,s);sy(o,1)}}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _L(t,e){let n=t[ee],r=ke;return t[r]=e,co(n,r,2,"#host",null)}function IL(t,e,n,r,i,s,o){let a=i[ee];EL(r,t,e,o);let c=null;e!==null&&(c=Hg(e,i[Ws]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ad(i,HC(n),null,h,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&km(a,t,r.length-1),Rd(i,p),i[t.index]=p}function EL(t,e,n,r){for(let i of t)e.mergedAttrs=Oa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yl(e,e.mergedAttrs,!0),n!==null&&LC(r,n,e))}function wL(t,e,n,r,i,s){let o=lt(),a=i[ee],c=zt(o,i);qC(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,y=Oi(i,a,p,o);Yr(y,i)}GC(a,i,o),c&&Yr(c,i);let l=Oi(i,a,o.directiveStart+o.componentOffset,o);if(t[_t]=i[_t]=l,s!==null)for(let h of s)h(l,e);return Jg(a,o,i),l}function bL(t,e,n,r){if(r)am(t,n,["ng-version","18.2.6"]);else{let{attrs:i,classes:s}=UO(e.selectors[0]);i&&am(t,n,i),s&&s.length>0&&FC(t,n,s.join(" "))}}function DL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function TL(){let t=lt();vd(X()[ee],t)}var yr=(()=>{class t{static{this.__NG_ELEMENT_ID__=CL}}return t})();function CL(){let t=lt();return p0(t,X())}var AL=yr,f0=class extends AL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fg(this._hostTNode,this._hostLView);if(kT(e)){let n=jl(e,this._hostLView),r=Vl(e),i=n[ee].data[r+8];return new Ci(i,n)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=DD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Zs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ys(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!tk(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new to(Kr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let C=(o?l:this.parentInjector).get(Rt,null);C&&(s=C)}let h=Kr(c.componentType??{}),p=Zs(this._lContainer,h?.id??null),y=p?.firstChild??null,g=c.create(l,i,y,s);return this.insertImpl(g.hostView,a,Ys(this._hostTNode,p)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ck(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ut],l=new f0(c,c[Vt],c[ut]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ja(o,i,s,r),e.attachToViewContainerRef(),YD(Yp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=DD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Va(this._lContainer,n);r&&(xl(Yp(this._lContainer),n),Dd(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=Va(this._lContainer,n);return r&&xl(Yp(this._lContainer),n)!=null?new ki(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DD(t){return t[kl]}function Yp(t){return t[kl]||(t[kl]=[])}function p0(t,e){let n,r=e[t.index];return Ln(r)?n=r:(n=WC(r,e,null,t),e[t.index]=n,Rd(e,n)),m0(n,e,t,r),new f0(n,t,e)}function SL(t,e){let n=t[Se],r=n.createComment(""),i=zt(e,t),s=MC(n,i);return Gl(n,s,r,tF(n,i),!1),r}var m0=g0,ay=()=>!1;function RL(t,e,n){return ay(t,e,n)}function g0(t,e,n,r){if(t[ur])return;let i;n.type&8?i=wn(r):i=SL(e,n),t[ur]=i}function NL(t,e,n){if(t[ur]&&t[La])return!0;let r=n[tn],i=e.index-ke;if(!r||e1(e)||Qa(r,i))return!1;let o=Tm(r,i),a=r.data[$g]?.[i],[c,l]=dL(o,a);return t[ur]=c,t[La]=l,!0}function ML(t,e,n,r){ay(t,n,e)||g0(t,e,n,r)}function xL(){m0=ML,ay=NL}var Bm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},$m=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)uy(e,n).matches!==null&&this.queries[n].setDirty()}},Jl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=VL(e):this.predicate=e}},Hm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,PL(n,s)),this.matchTNodeWithReadOption(e,n,Al(n,e,s,!1,!1))}else r===Fi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Al(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qe||i===yr||i===Fi&&n.type&4)this.addMatch(n.index,-2);else{let s=Al(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function PL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function OL(t,e){return t.type&11?so(t,e):t.type&4?Nd(t,e):null}function kL(t,e,n,r){return n===-1?OL(e,t):n===-2?FL(t,e,r):Oi(t,t[ee],n,e)}function FL(t,e,n){if(n===Qe)return so(e,t);if(n===Fi)return Nd(e,t);if(n===yr)return p0(e,t)}function y0(t,e,n,r){let i=e[cr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let h=s[l];a.push(kL(e,h,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function qm(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=y0(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-c];for(let p=ct;p<h.length;p++){let y=h[p];y[Ni]===y[ut]&&qm(y[ee],y,l,r)}if(h[Ks]!==null){let p=h[Ks];for(let y=0;y<p.length;y++){let g=p[y];qm(g[ee],g,l,r)}}}}}return r}function cy(t,e){return t[cr].queries[e].queryList}function v0(t,e,n){let r=new Qs((n&4)===4);return gF(t,e,r,r.destroy),(e[cr]??=new $m).queries.push(new Bm(r))-1}function LL(t,e,n){let r=Fe();return r.firstCreatePass&&(I0(r,new Jl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),v0(r,X(),e)}function _0(t,e,n,r){let i=Fe();if(i.firstCreatePass){let s=lt();I0(i,new Jl(e,n,r),s.index),jL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return v0(i,X(),n)}function VL(t){return t.split(",").map(e=>e.trim())}function I0(t,e,n){t.queries===null&&(t.queries=new Hm),t.queries.track(new zm(e,n))}function jL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function uy(t,e){return t.queries.getByIndex(e)}function E0(t,e){let n=t[ee],r=uy(n,e);return r.crossesNgTemplate?qm(n,t,e,[]):y0(n,t,r,e)}var TD=new Set;function on(t){TD.has(t)||(TD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ly(t){return typeof t=="function"&&t[Xt]!==void 0}function UL(t,e){on("NgSignals");let n=yb(t),r=n[Xt];return e?.equal&&(r.equal=e.equal),n.set=i=>Ip(r,i),n.update=i=>vb(r,i),n.asReadonly=BL.bind(n),n}function BL(){let t=this[Xt];if(t.readonlyFn===void 0){let e=()=>this();e[Xt]=t,t.readonlyFn=e}return t.readonlyFn}function w0(t,e){let n,r=_p(()=>{n._dirtyCounter();let i=qL(n,t);if(e&&i===void 0)throw new $(-951,!1);return i});return n=r[Xt],n._dirtyCounter=UL(0),n._flatValue=void 0,r}function $L(){return w0(!0,!1)}function HL(){return w0(!0,!0)}function zL(t,e){let n=t[Xt];n._lView=X(),n._queryIndex=e,n._queryList=cy(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function qL(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[J]&4)return e?void 0:vt;let i=cy(n,r),s=E0(n,r);return i.reset(s,KT),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function CD(t,e){return $L()}function GL(t,e){return HL()}var lQ=(CD.required=GL,CD);function WL(t){return Object.getPrototypeOf(t.prototype).constructor}function KL(t){let e=WL(t.type),n=!0,r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=_l(t.inputs),o.inputTransforms=_l(t.inputTransforms),o.declaredInputs=_l(t.declaredInputs),o.outputs=_l(t.outputs);let a=i.hostBindings;a&&XL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&ZL(t,c),l&&JL(t,l),QL(t,i),iO(t.outputs,i.outputs),lr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===KL&&(n=!1)}}e=Object.getPrototypeOf(e)}YL(r)}function QL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function YL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oa(i.hostAttrs,n=Oa(n,i.hostAttrs))}}function _l(t){return t===ar?{}:t===vt?[]:t}function ZL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function JL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function XL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dQ(t){let e=n=>{let r=(Array.isArray(t)?t:t()).map(i=>typeof i=="function"?{directive:at(i),inputs:ar,outputs:ar}:{directive:at(i.directive),inputs:AD(i.inputs),outputs:AD(i.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=b0,n.hostDirectives=r):n.hostDirectives.unshift(...r)};return e.ngInherit=!0,e}function b0(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives){let i=Ig(r.directive);eV(i.declaredInputs,r.inputs),b0(i,e,n),n.set(i,r),e.push(i)}}function AD(t){if(t===void 0||t.length===0)return ar;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function eV(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function $i(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zr=class{},ja=class{};var Gm=class extends Zr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zl(this);let s=sT(e);this._bootstrapComponents=DC(s.bootstrap),this._r3Injector=zT(e,n,[{provide:Zr,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wm=class extends ja{constructor(e){super(),this.moduleType=e}create(e){return new Gm(this.moduleType,e,[])}};var Xl=class extends Zr{constructor(e){super(),this.componentFactoryResolver=new Zl(this),this.instance=null;let n=new ka([...e.providers,{provide:Zr,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],e.parent||wg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pd(t,e,n=null){return new Xl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function D0(t){return dy(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function tV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dy(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hy(t,e,n){return t[e]=n}function nV(t,e){return t[e]}function nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function T0(t,e,n,r){let i=nn(t,e,n);return nn(t,e+1,r)||i}function Xa(t){return(t.flags&32)===32}function rV(t,e,n,r,i,s,o,a,c){let l=e.consts,h=co(e,t,4,o||null,a||null);ny(e,n,h,Qr(l,c)),vd(e,h);let p=h.tView=ty(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function ed(t,e,n,r,i,s,o,a,c,l){let h=n+ke,p=e.firstCreatePass?rV(h,e,t,r,i,s,o,a,c):e.data[h];Ui(p,!1);let y=A0(e,t,p,n);yd()&&Td(e,t,y,p),Yr(y,t);let g=WC(y,t,y,p);return t[h]=g,Rd(t,g),RL(g,p,t),fd(p)&&Xg(e,t,p),c!=null&&ey(t,p,l),p}function C0(t,e,n,r,i,s,o,a){let c=X(),l=Fe(),h=Qr(l.consts,s);return ed(c,l,t,e,n,r,i,h,o,a),C0}var A0=S0;function S0(t,e,n,r){return Xr(!0),e[Se].createComment("")}function iV(t,e,n,r){let i=e[tn],s=!i||io()||Xa(n)||Qa(i,r);if(Xr(s),s)return S0(t,e,n,r);let o=i.data[c1]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Md(i,t,e,n);Ed(i,r,a);let c=zg(i,r);return xd(c,a)}function sV(){A0=iV}var Hs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Hs||{}),R0=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Km=class t{constructor(){this.ngZone=M(se),this.scheduler=M(Js),this.errorHandler=M(kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Hs.EarlyRead,Hs.Write,Hs.MixedReadWrite,Hs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}},Qm=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function oV(t,e){!e?.injector&&bg(oV);let n=e?.injector??M(et);return Bs(n)?(on("NgAfterRender"),N0(t,n,e,!1)):M0}function ec(t,e){!e?.injector&&bg(ec);let n=e?.injector??M(et);return Bs(n)?(on("NgAfterNextRender"),N0(t,n,e,!0)):M0}function aV(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function N0(t,e,n,r){let i=e.get(R0);i.impl??=e.get(Km);let s=n?.phase??Hs.MixedReadWrite,o=new Qm(i.impl,aV(t,s),r,e.get(_d));return i.impl.register(o),o}var M0={destroy(){}};function Hi(t,e,n,r){let i=X(),s=Bi();if(nn(i,s,e)){let o=Fe(),a=Ga();MF(a,i,t,e,n,r)}return Hi}function fy(t,e,n,r){return nn(t,Bi(),n)?e+Ai(n)+r:jt}function cV(t,e,n,r,i,s){let o=_k(),a=T0(t,o,n,i);return Mg(2),a?e+Ai(n)+r+Ai(i)+s:jt}function Il(t,e){return t<<17|e<<2}function Li(t){return t>>17&32767}function uV(t){return(t&2)==2}function lV(t,e){return t&131071|e<<17}function Ym(t){return t|2}function no(t){return(t&131068)>>2}function Zp(t,e){return t&-131069|e<<2}function dV(t){return(t&1)===1}function Zm(t){return t|1}function hV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Li(o),c=no(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||$a(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let y=Li(t[a+1]);t[r+1]=Il(y,a),y!==0&&(t[y+1]=Zp(t[y+1],r)),t[a+1]=lV(t[a+1],r)}else t[r+1]=Il(a,0),a!==0&&(t[a+1]=Zp(t[a+1],r)),a=r;else t[r+1]=Il(c,0),a===0?a=r:t[c+1]=Zp(t[c+1],r),c=r;l&&(t[r+1]=Ym(t[r+1])),SD(t,h,r,!0),SD(t,h,r,!1),fV(e,h,t,r,s),o=Il(a,c),s?e.classBindings=o:e.styleBindings=o}function fV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&$a(s,e)>=0&&(n[r+1]=Zm(n[r+1]))}function SD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Li(i):no(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];pV(c,e)&&(a=!0,t[o+1]=r?Zm(l):Ym(l)),o=r?Li(l):no(l)}a&&(t[n+1]=r?Ym(i):Zm(i))}function pV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$a(t,e)>=0:!1}var _n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mV(t){return t.substring(_n.key,_n.keyEnd)}function gV(t){return yV(t),x0(t,P0(t,0,_n.textEnd))}function x0(t,e){let n=_n.textEnd;return n===e?-1:(e=_n.keyEnd=vV(t,_n.key=e,n),P0(t,e,n))}function yV(t){_n.key=0,_n.keyEnd=0,_n.value=0,_n.valueEnd=0,_n.textEnd=t.length}function P0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function vV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function O0(t,e,n){let r=X(),i=Bi();if(nn(r,i,e)){let s=Fe(),o=Ga();Sd(s,o,r,t,e,r[Se],n,!1)}return O0}function Jm(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ry(t,n,s[o],o,r)}function k0(t,e,n){return L0(t,e,n,!1),k0}function zi(t,e){return L0(t,e,null,!0),zi}function hQ(t){V0(DV,F0,t,!0)}function F0(t,e){for(let n=gV(e);n>=0;n=x0(e,n))ld(t,mV(e),!0)}function L0(t,e,n,r){let i=X(),s=Fe(),o=Mg(2);if(s.firstUpdatePass&&U0(s,t,o,r),e!==jt&&nn(i,o,e)){let a=s.data[fr()];B0(s,a,i,i[Se],t,i[o+1]=CV(e,n),r,o)}}function V0(t,e,n,r){let i=Fe(),s=Mg(2);i.firstUpdatePass&&U0(i,null,s,r);let o=X();if(n!==jt&&nn(o,s,n)){let a=i.data[fr()];if($0(a,r)&&!j0(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=rm(c,n||"")),Jm(i,a,o,n,r)}else TV(i,a,o,o[Se],o[s+1],o[s+1]=bV(t,e,n),r,s)}}function j0(t,e){return e>=t.expandoStartIndex}function U0(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[fr()],o=j0(t,n);$0(s,r)&&e===null&&!o&&(e=!1),e=_V(i,s,e,r),hV(i,s,e,n,o,r)}}function _V(t,e,n,r){let i=xg(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jp(null,t,e,n,r),n=Ua(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Jp(i,t,e,n,r),s===null){let c=IV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Jp(null,t,e,c[1],r),c=Ua(c,e.attrs,r),EV(t,e,r,c))}else s=wV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function IV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(no(r)!==0)return t[Li(r)]}function EV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Li(i)]=r}function wV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ua(r,o,n)}return Ua(r,e.attrs,n)}function Jp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ua(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ua(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ld(t,o,n?!0:e[++s]))}return t===void 0?null:t}function bV(t,e,n){if(n==null||n==="")return vt;let r=[],i=sn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function DV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ld(t,r,n)}function TV(t,e,n,r,i,s,o,a){i===jt&&(i=vt);let c=0,l=0,h=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let y=c<i.length?i[c+1]:void 0,g=l<s.length?s[l+1]:void 0,E=null,C;h===p?(c+=2,l+=2,y!==g&&(E=p,C=g)):p===null||h!==null&&h<p?(c+=2,E=h):(l+=2,E=p,C=g),E!==null&&B0(t,e,n,r,E,C,o,a),h=c<i.length?i[c]:null,p=l<s.length?s[l]:null}}function B0(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=dV(l)?RD(c,e,n,i,no(l),o):void 0;if(!td(h)){td(s)||uV(l)&&(s=RD(c,null,n,i,a,o));let p=_T(fr(),n);oF(r,o,p,i,s)}}function RD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,y=n[i+1];y===jt&&(y=p?vt:void 0);let g=p?Bp(y,r):h===r?y:void 0;if(l&&!td(g)&&(g=Bp(c,r)),td(g)&&(a=g,o))return a;let E=t[i+1];i=o?Li(E):no(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Bp(c,r))}return a}function td(t){return t!==void 0}function CV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(sn(t)))),t}function $0(t,e){return(t.flags&(e?8:16))!==0}function fQ(t,e,n){let r=X(),i=fy(r,t,e,n);V0(ld,F0,i,!0)}var Xm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Xp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function AV(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=t.at(s),h=e[s],p=Xp(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let y=t.at(o),g=e[c],E=Xp(o,y,c,g,n);if(E!==0){E<0&&t.updateValue(o,g),o--,c--;continue}let C=n(s,l),A=n(o,y),x=n(s,h);if(Object.is(x,A)){let V=n(c,g);Object.is(V,C)?(t.swap(s,o),t.updateValue(o,g),c--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new nd,i??=MD(t,s,o,n),eg(t,r,s,x))t.updateValue(s,h),s++,o++;else if(i.has(x))r.set(C,t.detach(s)),o--;else{let V=t.create(s,e[s]);t.attach(s,V),s++,o++}}for(;s<=c;)ND(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,y=Xp(s,h,s,p,n);if(y!==0)y<0&&t.updateValue(s,p),s++,l=c.next();else{r??=new nd,i??=MD(t,s,o,n);let g=n(s,p);if(eg(t,r,s,g))t.updateValue(s,p),s++,o++,l=c.next();else if(!i.has(g))t.attach(s,t.create(s,p)),s++,o++,l=c.next();else{let E=n(s,h);r.set(E,t.detach(s)),o--}}}for(;!l.done;)ND(t,r,n,t.length,l.value),l=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function eg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ND(t,e,n,r,i){if(eg(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function MD(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var nd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function SV(t,e){on("NgControlFlow");let n=X(),r=Bi(),i=n[r]!==jt?n[r]:-1,s=i!==-1?rd(n,ke+i):void 0,o=0;if(nn(n,r,t)){let a=de(null);try{if(s!==void 0&&t0(s,o),t!==-1){let c=ke+t,l=rd(n,c),h=ig(n[ee],c),p=Zs(l,h.tView.ssrId),y=Za(n,h,e,{dehydratedView:p});Ja(l,y,o,Ys(h,p))}}finally{de(a)}}else if(s!==void 0){let a=e0(s,o);a!==void 0&&(a[_t]=e)}}var tg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ct}};function pQ(t){return t}function mQ(t,e){return e}var ng=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function gQ(t,e,n,r,i,s,o,a,c,l,h,p,y){on("NgControlFlow");let g=X(),E=Fe(),C=c!==void 0,A=X(),x=a?o.bind(A[Nt][_t]):o,V=new ng(C,x);A[ke+t]=V,ed(g,E,t+1,e,n,r,i,Qr(E.consts,s)),C&&ed(g,E,t+2,c,l,h,p,Qr(E.consts,y))}var rg=class extends Xm{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ct}at(e){return this.getLView(e)[_t].$implicit}attach(e,n){let r=n[tn];this.needsIndexUpdate||=e!==this.length,Ja(this.lContainer,n,e,Ys(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,RV(this.lContainer,e)}create(e,n){let r=Zs(this.lContainer,this.templateTNode.tView.ssrId),i=Za(this.hostLView,this.templateTNode,new tg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Dd(e[ee],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[_t].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[_t].$index=e}getLView(e){return NV(this.lContainer,e)}};function yQ(t){let e=de(null),n=fr();try{let r=X(),i=r[ee],s=r[n],o=n+1,a=rd(r,o);if(s.liveCollection===void 0){let l=ig(i,o);s.liveCollection=new rg(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(AV(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=Bi(),h=c.length===0;if(nn(r,l,h)){let p=n+2,y=rd(r,p);if(h){let g=ig(i,p),E=Zs(y,g.tView.ssrId),C=Za(r,g,void 0,{dehydratedView:E});Ja(y,C,0,Ys(g,E))}else t0(y,0)}}}finally{de(e)}}function rd(t,e){return t[e]}function RV(t,e){return Va(t,e)}function NV(t,e){return e0(t,e)}function ig(t,e){return Cg(t,e)}function MV(t,e,n,r,i,s){let o=e.consts,a=Qr(o,i),c=co(e,t,2,r,a);return ny(e,n,c,Qr(o,s)),c.attrs!==null&&Yl(c,c.attrs,!1),c.mergedAttrs!==null&&Yl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function py(t,e,n,r){let i=X(),s=Fe(),o=ke+t,a=i[Se],c=s.firstCreatePass?MV(o,s,i,e,n,r):s.data[o],l=H0(s,i,c,a,e,t);i[o]=l;let h=fd(c);return Ui(c,!0),LC(a,l,c),!Xa(c)&&yd()&&Td(s,i,l,c),dk()===0&&Yr(l,i),hk(),h&&(Xg(s,i,c),Jg(s,c,i)),r!==null&&ey(i,c),py}function my(){let t=lt();Rg()?Ng():(t=t.parent,Ui(t,!1));let e=t;pk(e)&&gk(),fk();let n=Fe();return n.firstCreatePass&&(vd(n,t),Tg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Rk(e)&&Jm(n,e,X(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Nk(e)&&Jm(n,e,X(),e.stylesWithoutHost,!1),my}function Od(t,e,n,r){return py(t,e,n,r),my(),Od}var H0=(t,e,n,r,i,s)=>(Xr(!0),Kg(r,i,xT()));function xV(t,e,n,r,i,s){let o=e[tn],a=!o||io()||Xa(n)||Qa(o,s);if(Xr(a),a)return Kg(r,i,xT());let c=Md(o,t,e,n);return cC(o,s)&&Ed(o,s,c.nextSibling),o&&(QT(n)||YT(c))&&za(n)&&(mk(n),OC(c)),c}function PV(){H0=xV}function OV(t,e,n,r,i){let s=e.consts,o=Qr(s,r),a=co(e,t,8,"ng-container",o);o!==null&&Yl(a,o,!0);let c=Qr(s,i);return ny(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function z0(t,e,n){let r=X(),i=Fe(),s=t+ke,o=i.firstCreatePass?OV(s,i,r,e,n):i.data[s];Ui(o,!0);let a=G0(i,r,o,t);return r[s]=a,yd()&&Td(i,r,a,o),Yr(a,r),fd(o)&&(Xg(i,r,o),Jg(i,o,r)),n!=null&&ey(r,o),z0}function q0(){let t=lt(),e=Fe();return Rg()?Ng():(t=t.parent,Ui(t,!1)),e.firstCreatePass&&(vd(e,t),Tg(t)&&e.queries.elementEnd(t)),q0}function kV(t,e,n){return z0(t,e,n),q0(),kV}var G0=(t,e,n,r)=>(Xr(!0),CC(e[Se],""));function FV(t,e,n,r){let i,s=e[tn],o=!s||io()||Qa(s,r)||Xa(n);if(Xr(o),o)return CC(e[Se],"");let a=Md(s,t,e,n),c=v1(s,r);return Ed(s,r,a),i=xd(c,a),i}function LV(){G0=FV}function vQ(){return X()}function W0(t,e,n){let r=X(),i=Bi();if(nn(r,i,e)){let s=Fe(),o=Ga();Sd(s,o,r,t,e,r[Se],n,!0)}return W0}function VV(t,e,n){let r=X(),i=Bi();if(nn(r,i,e)){let s=Fe(),o=Ga(),a=xg(s.data),c=ZC(a,o,r);Sd(s,o,r,t,e,c,n,!0)}return VV}var Ti=void 0;function jV(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var UV=["en",[["a","p"],["AM","PM"],Ti],[["AM","PM"],Ti,Ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ti,"{1} 'at' {0}",Ti],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jV],em={};function Ut(t){let e=BV(t),n=xD(e);if(n)return n;let r=e.split("-")[0];if(n=xD(r),n)return n;if(r==="en")return UV;throw new $(701,!1)}function xD(t){return t in em||(em[t]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[t]),em[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function BV(t){return t.toLowerCase().replace(/_/g,"-")}var id="en-US",$V="USD";var HV=id;function zV(t){typeof t=="string"&&(HV=t.toLowerCase().replace(/_/g,"-"))}var qV=(t,e,n)=>{};function kd(t,e,n,r){let i=X(),s=Fe(),o=lt();return K0(s,i,i[Se],o,t,e,r),kd}function GV(t,e){let n=lt(),r=X(),i=Fe(),s=xg(i.data),o=ZC(s,n,r);return K0(i,r,o,n,t,e),GV}function WV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ol],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function K0(t,e,n,r,i,s,o){let a=fd(r),l=t.firstCreatePass&&YC(t),h=e[_t],p=QC(e),y=!0;if(r.type&3||o){let C=zt(r,e),A=o?o(C):C,x=p.length,V=o?G=>o(wn(G[r.index])):r.index,U=null;if(!o&&a&&(U=WV(t,e,i,r.index)),U!==null){let G=U.__ngLastListenerFn__||U;G.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,y=!1}else{s=OD(r,e,h,s),qV(C,i,s);let G=n.listen(A,i,s);p.push(s,G),l&&l.push(i,V,x,x+1)}}else s=OD(r,e,h,s);let g=r.outputs,E;if(y&&g!==null&&(E=g[i])){let C=E.length;if(C)for(let A=0;A<C;A+=2){let x=E[A],V=E[A+1],pe=e[x][V].subscribe(s),Y=p.length;p.push(s,pe),l&&l.push(i,r.index,Y,-(Y+1))}}}function PD(t,e,n,r){let i=de(null);try{return Mn(6,e,n),n(r)!==!1}catch(s){return JC(t,s),!1}finally{Mn(7,e,n),de(i)}}function OD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Jr(t.index,e):e;sy(o,5);let a=PD(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=PD(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function KV(t=1){return Tk(t)}function QV(t,e){let n=null,r=OO(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?nT(t,s,!0):LO(r,s))return i}return n}function Q0(t){let e=X()[Nt][Vt];if(!e.projection){let n=t?t.length:1,r=e.projection=TO(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?QV(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Y0(t,e=0,n,r,i,s){let o=X(),a=Fe(),c=r?t+1:null;c!==null&&ed(o,a,c,r,i,s,null,n);let l=co(a,ke+t,16,null,n||null);l.projection===null&&(l.projection=e),Ng();let p=!o[tn]||io();o[Nt][Vt].projection[l.projection]===null&&c!==null?YV(o,a,c):p&&(l.flags&32)!==32&&iF(a,o,l)}function YV(t,e,n){let r=ke+n,i=e.data[r],s=t[r],o=Zs(s,i.tView.ssrId),a=Za(t,i,void 0,{dehydratedView:o});Ja(s,a,0,Ys(i,o))}function ZV(t,e,n){return Z0(t,"",e,"",n),ZV}function Z0(t,e,n,r,i){let s=X(),o=fy(s,e,n,r);if(o!==jt){let a=Fe(),c=Ga();Sd(a,c,s,t,o,s[Se],i,!1)}return Z0}function JV(t,e,n,r){_0(t,e,n,r)}function XV(t,e,n){LL(t,e,n)}function J0(t){let e=X(),n=Fe(),r=Pg();gd(r+1);let i=uy(n,r);if(t.dirty&&ak(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=E0(e,r);t.reset(s,KT),t.notifyOnChanges()}return!0}return!1}function X0(){return cy(X(),Pg())}function _Q(t,e,n,r,i){zL(e,_0(t,n,r,i))}function IQ(t=1){gd(Pg()+t)}function ej(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function EQ(t){let e=vk();return Ag(e,ke+t)}function tj(t,e=""){let n=X(),r=Fe(),i=t+ke,s=r.firstCreatePass?co(r,i,1,e,null):r.data[i],o=eA(r,n,s,e,t);n[i]=o,yd()&&Td(r,n,o,s),Ui(s,!1)}var eA=(t,e,n,r,i)=>(Xr(!0),TC(e[Se],r));function nj(t,e,n,r,i){let s=e[tn],o=!s||io()||Xa(n)||Qa(s,i);return Xr(o),o?TC(e[Se],r):Md(s,t,e,n)}function rj(){eA=nj}function ij(t){return gy("",t,""),ij}function gy(t,e,n){let r=X(),i=fy(r,t,e,n);return i!==jt&&XC(r,fr(),i),gy}function sj(t,e,n,r,i){let s=X(),o=cV(s,t,e,n,r,i);return o!==jt&&XC(s,fr(),o),sj}function oj(t,e,n){let r=Fe();if(r.firstCreatePass){let i=lr(t);sg(n,r.data,r.blueprint,i,!0),sg(e,r.data,r.blueprint,i,!1)}}function sg(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)sg(t[s],e,n,r,i);else{let s=Fe(),o=X(),a=lt(),c=Gs(t)?t:at(t.provide),l=dT(t),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Gs(t)||!t.multi){let g=new Pi(l,i,ce),E=nm(c,e,i?h:h+y,p);E===-1?(gm(Bl(a,o),s,c),tm(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[E]=g,o[E]=g)}else{let g=nm(c,e,h+y,p),E=nm(c,e,h,h+y),C=g>=0&&n[g],A=E>=0&&n[E];if(i&&!A||!i&&!C){gm(Bl(a,o),s,c);let x=uj(i?cj:aj,n.length,i,r,l);!i&&A&&(n[E].providerFactory=x),tm(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=tA(n[i?E:g],l,!i&&r);tm(s,t,g>-1?g:E,x)}!i&&r&&A&&n[E].componentProviders++}}}function tm(t,e,n,r){let i=Gs(e),s=KO(e);if(i||s){let c=(s?at(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function tA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function nm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function aj(t,e,n,r){return og(this.multi,[])}function cj(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Oi(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),og(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],og(i,s);return s}function og(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function uj(t,e,n,r,i){let s=new Pi(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,tA(s,i,r&&!n),s}function nA(t,e=[]){return n=>{n.providersResolver=(r,i)=>oj(r,i?i(t):t,e)}}var lj=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cT(!1,n.type),i=r.length>0?Pd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=k({token:t,providedIn:"environment",factory:()=>new t(O(Rt))})}}return t})();function qi(t){on("NgStandalone"),t.getStandaloneInjector=e=>e.get(lj).getOrCreateStandaloneInjector(t)}function wQ(t,e,n){let r=qa()+t,i=X();return i[r]===jt?hy(i,r,n?e.call(n):e()):nV(i,r)}function bQ(t,e,n,r){return iA(X(),qa(),t,e,n,r)}function DQ(t,e,n,r,i){return sA(X(),qa(),t,e,n,r,i)}function rA(t,e){let n=t[e];return n===jt?void 0:n}function iA(t,e,n,r,i,s){let o=e+n;return nn(t,o,i)?hy(t,o+1,s?r.call(s,i):r(i)):rA(t,o+1)}function sA(t,e,n,r,i,s,o){let a=e+n;return T0(t,a,i,s)?hy(t,a+2,o?r.call(o,i,s):r(i,s)):rA(t,a+2)}function TQ(t,e){let n=Fe(),r,i=t+ke;n.firstCreatePass?(r=dj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Si(r.type,!0)),o,a=Ft(ce);try{let c=Ul(!1),l=s();return Ul(c),ej(n,X(),i,l),l}finally{Ft(a)}}function dj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function CQ(t,e,n){let r=t+ke,i=X(),s=Ag(i,r);return oA(i,r)?iA(i,qa(),e,s.transform,n,s):s.transform(n)}function AQ(t,e,n,r){let i=t+ke,s=X(),o=Ag(s,i);return oA(s,i)?sA(s,qa(),e,o.transform,n,r,o):o.transform(n,r)}function oA(t,e){return t[ee].data[e].pure}function SQ(t,e){return Nd(t,e)}var hr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},aA=new hr("18.2.6");var Fd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var cA=new B("");function tc(t){return!!t&&typeof t.then=="function"}function uA(t){return!!t&&typeof t.subscribe=="function"}var Ld=new B(""),lA=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(Ld,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(tc(s))n.push(s);else if(uA(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gi=new B("");function hj(){gb(()=>{throw new $(600,!1)})}function fj(t){return t.isBoundToModule}var pj=10;function mj(t,e,n){try{let r=n();return tc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(Qk),this.afterRenderManager=M(R0),this.zonelessEnabled=M(oy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new me,this.afterTick=new me,this.componentTypes=[],this.components=[],this.isStable=M(pr).hasPendingTasks.pipe(K(n=>!n)),this._injector=M(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ql;if(!this._injector.get(lA).done){let y=!i&&iT(n),g=!1;throw new $(405,g)}let o;i?o=n:o=this._injector.get(Xs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=fj(o)?void 0:this._injector.get(Zr),c=r||o.selector,l=o.create(et.NULL,[],c,a),h=l.location.nativeElement,p=l.injector.get(cA,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Sl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(eo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<pj;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)gj(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Sl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Gi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Sl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var El;function Vd(t){El??=new WeakMap;let e=El.get(t);if(e)return e;let n=t.isStable.pipe(yn(r=>r)).toPromise().then(()=>{});return El.set(t,n),t.onDestroy(()=>El?.delete(t)),n}function gj(t,e,n,r){if(!n&&!pd(t))return;i0(t,e,n&&!r?0:1)}var ag=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jd=(()=>{class t{compileModuleSync(n){return new Wm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=sT(n),s=DC(i.declarations).reduce((o,a)=>{let c=Kr(a);return c&&o.push(new to(c)),o},[]);return new ag(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yj=(()=>{class t{constructor(){this.zone=M(se),this.changeDetectionScheduler=M(Js),this.applicationRef=M(Vn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vj({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new se(De(L({},_j()),{scheduleInRootZone:n})),[{provide:se,useFactory:t},{provide:Ri,multi:!0,useFactory:()=>{let r=M(yj,{optional:!0});return()=>r.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{let r=M(Ij);return()=>{r.initialize()}}},e===!0?{provide:d0,useValue:!0}:[],{provide:h0,useValue:n??qT}]}function _j(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ij=(()=>{class t{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=M(se),this.pendingTasks=M(pr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ej=(()=>{class t{constructor(){this.appRef=M(Vn),this.taskService=M(pr),this.ngZone=M(se),this.zonelessEnabled=M(oy),this.disableScheduling=M(d0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(h0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Em||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?uD:GT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wj(){return typeof $localize<"u"&&$localize.locale||id}var Wi=new B("",{providedIn:"root",factory:()=>M(Wi,le.Optional|le.SkipSelf)||wj()}),dA=new B("",{providedIn:"root",factory:()=>$V});var hA=new B("");function wl(t){return!!t.platformInjector}function bj(t){let e=wl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(se);return n.run(()=>{wl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(kn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),wl(t)){let s=()=>e.destroy(),o=t.platformInjector.get(hA);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Sl(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return mj(r,n,()=>{let s=e.get(lA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Wi,id);if(zV(o||id),wl(t)){let a=e.get(Vn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Dj(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Dj(t,e){let n=t.injector.get(Vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Rl=null;function Tj(t=[],e){return et.create({name:e,providers:[{provide:dd,useValue:"platform"},{provide:hA,useValue:new Set([()=>Rl=null])},...t]})}function Cj(t=[]){if(Rl)return Rl;let e=Tj(t);return Rl=e,hj(),Aj(e),e}function Aj(t){t.get(Bg,null)?.forEach(n=>n())}var Ki=(()=>{class t{static{this.__NG_ELEMENT_ID__=Sj}}return t})();function Sj(t){return Rj(lt(),X(),(t&16)===16)}function Rj(t,e,n){if(za(t)&&!n){let r=Jr(t.index,e);return new ki(r,r)}else if(t.type&175){let r=e[Nt];return new ki(r,e)}return null}var cg=class{constructor(){}supports(e){return D0(e)}create(e){return new ug(e)}},Nj=(t,e)=>e,ug=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Nj}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<kD(r,i,s)?n:r,a=kD(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=c-i;if(l!=h){for(let y=0;y<l;y++){let g=y<s.length?s[y]:s[y]=0,E=g+y;h<=E&&E<l&&(s[y]=g+1)}let p=o.previousIndex;s[p]=h-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!D0(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,tV(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new lg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var hg=class{constructor(){}supports(e){return e instanceof Map||dy(e)}create(){return new fg}},fg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||dy(e)))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new pg(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},pg=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function FD(){return new yy([new cg])}var yy=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:FD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||FD()),deps:[[t,new ud,new Ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function LD(){return new vy([new hg])}var vy=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:LD})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||LD()),deps:[[t,new ud,new Ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new $(901,!1)}}return t})();function fA(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Cj(r),s=[vj({}),{provide:Js,useExisting:Ej},...n||[]],o=new Xl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return bj({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var pA=new B("");var VD=!1;function Mj(){VD||(VD=!0,p1(),PV(),rj(),LV(),sV(),xL(),fL(),mF())}function xj(t,e){return Vd(t)}function mA(){return bn([{provide:ml,useFactory:()=>{let t=!0;return Bs()&&(t=!!M(ao,{optional:!0})?.get(oC,null)),t&&on("NgHydration"),t}},{provide:Ri,useValue:()=>{oL(!1),Bs()&&M(ml)&&(Pj(),Mj())},multi:!0},{provide:lC,useFactory:()=>Bs()&&M(ml)},{provide:Gi,useFactory:()=>{if(Bs()&&M(ml)){let t=M(Vn),e=M(et);return()=>{xj(t,e).then(()=>{lL(t)})}}return()=>{}},multi:!0}])}function Pj(){let t=Wa(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===h1){e=n;break}if(!e)throw new $(-507,!1)}function vr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Oj(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function RQ(t,e){on("NgSignals");let n=_p(t);return e?.equal&&(n[Xt].equal=e.equal),n}function kj(t){let e=de(null);try{return t()}finally{de(e)}}var Fj=new B("",{providedIn:"root",factory:()=>M(Lj)}),Lj=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>new mg})}}return t})(),mg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=M(pr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},gg=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=Ib(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(kn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function _y(t,e){on("NgSignals"),!e?.injector&&bg(_y);let n=e?.injector??M(et),r=e?.manualCleanup!==!0?n.get(_d):null,i=new gg(n.get(Fj),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Ki,null,{optional:!0});return!s||!(s._lView[J]&8)?i.watcher.notify():(s._lView[Dl]??=[]).push(i.watcher.notify),i}function gA(t){let e=Kr(t);if(!e)return null;let n=new to(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var TA=null;function lo(){return TA}function CA(t){TA??=t}var Kd=class{};var we=new B(""),Ny=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(Vj),providedIn:"platform"})}}return t})(),AA=new B(""),Vj=(()=>{class t extends Ny{constructor(){super(),this._doc=M(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lo().getBaseHref(this._doc)}onPopState(n){let r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function My(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function yA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ir(t){return t&&t[0]!=="?"?"?"+t:t}var wr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(xy),providedIn:"root"})}}return t})(),SA=new B(""),xy=(()=>{class t extends wr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return My(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(O(Ny),O(SA,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RA=(()=>{class t extends wr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=My(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(O(Ny),O(SA,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),fo=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Bj(yA(vA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(Uj(this._basePath,vA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ir}static{this.joinWithSlash=My}static{this.stripTrailingSlash=yA}static{this.\u0275fac=function(r){return new(r||t)(O(wr))}}static{this.\u0275prov=k({token:t,factory:()=>jj(),providedIn:"root"})}}return t})();function jj(){return new fo(O(wr))}function Uj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vA(t){return t.replace(/\/index.html$/,"")}function Bj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var NA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Py=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Py||{});var xt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(xt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),qt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(qt||{}),dt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $j(t){return Ut(t)[Be.LocaleId]}function Hj(t,e,n){let r=Ut(t),i=[r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],s=an(i,e);return an(s,n)}function zj(t,e,n){let r=Ut(t),i=[r[Be.DaysFormat],r[Be.DaysStandalone]],s=an(i,e);return an(s,n)}function qj(t,e,n){let r=Ut(t),i=[r[Be.MonthsFormat],r[Be.MonthsStandalone]],s=an(i,e);return an(s,n)}function Gj(t,e){let r=Ut(t)[Be.Eras];return an(r,e)}function Ud(t,e){let n=Ut(t);return an(n[Be.DateFormat],e)}function Bd(t,e){let n=Ut(t);return an(n[Be.TimeFormat],e)}function $d(t,e){let r=Ut(t)[Be.DateTimeFormat];return an(r,e)}function Cn(t,e){let n=Ut(t),r=n[Be.NumberSymbols][e];if(typeof r>"u"){if(e===dt.CurrencyDecimal)return n[Be.NumberSymbols][dt.Decimal];if(e===dt.CurrencyGroup)return n[Be.NumberSymbols][dt.Group]}return r}function MA(t,e){return Ut(t)[Be.NumberFormats][e]}function Wj(t){return Ut(t)[Be.Currencies]}function xA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kj(t){let e=Ut(t);return xA(e),(e[Be.ExtraData][2]||[]).map(r=>typeof r=="string"?Iy(r):[Iy(r[0]),Iy(r[1])])}function Qj(t,e,n){let r=Ut(t);xA(r);let i=[r[Be.ExtraData][0],r[Be.ExtraData][1]],s=an(i,e)||[];return an(s,n)||[]}function an(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Iy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function Yj(t,e,n="en"){let r=Wj(n)[t]||NA[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var Zj=2;function Jj(t){let e,n=NA[t];return n&&(e=n[2]),typeof e=="number"?e:Zj}var Xj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hd={},eU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Er=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Er||{}),Ee=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ee||{}),Ie=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ie||{});function tU(t,e,n,r){let i=lU(t);e=_r(n,e)||e;let o=[],a;for(;e;)if(a=eU.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=OA(r,c),i=uU(i,r,!0));let l="";return o.forEach(h=>{let p=aU(h);l+=p?p(i,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Qd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function _r(t,e){let n=$j(t);if(Hd[n]??={},Hd[n][e])return Hd[n][e];let r="";switch(e){case"shortDate":r=Ud(t,qt.Short);break;case"mediumDate":r=Ud(t,qt.Medium);break;case"longDate":r=Ud(t,qt.Long);break;case"fullDate":r=Ud(t,qt.Full);break;case"shortTime":r=Bd(t,qt.Short);break;case"mediumTime":r=Bd(t,qt.Medium);break;case"longTime":r=Bd(t,qt.Long);break;case"fullTime":r=Bd(t,qt.Full);break;case"short":let i=_r(t,"shortTime"),s=_r(t,"shortDate");r=zd($d(t,qt.Short),[i,s]);break;case"medium":let o=_r(t,"mediumTime"),a=_r(t,"mediumDate");r=zd($d(t,qt.Medium),[o,a]);break;case"long":let c=_r(t,"longTime"),l=_r(t,"longDate");r=zd($d(t,qt.Long),[c,l]);break;case"full":let h=_r(t,"fullTime"),p=_r(t,"fullDate");r=zd($d(t,qt.Full),[h,p]);break}return r&&(Hd[n][e]=r),r}function zd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Tn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function nU(t,e){return Tn(t,3).substring(0,e)}function Ye(t,e,n=0,r=!1,i=!1){return function(s,o){let a=rU(t,s);if((n>0||a>-n)&&(a+=n),t===Ee.Hours)a===0&&n===-12&&(a=12);else if(t===Ee.FractionalSeconds)return nU(a,e);let c=Cn(o,dt.MinusSign);return Tn(a,e,c,r,i)}}function rU(t,e){switch(t){case Ee.FullYear:return e.getFullYear();case Ee.Month:return e.getMonth();case Ee.Date:return e.getDate();case Ee.Hours:return e.getHours();case Ee.Minutes:return e.getMinutes();case Ee.Seconds:return e.getSeconds();case Ee.FractionalSeconds:return e.getMilliseconds();case Ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,e,n=xt.Format,r=!1){return function(i,s){return iU(i,s,t,e,n,r)}}function iU(t,e,n,r,i,s){switch(n){case Ie.Months:return qj(e,i,r)[t.getMonth()];case Ie.Days:return zj(e,i,r)[t.getDay()];case Ie.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=Kj(e),h=Qj(e,i,r),p=l.findIndex(y=>{if(Array.isArray(y)){let[g,E]=y,C=o>=g.hours&&a>=g.minutes,A=o<E.hours||o===E.hours&&a<E.minutes;if(g.hours<E.hours){if(C&&A)return!0}else if(C||A)return!0}else if(y.hours===o&&y.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Hj(e,i,r)[o<12?0:1];case Ie.Eras:return Gj(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function qd(t){return function(e,n,r){let i=-1*r,s=Cn(n,dt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Er.Short:return(i>=0?"+":"")+Tn(o,2,s)+Tn(Math.abs(i%60),2,s);case Er.ShortGMT:return"GMT"+(i>=0?"+":"")+Tn(o,1,s);case Er.Long:return"GMT"+(i>=0?"+":"")+Tn(o,2,s)+":"+Tn(Math.abs(i%60),2,s);case Er.Extended:return r===0?"Z":(i>=0?"+":"")+Tn(o,2,s)+":"+Tn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var sU=0,Wd=4;function oU(t){let e=Qd(t,sU,1).getDay();return Qd(t,0,1+(e<=Wd?Wd:Wd+7)-e)}function PA(t){let e=t.getDay(),n=e===0?-3:Wd-e;return Qd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ey(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=PA(n),o=oU(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Tn(i,t,Cn(r,dt.MinusSign))}}function Gd(t,e=!1){return function(n,r){let s=PA(n).getFullYear();return Tn(s,t,Cn(r,dt.MinusSign),e)}}var wy={};function aU(t){if(wy[t])return wy[t];let e;switch(t){case"G":case"GG":case"GGG":e=xe(Ie.Eras,Re.Abbreviated);break;case"GGGG":e=xe(Ie.Eras,Re.Wide);break;case"GGGGG":e=xe(Ie.Eras,Re.Narrow);break;case"y":e=Ye(Ee.FullYear,1,0,!1,!0);break;case"yy":e=Ye(Ee.FullYear,2,0,!0,!0);break;case"yyy":e=Ye(Ee.FullYear,3,0,!1,!0);break;case"yyyy":e=Ye(Ee.FullYear,4,0,!1,!0);break;case"Y":e=Gd(1);break;case"YY":e=Gd(2,!0);break;case"YYY":e=Gd(3);break;case"YYYY":e=Gd(4);break;case"M":case"L":e=Ye(Ee.Month,1,1);break;case"MM":case"LL":e=Ye(Ee.Month,2,1);break;case"MMM":e=xe(Ie.Months,Re.Abbreviated);break;case"MMMM":e=xe(Ie.Months,Re.Wide);break;case"MMMMM":e=xe(Ie.Months,Re.Narrow);break;case"LLL":e=xe(Ie.Months,Re.Abbreviated,xt.Standalone);break;case"LLLL":e=xe(Ie.Months,Re.Wide,xt.Standalone);break;case"LLLLL":e=xe(Ie.Months,Re.Narrow,xt.Standalone);break;case"w":e=Ey(1);break;case"ww":e=Ey(2);break;case"W":e=Ey(1,!0);break;case"d":e=Ye(Ee.Date,1);break;case"dd":e=Ye(Ee.Date,2);break;case"c":case"cc":e=Ye(Ee.Day,1);break;case"ccc":e=xe(Ie.Days,Re.Abbreviated,xt.Standalone);break;case"cccc":e=xe(Ie.Days,Re.Wide,xt.Standalone);break;case"ccccc":e=xe(Ie.Days,Re.Narrow,xt.Standalone);break;case"cccccc":e=xe(Ie.Days,Re.Short,xt.Standalone);break;case"E":case"EE":case"EEE":e=xe(Ie.Days,Re.Abbreviated);break;case"EEEE":e=xe(Ie.Days,Re.Wide);break;case"EEEEE":e=xe(Ie.Days,Re.Narrow);break;case"EEEEEE":e=xe(Ie.Days,Re.Short);break;case"a":case"aa":case"aaa":e=xe(Ie.DayPeriods,Re.Abbreviated);break;case"aaaa":e=xe(Ie.DayPeriods,Re.Wide);break;case"aaaaa":e=xe(Ie.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=xe(Ie.DayPeriods,Re.Abbreviated,xt.Standalone,!0);break;case"bbbb":e=xe(Ie.DayPeriods,Re.Wide,xt.Standalone,!0);break;case"bbbbb":e=xe(Ie.DayPeriods,Re.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(Ie.DayPeriods,Re.Abbreviated,xt.Format,!0);break;case"BBBB":e=xe(Ie.DayPeriods,Re.Wide,xt.Format,!0);break;case"BBBBB":e=xe(Ie.DayPeriods,Re.Narrow,xt.Format,!0);break;case"h":e=Ye(Ee.Hours,1,-12);break;case"hh":e=Ye(Ee.Hours,2,-12);break;case"H":e=Ye(Ee.Hours,1);break;case"HH":e=Ye(Ee.Hours,2);break;case"m":e=Ye(Ee.Minutes,1);break;case"mm":e=Ye(Ee.Minutes,2);break;case"s":e=Ye(Ee.Seconds,1);break;case"ss":e=Ye(Ee.Seconds,2);break;case"S":e=Ye(Ee.FractionalSeconds,1);break;case"SS":e=Ye(Ee.FractionalSeconds,2);break;case"SSS":e=Ye(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=qd(Er.Short);break;case"ZZZZZ":e=qd(Er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qd(Er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=qd(Er.Long);break;default:return null}return wy[t]=e,e}function OA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function cU(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function uU(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=OA(e,i);return cU(t,r*(s-i))}function lU(t){if(_A(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Qd(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Xj))return dU(r)}let e=new Date(t);if(!_A(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function dU(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,l),e}function _A(t){return t instanceof Date&&!isNaN(t.valueOf())}var hU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,IA=22,Yd=".",nc="0",fU=";",pU=",",by="#",EA="\xA4",mU="%";function kA(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Cn(n,dt.Infinity);else{let l=_U(t);o&&(l=vU(l));let h=e.minInt,p=e.minFrac,y=e.maxFrac;if(s){let V=s.match(hU);if(V===null)throw new Error(`${s} is not a valid digit info`);let U=V[1],G=V[3],pe=V[5];U!=null&&(h=Dy(U)),G!=null&&(p=Dy(G)),pe!=null?y=Dy(pe):G!=null&&p>y&&(y=p)}IU(l,p,y);let g=l.digits,E=l.integerLen,C=l.exponent,A=[];for(c=g.every(V=>!V);E<h;E++)g.unshift(0);for(;E<0;E++)g.unshift(0);E>0?A=g.splice(E,g.length):(A=g,g=[0]);let x=[];for(g.length>=e.lgSize&&x.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)x.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&x.unshift(g.join("")),a=x.join(Cn(n,r)),A.length&&(a+=Cn(n,i)+A.join("")),C&&(a+=Cn(n,dt.Exponential)+"+"+C)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function gU(t,e,n,r,i){let s=MA(e,Py.Currency),o=FA(s,Cn(e,dt.MinusSign));return o.minFrac=Jj(r),o.maxFrac=o.minFrac,kA(t,o,e,dt.CurrencyGroup,dt.CurrencyDecimal,i).replace(EA,n).replace(EA,"").trim()}function yU(t,e,n){let r=MA(e,Py.Percent),i=FA(r,Cn(e,dt.MinusSign));return kA(t,i,e,dt.Group,dt.Decimal,n,!0).replace(new RegExp(mU,"g"),Cn(e,dt.PercentSign))}function FA(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(fU),i=r[0],s=r[1],o=i.indexOf(Yd)!==-1?i.split(Yd):[i.substring(0,i.lastIndexOf(nc)+1),i.substring(i.lastIndexOf(nc)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(by));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===nc?n.minFrac=n.maxFrac=h+1:p===by?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(pU);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(by);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function vU(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function _U(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Yd))>-1&&(e=e.replace(Yd,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===nc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>IA&&(r=r.splice(0,IA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function IU(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,y,g,E){return y=y+p,E[g]=y<10?y:y-10,c&&(E[g]===0&&g>=l?E.pop():c=!1),y>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Dy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Zd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ty=/\s+/,wA=[],KQ=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=wA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ty):wA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ty):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ty).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(ce(Qe),ce(uo))}}static{this.\u0275dir=It({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Cy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},QQ=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Cy(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),bA(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);bA(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ce(yr),ce(Fi),ce(yy))}}static{this.\u0275dir=It({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function bA(t,e){t.context.$implicit=e.item}var YQ=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Ay,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ce(yr),ce(Fi))}}static{this.\u0275dir=It({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Ay=class{constructor(){this.$implicit=null,this.ngIf=null}};function DA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${St(e)}'.`)}var ZQ=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,s]=n.split("."),o=i.indexOf("-")===-1?void 0:Fn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(ce(Qe),ce(vy),ce(uo))}}static{this.\u0275dir=It({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})(),JQ=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||t)(ce(yr))}}static{this.\u0275dir=It({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ji]})}}return t})();function Jd(t,e){return new $(2100,!1)}var EU=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,XQ=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Jd(t,n);return n.replace(EU,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Ha({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var wU="mediumDate",bU=new B(""),DU=new B(""),eY=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??wU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return tU(n,o,s||this.locale,a)}catch(o){throw Jd(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(ce(Wi,16),ce(bU,24),ce(DU,24))}}static{this.\u0275pipe=Ha({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var tY=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!LA(n))return null;i||=this._locale;try{let s=VA(n);return yU(s,i,r)}catch(s){throw Jd(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(ce(Wi,16))}}static{this.\u0275pipe=Ha({name:"percent",type:t,pure:!0,standalone:!0})}}return t})(),nY=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!LA(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Yj(a,i==="symbol"?"wide":"narrow",o):a=i);try{let c=VA(n);return gU(c,o,a,r,s)}catch(c){throw Jd(t,c.message)}}static{this.\u0275fac=function(r){return new(r||t)(ce(Wi,16),ce(dA,16))}}static{this.\u0275pipe=Ha({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function LA(t){return!(t==null||t===""||t!==t)}function VA(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var TU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({})}}return t})(),Oy="browser",CU="server";function ky(t){return t===Oy}function rc(t){return t===CU}var jA=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>ky(M(Et))?new Sy(M(we),window):new Ry})}}return t})(),Sy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=AU(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function AU(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Ry=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ho=class{};var sc=class{},oc=class{},cn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ly=class{encodeKey(e){return BA(e)}encodeValue(e){return BA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SU(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var RU=/%(\d[a-f0-9])/gi,NU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BA(t){return encodeURIComponent(t).replace(RU,(e,n)=>NU[n]??e)}function Xd(t){return`${t}`}var jn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ly,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=SU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Xd):[Xd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Xd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function MU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $A(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function HA(t){return typeof Blob<"u"&&t instanceof Blob}function zA(t){return typeof FormData<"u"&&t instanceof FormData}function xU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ic=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(MU(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new cn,this.context??=new Vy,!this.params)this.params=new jn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$A(this.body)||HA(this.body)||zA(this.body)||xU(this.body)?this.body:this.body instanceof jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zA(this.body)?null:HA(this.body)?this.body.type||null:$A(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,g)=>y.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,g)=>y.set(g,e.setParams[g]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},ti=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ti||{}),ac=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new cn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},th=class t extends ac{constructor(e={}){super(e),this.type=ti.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qi=class t extends ac{constructor(e={}){super(e),this.type=ti.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ei=class extends ac{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tS=200,PU=204;function Fy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var $y=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ic)s=n;else{let c;i.headers instanceof cn?c=i.headers:c=new cn(i.headers);let l;i.params&&(i.params instanceof jn?l=i.params:l=new jn({fromObject:i.params})),s=new ic(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=q(s).pipe(ir(c=>this.handler.handle(c)));if(n instanceof ic||i.observe==="events")return o;let a=o.pipe(Ve(c=>c instanceof Qi));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(K(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(K(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Fy(i,r))}post(n,r,i={}){return this.request("POST",n,Fy(i,r))}put(n,r,i={}){return this.request("PUT",n,Fy(i,r))}static{this.\u0275fac=function(r){return new(r||t)(O(sc))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),OU=/^\)\]\}',?\n/,kU="X-Request-URL";function qA(t){if(t.url)return t.url;let e=kU.toLocaleLowerCase();return t.headers.get(e)}var jy=(()=>{class t{constructor(){this.fetchImpl=M(Uy,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=M(se)}handle(n){return new Z(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(By,s=>r.error(new ei({error:s}))),()=>i.abort()})}doRequest(n,r,i){return R(this,null,function*(){let s=this.createRequestInit(n),o;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,L({signal:r},s)));FU(g),i.next({type:ti.Sent}),o=yield g}catch(g){i.error(new ei({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new cn(o.headers),c=o.statusText,l=qA(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new th({headers:a,status:h,statusText:c,url:l})),o.body){let g=o.headers.get("content-length"),E=[],C=o.body.getReader(),A=0,x,V,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>R(this,null,function*(){for(;;){let{done:pe,value:Y}=yield C.read();if(pe)break;if(E.push(Y),A+=Y.length,n.reportProgress){V=n.responseType==="text"?(V??"")+(x??=new TextDecoder).decode(Y,{stream:!0}):void 0;let w=()=>i.next({type:ti.DownloadProgress,total:g?+g:void 0,loaded:A,partialText:V});U?U.run(w):w()}}}));let G=this.concatChunks(E,A);try{let pe=o.headers.get("Content-Type")??"";p=this.parseBody(n,G,pe)}catch(pe){i.error(new ei({error:pe,headers:new cn(o.headers),status:o.status,statusText:o.statusText,url:qA(o)??n.urlWithParams}));return}}h===0&&(h=p?tS:0),h>=200&&h<300?(i.next(new Qi({body:p,headers:a,status:h,statusText:c,url:l})),i.complete()):i.error(new ei({error:p,headers:a,status:h,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(OU,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),Uy=class{};function By(){}function FU(t){t.then(By,By)}function LU(t,e){return e(t)}function VU(t,e,n){return(r,i)=>rn(n,()=>e(r,s=>t(s,i)))}var nS=new B(""),rS=new B(""),jU=new B("",{providedIn:"root",factory:()=>!0});var GA=(()=>{class t extends sc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=M(pr),this.contributeToStability=M(jU)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nS),...this.injector.get(rS,[])]));this.chain=r.reduceRight((i,s)=>VU(i,s,this.injector),LU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Di(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(O(oc),O(Rt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();var UU=/^\)\]\}',?\n/;function BU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var WA=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Me(r.\u0275loadImpl()):q(null)).pipe(kt(()=>new Z(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((C,A)=>o.setRequestHeader(C,A.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let C=n.detectContentTypeHeader();C!==null&&o.setRequestHeader("Content-Type",C)}if(n.responseType){let C=n.responseType.toLowerCase();o.responseType=C!=="json"?C:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let C=o.statusText||"OK",A=new cn(o.getAllResponseHeaders()),x=BU(o)||n.url;return c=new th({headers:A,status:o.status,statusText:C,url:x}),c},h=()=>{let{headers:C,status:A,statusText:x,url:V}=l(),U=null;A!==PU&&(U=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=U?tS:0);let G=A>=200&&A<300;if(n.responseType==="json"&&typeof U=="string"){let pe=U;U=U.replace(UU,"");try{U=U!==""?JSON.parse(U):null}catch(Y){U=pe,G&&(G=!1,U={error:Y,text:U})}}G?(s.next(new Qi({body:U,headers:C,status:A,statusText:x,url:V||void 0})),s.complete()):s.error(new ei({error:U,headers:C,status:A,statusText:x,url:V||void 0}))},p=C=>{let{url:A}=l(),x=new ei({error:C,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(x)},y=!1,g=C=>{y||(s.next(l()),y=!0);let A={type:ti.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(A.total=C.total),n.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),s.next(A)},E=C=>{let A={type:ti.UploadProgress,loaded:C.loaded};C.lengthComputable&&(A.total=C.total),s.next(A)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",g),a!==null&&o.upload&&o.upload.addEventListener("progress",E)),o.send(a),s.next({type:ti.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",g),a!==null&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(O(ho))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),iS=new B(""),$U="XSRF-TOKEN",HU=new B("",{providedIn:"root",factory:()=>$U}),zU="X-XSRF-TOKEN",qU=new B("",{providedIn:"root",factory:()=>zU}),nh=class{},GU=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(O(we),O(Et),O(HU))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function WU(t,e){let n=t.url.toLowerCase();if(!M(iS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=M(nh).getToken(),i=M(qU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var sS=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(sS||{});function KU(t,e){return{\u0275kind:t,\u0275providers:e}}function pY(...t){let e=[$y,WA,GA,{provide:sc,useExisting:GA},{provide:oc,useFactory:()=>M(jy,{optional:!0})??M(WA)},{provide:nS,useValue:WU,multi:!0},{provide:iS,useValue:!0},{provide:nh,useClass:GU}];for(let n of t)e.push(...n.\u0275providers);return bn(e)}function mY(){return KU(sS.Fetch,[jy,{provide:oc,useExisting:jy}])}var QU=new B(""),KA="b",QA="h",YA="s",ZA="st",JA="u",XA="rt",eh=new B(""),YU=["GET","HEAD"];function ZU(t,e){let g=M(eh),{isCacheActive:n}=g,r=ib(g,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!YU.includes(s)||!r.includeRequestsWithAuthHeaders&&JU(t)||r.filter?.(t)===!1)return e(t);let o=M(ao),a=M(QU,{optional:!0}),c=rc(M(Et));if(a&&!c)throw new $(2803,!1);let l=c&&a?n2(t.url,a):t.url,h=e2(t,l),p=o.get(h,null),y=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(y=i.includeHeaders),p){let{[KA]:E,[XA]:C,[QA]:A,[YA]:x,[ZA]:V,[JA]:U}=p,G=E;switch(C){case"arraybuffer":G=new TextEncoder().encode(E).buffer;break;case"blob":G=new Blob([E]);break}let pe=new cn(A);return q(new Qi({body:G,headers:pe,status:x,statusText:V,url:U}))}return e(t).pipe(je(E=>{E instanceof Qi&&c&&o.set(h,{[KA]:E.body,[QA]:XU(E.headers,y),[YA]:E.status,[ZA]:E.statusText,[JA]:l,[XA]:t.responseType})}))}function JU(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function XU(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function eS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function e2(t,e){let{params:n,method:r,responseType:i}=t,s=eS(n),o=t.serializeBody();o instanceof URLSearchParams?o=eS(o):typeof o!="string"&&(o="");let a=[r,i,e,o,s].join("|"),c=t2(a);return c}function t2(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function oS(t){return[{provide:eh,useFactory:()=>(on("NgHttpTransferCache"),L({isCacheActive:!0},t))},{provide:rS,useValue:ZU,multi:!0,deps:[ao,eh]},{provide:Gi,multi:!0,useFactory:()=>{let e=M(Vn),n=M(eh);return()=>{Vd(e).then(()=>{n.isCacheActive=!1})}}}]}function n2(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var qy=class extends Kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gy=class t extends qy{static makeCurrent(){CA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=i2();return n==null?null:s2(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zd(document.cookie,e)}},cc=null;function i2(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function s2(t){return new URL(t,document.baseURI).pathname}var o2=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),rh=new B(""),lS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(O(rh),O(se))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),uc=class{constructor(e){this._doc=e}},Hy="ng-app-id",dS=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rc(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Hy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Hy),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Hy,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(O(we),O(oo),O(Ka,8),O(Et))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qy=/%COMP%/g,hS="%COMP%",a2=`_nghost-${hS}`,c2=`_ngcontent-${hS}`,u2=!0,l2=new B("",{providedIn:"root",factory:()=>u2});function d2(t){return c2.replace(Qy,t)}function h2(t){return a2.replace(Qy,t)}function fS(t,e){return e.map(n=>n.replace(Qy,t))}var aS=(()=>{class t{constructor(n,r,i,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rc(a),this.defaultRenderer=new lc(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pn.ShadowDom&&(r=De(L({},r),{encapsulation:Pn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ih?i.applyToHost(n):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Pn.Emulated:s=new ih(c,l,r,this.appId,h,o,a,p);break;case Pn.ShadowDom:return new Wy(c,l,n,r,o,a,this.nonce,p);default:s=new dc(c,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(O(lS),O(dS),O(oo),O(l2),O(we),O(Et),O(se),O(Ka))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),lc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=zy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(n,r,i&Fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=lo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wy=class extends lc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fS(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ih=class extends dc{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=d2(l),this.hostAttr=h2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},f2=(()=>{class t extends uc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),p2=(()=>{class t extends uc{constructor(n){super(n),this.delegate=M(pA,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),uS=["alt","control","meta","shift"],m2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},y2=(()=>{class t extends uc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),uS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=m2[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uS.forEach(o=>{if(o!==i){let a=g2[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function OY(t,e){return fA(L({rootComponent:t},v2(e)))}function v2(t){return{appProviders:[...b2,...t?.providers??[]],platformProviders:w2}}function _2(){Gy.makeCurrent()}function I2(){return new kn}function E2(){return tC(document),document}var w2=[{provide:Et,useValue:Oy},{provide:Bg,useValue:_2,multi:!0},{provide:we,useFactory:E2,deps:[]}];var b2=[{provide:dd,useValue:"root"},{provide:kn,useFactory:I2,deps:[]},{provide:rh,useClass:f2,multi:!0,deps:[we,se,Et]},{provide:rh,useClass:y2,multi:!0,deps:[we]},{provide:rh,useClass:p2,multi:!0},aS,dS,lS,{provide:eo,useExisting:aS},{provide:ho,useClass:o2,deps:[]},[]];var pS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var D2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=O(T2),i},providedIn:"root"})}}return t})(),T2=(()=>{class t extends D2{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Dn.NONE:return r;case Dn.HTML:return mr(r,"HTML")?sn(r):qg(this._doc,String(r)).toString();case Dn.STYLE:return mr(r,"Style")?sn(r):r;case Dn.SCRIPT:if(mr(r,"Script"))return sn(r);throw new $(5200,!1);case Dn.URL:return mr(r,"URL")?sn(r):bd(String(r));case Dn.RESOURCE_URL:if(mr(r,"ResourceURL"))return sn(r);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(n){return fC(n)}bypassSecurityTrustStyle(n){return pC(n)}bypassSecurityTrustScript(n){return mC(n)}bypassSecurityTrustUrl(n){return gC(n)}bypassSecurityTrustResourceUrl(n){return yC(n)}static{this.\u0275fac=function(r){return new(r||t)(O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ky=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Ky||{});function kY(...t){let e=[],n=new Set,r=n.has(Ky.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return bn([[],mA(),n.has(Ky.NoHttpTransferCache)||r?[]:oS({}),e])}var Un=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Un||{}),LY="*";function VY(t,e){return{type:Un.Trigger,name:t,definitions:e,options:{}}}function jY(t,e=null){return{type:Un.Animate,styles:e,timings:t}}function UY(t,e=null){return{type:Un.Sequence,steps:t,options:e}}function BY(t){return{type:Un.Style,styles:t,offset:null}}function $Y(t,e,n){return{type:Un.State,name:t,styles:e,options:n}}function HY(t){return{type:Un.Keyframes,steps:t}}function zY(t,e,n=null){return{type:Un.Transition,expr:t,animation:e,options:n}}function qY(t=null){return{type:Un.AnimateChild,options:t}}function GY(t,e,n=null){return{type:Un.Query,selector:t,animation:e,options:n}}var mS=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},gS=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},WY="!";var ue="primary",Cc=Symbol("RouteTitle"),ev=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _o(t){return new ev(t)}function A2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function S2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bn(t[n],e[n]))return!1;return!0}function Bn(t,e){let n=t?tv(t):void 0,r=e?tv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AS(t[i],e[i]))return!1;return!0}function tv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function SS(t){return t.length>0?t[t.length-1]:null}function ii(t){return al(t)?t:tc(t)?Me(Promise.resolve(t)):q(t)}var R2={exact:NS,subset:MS},RS={exact:N2,subset:M2,ignored:()=>!0};function yS(t,e,n){return R2[n.paths](t.root,e.root,n.matrixParams)&&RS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function N2(t,e){return Bn(t,e)}function NS(t,e,n){if(!Zi(t.segments,e.segments)||!ah(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!NS(t.children[r],e.children[r],n))return!1;return!0}function M2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AS(t[n],e[n]))}function MS(t,e,n){return xS(t,e,e.segments,n)}function xS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zi(i,n)||e.hasChildren()||!ah(i,n,r))}else if(t.segments.length===n.length){if(!Zi(t.segments,n)||!ah(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Zi(t.segments,i)||!ah(t.segments,i,r)||!t.children[ue]?!1:xS(t.children[ue],e,s,r)}}function ah(t,e,n){return e.every((r,i)=>RS[n](t[i].parameters,r.parameters))}var Dr=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){return O2.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}},Yi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_o(this.parameters),this._parameterMap}toString(){return OS(this)}};function x2(t,e){return Zi(t,e)&&t.every((n,r)=>Bn(n.parameters,e[r].parameters))}function Zi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function P2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}var Ac=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>new Io,providedIn:"root"})}}return t})(),Io=class{parse(e){let n=new rv(e);return new Dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,r=L2(e.queryParams),i=typeof e.fragment=="string"?`#${k2(e.fragment)}`:"";return`${n}${r}${i}`}},O2=new Io;function ch(t){return t.segments.map(e=>OS(e)).join("/")}function hc(t,e){if(!t.hasChildren())return ch(t);if(e){let n=t.children[ue]?hc(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${hc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=P2(t,(r,i)=>i===ue?[hc(t.children[ue],!1)]:[`${i}:${hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${ch(t)}/${n[0]}`:`${ch(t)}/(${n.join("//")})`}}function PS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(t){return PS(t).replace(/%3B/gi,";")}function k2(t){return encodeURI(t)}function nv(t){return PS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(t){return decodeURIComponent(t)}function vS(t){return uh(t.replace(/\+/g,"%20"))}function OS(t){return`${nv(t.path)}${F2(t.parameters)}`}function F2(t){return Object.entries(t).map(([e,n])=>`;${nv(e)}=${nv(n)}`).join("")}function L2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sh(n)}=${sh(i)}`).join("&"):`${sh(n)}=${sh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var V2=/^[^\/()?;#]+/;function Yy(t){let e=t.match(V2);return e?e[0]:""}var j2=/^[^\/()?;=#]+/;function U2(t){let e=t.match(j2);return e?e[0]:""}var B2=/^[^=?&#]+/;function $2(t){let e=t.match(B2);return e?e[0]:""}var H2=/^[^&#]+/;function z2(t){let e=t.match(H2);return e?e[0]:""}var rv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new Te(e,n)),r}parseSegment(){let e=Yy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Yi(uh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=U2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Yy(this.remaining);i&&(r=i,this.capture(r))}e[uh(n)]=uh(r)}parseQueryParam(e){let n=$2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=z2(this.remaining);o&&(r=o,this.capture(r))}let i=vS(n),s=vS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ue]:new Te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function kS(t){return t.segments.length>0?new Te([],{[ue]:t}):t}function FS(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=FS(i);if(r===ue&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Te(t.segments,e);return q2(n)}function q2(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new Te(t.segments.concat(e.segments),e.children)}return t}function Ji(t){return t instanceof Dr}function G2(t,e,n=null,r=null){let i=LS(t);return VS(i,e,n,r)}function LS(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Te(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=kS(r);return e??i}function VS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zy(i,i,i,n,r);let s=W2(e);if(s.toRoot())return Zy(i,i,new Te([],{}),n,r);let o=K2(s,i,t),a=o.processChildren?mc(o.segmentGroup,o.index,s.commands):US(o.segmentGroup,o.index,s.commands);return Zy(i,o.segmentGroup,a,n,r)}function lh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vc(t){return typeof t=="object"&&t!=null&&t.outlets}function Zy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=jS(t,e,n);let a=kS(FS(o));return new Dr(a,s,i)}function jS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jS(s,e,n)}),new Te(t.segments,r)}var dh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lh(r[0]))throw new $(4003,!1);let i=r.find(vc);if(i&&i!==SS(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function W2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new dh(n,e,r)}var go=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function K2(t,e,n){if(t.isAbsolute)return new go(e,!0,0);if(!n)return new go(e,!1,NaN);if(n.parent===null)return new go(n,!0,0);let r=lh(t.commands[0])?0:1,i=n.segments.length-1+r;return Q2(n,i,t.numberOfDoubleDots)}function Q2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new go(r,!1,i-s)}function Y2(t){return vc(t[0])?t[0].outlets:{[ue]:t}}function US(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return mc(t,e,n);let r=Z2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Te(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new Te(t.segments.slice(r.pathIndex),t.children),mc(s,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?iv(t,e,n):r.match?mc(t,0,i):iv(t,e,n)}function mc(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=Y2(n),i={};if(Object.keys(r).some(s=>s!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let s=mc(t.children[ue],e,n);return new Te(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=US(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Te(t.segments,i)}}function Z2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(vc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!IS(c,l,o))return s;r+=2}else{if(!IS(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(vc(s)){let c=J2(s.outlets);return new Te(r,c)}if(i===0&&lh(n[0])){let c=t.segments[e];r.push(new Yi(c.path,_S(n[0]))),i++;continue}let o=vc(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&lh(a)?(r.push(new Yi(o,_S(a))),i+=2):(r.push(new Yi(o,{})),i++)}return new Te(r,{})}function J2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=iv(new Te([],{}),0,r))}),e}function _S(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IS(t,e,n){return t==n.path&&Bn(e,n.parameters)}var gc="imperative",nt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nt||{}),un=class{constructor(e,n){this.id=e,this.url=n}},Eo=class extends un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=nt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wt||{}),hh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hh||{}),br=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationSkipped}},_c=class extends un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fh=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sv=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class extends un{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},av=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cv=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uv=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lv=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dv=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hv=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fv=class{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pv=class{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ic=class{},wo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function X2(t,e){return t.providers&&!t._injector&&(t._injector=Pd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function An(t){return t.outlet||ue}function eB(t,e){let n=t.filter(r=>An(r)===e);return n.push(...t.filter(r=>An(r)!==e)),n}function Sc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mv=class{get injector(){return Sc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Rc(this.rootInjector),this.attachRef=null}},Rc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(O(Rt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yv(e,this._root).map(n=>n.value)}};function gv(t,e){if(t===e.value)return e;for(let n of e.children){let r=gv(t,n);if(r)return r}return null}function yv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yv(t,n);if(r.length)return r.unshift(e),r}return[]}var Gt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gh=class extends mh{constructor(e,n){super(e),this.snapshot=n,Cv(this,e)}toString(){return this.snapshot.toString()}};function BS(t){let e=tB(t),n=new He([new Yi("",{})]),r=new He({}),i=new He({}),s=new He({}),o=new He(""),a=new ri(n,r,s,o,i,ue,t,e.root);return a.snapshot=e.root,new gh(new Gt(a,[]),e)}function tB(t){let e={},n={},r={},i="",s=new yo([],e,r,i,n,ue,t,null,{});return new vh("",new Gt(s,[]))}var ri=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[Cc]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>_o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>_o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&HS(i)&&(r.resolve[Cc]=i.title),r}var yo=class{get title(){return this.data?.[Cc]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vh=class extends mh{constructor(e,n){super(n),this.url=e,Cv(this,n)}toString(){return $S(this._root)}};function Cv(t,e){e.value._routerState=t,e.children.forEach(n=>Cv(t,n))}function $S(t){let e=t.children.length>0?` { ${t.children.map($S).join(", ")} } `:"";return`${t.value}${e}`}function Jy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bn(e.params,n.params)||t.paramsSubject.next(n.params),S2(e.url,n.url)||t.urlSubject.next(n.url),Bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vv(t,e){let n=Bn(t.params,e.params)&&x2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vv(t.parent,e.parent))}function HS(t){return typeof t.title=="string"||t.title===null}var nB=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=M(Rc),this.location=M(yr),this.changeDetector=M(Ki),this.inputBinder=M(wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new _v(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=It({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ji]})}}return t})(),_v=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ri?this.route:e===Rc?this.childContexts:this.parent.get(e,n)}},wh=new B(""),ES=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=wi([r.queryParams,r.params,r.data]).pipe(kt(([s,o,a],c)=>(a=L(L(L({},s),o),a),c===0?q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=gA(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function rB(t,e,n){let r=Ec(t,e._root,n?n._root:void 0);return new gh(r,e)}function Ec(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=iB(t,e,n);return new Gt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ec(t,a)),o}}let r=sB(e.value),i=e.children.map(s=>Ec(t,s));return new Gt(r,i)}}function iB(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ec(t,r,i);return Ec(t,r)})}function sB(t){return new ri(new He(t.url),new He(t.params),new He(t.queryParams),new He(t.fragment),new He(t.data),t.outlet,t.component,t)}var wc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zS="ngNavigationCancelingError";function _h(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qS(!1,Wt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zS]=!0,n.cancellationCode=e,n}function oB(t){return GS(t)&&Ji(t.url)}function GS(t){return!!t&&t[zS]}var aB=(t,e,n,r)=>K(i=>(new Iv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Iv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Jy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ih=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vo=class{constructor(e,n){this.component=e,this.route=n}};function cB(t,e,n){let r=t._root,i=e?e._root:null;return fc(r,i,n,[r.value])}function uB(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Do(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!HD(t)?t:e.get(t):r}function fc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=mo(e);return t.children.forEach(o=>{lB(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yc(a,n.getContext(o),i)),i}function lB(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=dB(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ih(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fc(t,e,a?a.children:null,r,i):fc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vo(a.outlet.component,o))}else o&&yc(e,a,i),i.canActivateChecks.push(new Ih(r)),s.component?fc(t,null,a?a.children:null,r,i):fc(t,null,n,r,i);return i}function dB(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zi(t.url,e.url)||!Bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vv(t,e)||!Bn(t.queryParams,e.queryParams);case"paramsChange":default:return!vv(t,e)}}function yc(t,e,n){let r=mo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yc(o,e.children.getContext(s),n):yc(o,null,n):yc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vo(e.outlet.component,i)):n.canDeactivateChecks.push(new vo(null,i)):n.canDeactivateChecks.push(new vo(null,i))}function Nc(t){return typeof t=="function"}function hB(t){return typeof t=="boolean"}function fB(t){return t&&Nc(t.canLoad)}function pB(t){return t&&Nc(t.canActivate)}function mB(t){return t&&Nc(t.canActivateChild)}function gB(t){return t&&Nc(t.canDeactivate)}function yB(t){return t&&Nc(t.canMatch)}function WS(t){return t instanceof rr||t?.name==="EmptyError"}var oh=Symbol("INITIAL_VALUE");function bo(){return kt(t=>wi(t.map(e=>e.pipe(yt(1),Vs(oh)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===oh)return oh;if(n===!1||vB(n))return n}return!0}),Ve(e=>e!==oh),yt(1)))}function vB(t){return Ji(t)||t instanceof wc}function _B(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?q(De(L({},n),{guardsResult:!0})):IB(o,r,i,t).pipe(ze(a=>a&&hB(a)?EB(r,s,t,e):q(a)),K(a=>De(L({},n),{guardsResult:a})))})}function IB(t,e,n,r){return Me(t).pipe(ze(i=>CB(i.component,i.route,n,e,r)),yn(i=>i!==!0,!0))}function EB(t,e,n,r){return Me(e).pipe(ir(i=>Hr(bB(i.route.parent,r),wB(i.route,r),TB(t,i.path,n),DB(t,i.route,n))),yn(i=>i!==!0,!0))}function wB(t,e){return t!==null&&e&&e(new fv(t)),q(!0)}function bB(t,e){return t!==null&&e&&e(new dv(t)),q(!0)}function DB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>ll(()=>{let o=Sc(e)??n,a=Do(s,o),c=pB(a)?a.canActivate(e,t):rn(o,()=>a(e,t));return ii(c).pipe(yn())}));return q(i).pipe(bo())}function TB(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uB(o)).filter(o=>o!==null).map(o=>ll(()=>{let a=o.guards.map(c=>{let l=Sc(o.node)??n,h=Do(c,l),p=mB(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return ii(p).pipe(yn())});return q(a).pipe(bo())}));return q(s).pipe(bo())}function CB(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(a=>{let c=Sc(e)??i,l=Do(a,c),h=gB(l)?l.canDeactivate(t,e,n,r):rn(c,()=>l(t,e,n,r));return ii(h).pipe(yn())});return q(o).pipe(bo())}function AB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let a=Do(o,t),c=fB(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return ii(c)});return q(s).pipe(bo(),KS(r))}function KS(t){return qu(je(e=>{if(typeof e!="boolean")throw _h(t,e)}),K(e=>e===!0))}function SB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let a=Do(o,t),c=yB(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return ii(c)});return q(s).pipe(bo(),KS(r))}var bc=class{constructor(e){this.segmentGroup=e||null}},Dc=class extends Error{constructor(e){super(),this.urlTree=e}};function po(t){return ks(new bc(t))}function RB(t){return ks(new $(4e3,!1))}function NB(t){return ks(qS(!1,Wt.GuardRejected))}var Ev=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ue])return RB(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:y,params:g,data:E,title:C}=i,A=rn(s,()=>a({params:g,data:E,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:y,title:C}));if(A instanceof Dr)throw new Dc(A);n=A}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Dc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Dr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},wv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MB(t,e,n,r,i){let s=QS(t,e,n);return s.matched?(r=X2(e,r),SB(r,e,n,i).pipe(K(o=>o===!0?s:L({},wv)))):q(s)}function QS(t,e,n){if(e.path==="**")return xB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},wv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||A2)(n,t,e);if(!i)return L({},wv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xB(t){return{matched:!0,parameters:t.length>0?SS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wS(t,e,n,r){return n.length>0&&kB(t,n,r)?{segmentGroup:new Te(e,OB(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&FB(t,n,r)?{segmentGroup:new Te(t.segments,PB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function PB(t,e,n,r){let i={};for(let s of n)if(bh(t,e,s)&&!r[An(s)]){let o=new Te([],{});i[An(s)]=o}return L(L({},r),i)}function OB(t,e){let n={};n[ue]=e;for(let r of t)if(r.path===""&&An(r)!==ue){let i=new Te([],{});n[An(r)]=i}return n}function kB(t,e,n){return n.some(r=>bh(t,e,r)&&An(r)!==ue)}function FB(t,e,n){return n.some(r=>bh(t,e,r))}function bh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function LB(t,e,n){return e.length===0&&!t.children[n]}var bv=class{};function VB(t,e,n,r,i,s,o="emptyOnly"){return new Dv(t,e,n,r,i,o,s).recognize()}var jB=31,Dv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ev(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=wS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:n,rootSnapshot:r})=>{let i=new Gt(r,n),s=new vh("",i),o=G2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new yo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,n).pipe(K(r=>({children:r,rootSnapshot:n})),gn(r=>{if(r instanceof Dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(K(o=>o instanceof Gt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Me(s).pipe(ir(o=>{let a=r.children[o],c=eB(n,o);return this.processSegmentGroup(e,c,a,o,i)}),fl((o,a)=>(o.push(...a),o)),zr(null),Fp(),ze(o=>{if(o===null)return po(r);let a=YS(o);return UB(a),q(a)}))}processSegment(e,n,r,i,s,o,a){return Me(n).pipe(ir(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(gn(l=>{if(l instanceof bc)return q(null);throw l}))),yn(c=>!!c),gn(c=>{if(WS(c))return LB(r,i,s)?q(new bv):po(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return An(r)!==o&&(o===ue||!bh(i,s,r))?po(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):po(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=QS(n,i,s);if(!c)return po(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jB&&(this.allowRedirects=!1));let g=new yo(s,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,bS(i),An(i),i.component??i._loadedComponent??null,i,DS(i)),E=yh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(E.params),g.data=Object.freeze(E.data);let C=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,C).pipe(ze(A=>this.processSegment(e,r,n,A.concat(y),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=MB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(kt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=c,E=new yo(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,bS(r),An(r),r.component??r._loadedComponent??null,r,DS(r)),C=yh(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(C.params),E.data=Object.freeze(C.data);let{segmentGroup:A,slicedSegments:x}=wS(n,y,g,l);if(x.length===0&&A.hasChildren())return this.processChildren(h,l,A,E).pipe(K(U=>new Gt(E,U)));if(l.length===0&&x.length===0)return q(new Gt(E,[]));let V=An(r)===s;return this.processSegment(h,l,A,x,V?ue:s,!0,E).pipe(K(U=>new Gt(E,U instanceof Gt?[U]:[])))}))):po(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):AB(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):NB(n))):q({routes:[],injector:e})}};function UB(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function BB(t){let e=t.value.routeConfig;return e&&e.path===""}function YS(t){let e=[],n=new Set;for(let r of t){if(!BB(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=YS(r.children);e.push(new Gt(r.value,i))}return e.filter(r=>!n.has(r))}function bS(t){return t.data||{}}function DS(t){return t.resolve||{}}function $B(t,e,n,r,i,s){return ze(o=>VB(t,e,n,r,o.extractedUrl,i,s).pipe(K(({state:a,tree:c})=>De(L({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function HB(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of ZS(c))o.add(l);let a=0;return Me(o).pipe(ir(c=>s.has(c)?zB(c,r,t,e):(c.data=yh(c,c.parent,t).resolve,q(void 0))),je(()=>a++),Ls(1),ze(c=>a===o.size?q(n):At))})}function ZS(t){let e=t.children.map(n=>ZS(n)).flat();return[t,...e]}function zB(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!HS(i)&&(s[Cc]=i.title),qB(s,t,e,r).pipe(K(o=>(t._resolvedData=o,t.data=yh(t,t.parent,n).resolve,null)))}function qB(t,e,n,r){let i=tv(t);if(i.length===0)return q({});let s={};return Me(i).pipe(ze(o=>GB(t[o],e,n,r).pipe(yn(),je(a=>{if(a instanceof wc)throw _h(new Io,a);s[o]=a}))),Ls(1),kp(s),gn(o=>WS(o)?At:ks(o)))}function GB(t,e,n,r){let i=Sc(e)??r,s=Do(t,i),o=s.resolve?s.resolve(e,n):rn(i,()=>s(e,n));return ii(o)}function Xy(t){return kt(e=>{let n=t(e);return n?Me(n).pipe(K(()=>e)):q(e)})}var JS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[Cc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(WB),providedIn:"root"})}}return t})(),WB=(()=>{class t extends JS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(O(pS))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mc=new B("",{providedIn:"root",factory:()=>({})}),KB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Vi({type:t,selectors:[["ng-component"]],standalone:!0,features:[qi],decls:1,vars:0,template:function(r,i){r&1&&Od(0,"router-outlet")},dependencies:[nB],encapsulation:2})}}return t})();function Av(t){let e=t.children&&t.children.map(Av),n=e?De(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=KB),n}var Tc=new B(""),Sv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(jd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ii(n.loadComponent()).pipe(K(XS),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Di(()=>{this.componentLoaders.delete(n)})),i=new Ns(r,()=>new me).pipe(Rs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=QB(r,this.compiler,n,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),o=new Ns(s,()=>new me).pipe(Rs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function QB(t,e,n,r){return ii(t.loadChildren()).pipe(K(XS),ze(i=>i instanceof ja||Array.isArray(i)?q(i):Me(e.compileModuleAsync(i))),K(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Tc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Av),injector:s}}))}function YB(t){return t&&typeof t=="object"&&"default"in t}function XS(t){return YB(t)?t.default:t}var Rv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(ZB),providedIn:"root"})}}return t})(),ZB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eR=new B(""),tR=new B("");function JB(t,e,n){let r=t.get(tR),i=t.get(we);return t.get(se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),XB(t))),{onViewTransitionCreated:c}=r;return c&&rn(t,()=>c({transition:a,from:e,to:n})),o})}function XB(t){return new Promise(e=>{ec({read:()=>setTimeout(e)},{injector:t})})}var e$=new B(""),Nv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=M(Sv),this.environmentInjector=M(Rt),this.urlSerializer=M(Ac),this.rootContexts=M(Rc),this.location=M(fo),this.inputBindingEnabled=M(wh,{optional:!0})!==null,this.titleStrategy=M(JS),this.options=M(Mc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Rv),this.createViewTransition=M(eR,{optional:!0}),this.navigationErrorHandler=M(e$,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new uv(i)),r=i=>this.events.next(new lv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(De(L(L({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new He({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:gc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(s=>s.id!==0),K(s=>De(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kt(s=>{let o=!1,a=!1;return q(s).pipe(kt(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Wt.SupersededByNewNavigation),At;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ni(c.id,this.urlSerializer.serialize(c.rawUrl),p,hh.IgnoredSameUrlNavigation)),c.resolve(!1),At}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(kt(p=>{let y=this.transitions?.getValue();return this.events.next(new Eo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?At:Promise.resolve(p)}),$B(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=De(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new fh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:y,source:g,restoredState:E,extras:C}=c,A=new Eo(p,this.urlSerializer.serialize(y),g,E);this.events.next(A);let x=BS(this.rootComponentType).snapshot;return this.currentTransition=s=De(L({},c),{targetSnapshot:x,urlAfterRedirects:y,extras:De(L({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,q(s)}else{let p="";return this.events.next(new ni(c.id,this.urlSerializer.serialize(c.extractedUrl),p,hh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),At}}),je(c=>{let l=new sv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),K(c=>(this.currentTransition=s=De(L({},c),{guards:cB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),_B(this.environmentInjector,c=>this.events.next(c)),je(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw _h(this.urlSerializer,c.guardsResult);let l=new ov(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ve(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Wt.GuardRejected),!1)),Xy(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(je(l=>{let h=new av(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),kt(l=>{let h=!1;return q(l).pipe(HB(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Wt.NoDataFromResolver)}}))}),je(l=>{let h=new cv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Xy(c=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(je(y=>{h.component=y}),K(()=>{})));for(let y of h.children)p.push(...l(y));return p};return wi(l(c.targetSnapshot.root)).pipe(zr(null),yt(1))}),Xy(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?Me(h).pipe(K(()=>s)):q(s)}),K(c=>{let l=rB(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=De(L({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),je(()=>{this.events.next(new Ic)}),aB(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),yt(1),je({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $n(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),sr(this.transitionAbortSubject.pipe(je(c=>{throw c}))),Di(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),gn(c=>{if(a=!0,GS(c))this.events.next(new br(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),oB(c)?this.events.next(new wo(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new _c(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let h=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof wc){let{message:p,cancellationCode:y}=_h(this.urlSerializer,h);this.events.next(new br(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new wo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(c);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return At}))}))}cancelNavigationTransition(n,r,i){let s=new br(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t$(t){return t!==gc}var n$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(r$),providedIn:"root"})}}return t})(),Tv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},r$=(()=>{class t extends Tv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lg(t)))(i||t)}})()}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(i$),providedIn:"root"})}}return t})(),i$=(()=>{class t extends nR{constructor(){super(...arguments),this.location=M(fo),this.urlSerializer=M(Ac),this.options=M(Mc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Rv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Eo)this.stateMemento=this.createStateMemento();else if(n instanceof ni)this.rawUrlTree=r.initialUrl;else if(n instanceof fh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ic?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof br&&(n.code===Wt.GuardRejected||n.code===Wt.NoDataFromResolver)?this.restoreHistory(r):n instanceof _c?this.restoreHistory(r,!0):n instanceof $n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Dr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=L(L({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lg(t)))(i||t)}})()}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pc||{});function rR(t,e){t.events.pipe(Ve(n=>n instanceof $n||n instanceof br||n instanceof _c||n instanceof ni),K(n=>n instanceof $n||n instanceof ni?pc.COMPLETE:(n instanceof br?n.code===Wt.Redirect||n.code===Wt.SupersededByNewNavigation:!1)?pc.REDIRECTING:pc.FAILED),Ve(n=>n!==pc.REDIRECTING),yt(1)).subscribe(()=>{e()})}function s$(t){throw t}var o$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M(Fd),this.stateManager=M(nR),this.options=M(Mc,{optional:!0})||{},this.pendingTasks=M(pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Nv),this.urlSerializer=M(Ac),this.location=M(fo),this.urlHandlingStrategy=M(Rv),this._events=new me,this.errorHandler=this.options.errorHandler||s$,this.navigated=!1,this.routeReuseStrategy=M(n$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(Tc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(wh,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof br&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof wo){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||t$(i.source)},o);this.scheduleNavigation(a,gc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}u$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Av),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=LS(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return VS(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ji(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,gc,null,r)}navigate(n,r={skipLocationChange:!1}){return c$(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},o$):r===!1?i=L({},a$):i=r,Ji(n))return yS(this.currentUrlTree,n,i);let s=this.parseUrl(n);return yS(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((p,y)=>{a=p,c=y});let h=this.pendingTasks.add();return rR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function c$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function u$(t){return!(t instanceof Ic)&&!(t instanceof wo)}var dZ=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof $n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ji(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:bC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Ji(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ce(Sn),ce(ri),Vg("tabindex"),ce(uo),ce(Qe),ce(wr))}}static{this.\u0275dir=It({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&kd("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Hi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vr],replaceUrl:[2,"replaceUrl","replaceUrl",vr],routerLink:"routerLink"},standalone:!0,features:[$i,ji]})}}return t})();var Eh=class{};var l$=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(n=>n instanceof $n),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Pd(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Me(i).pipe($r())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=q(null);let s=i.pipe(ze(o=>o===null?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Me([s,o]).pipe($r())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(O(Sn),O(jd),O(Rt),O(Eh),O(Sv))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iR=new B(""),d$=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $n?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ni&&n.code===hh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ph&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ph(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){jC()}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function hZ(t,...e){return bn([{provide:Tc,multi:!0,useValue:t},[],{provide:ri,useFactory:sR,deps:[Sn]},{provide:Gi,multi:!0,useFactory:oR},e.map(n=>n.\u0275providers)])}function sR(t){return t.routerState.root}function xc(t,e){return{\u0275kind:t,\u0275providers:e}}function oR(){let t=M(et);return e=>{let n=t.get(Vn);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(aR);t.get(Mv)===1&&r.initialNavigation(),t.get(cR,null,le.Optional)?.setUpPreloading(),t.get(iR,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var aR=new B("",{factory:()=>new me}),Mv=new B("",{providedIn:"root",factory:()=>1});function h$(){return xc(2,[{provide:Mv,useValue:0},{provide:Ld,multi:!0,deps:[et],useFactory:e=>{let n=e.get(AA,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Sn),s=e.get(aR);rR(i,()=>{r(!0)}),e.get(Nv).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}])}function f$(){return xc(3,[{provide:Ld,multi:!0,useFactory:()=>{let e=M(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Mv,useValue:2}])}var cR=new B("");function p$(t){return xc(0,[{provide:cR,useExisting:l$},{provide:Eh,useExisting:t}])}function m$(){return xc(8,[ES,{provide:wh,useExisting:ES}])}function g$(t){let e=[{provide:eR,useValue:JB},{provide:tR,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return xc(9,e)}var TS=new B("ROUTER_FORROOT_GUARD"),y$=[fo,{provide:Ac,useClass:Io},Sn,Rc,{provide:ri,useFactory:sR,deps:[Sn]},Sv,[]],fZ=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[y$,[],{provide:Tc,multi:!0,useValue:n},{provide:TS,useFactory:E$,deps:[[Sn,new Ht,new ud]]},{provide:Mc,useValue:r||{}},r?.useHash?_$():I$(),v$(),r?.preloadingStrategy?p$(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?w$(r):[],r?.bindToComponentInputs?m$().\u0275providers:[],r?.enableViewTransitions?g$().\u0275providers:[],b$()]}}static forChild(n){return{ngModule:t,providers:[{provide:Tc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(O(TS,8))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({})}}return t})();function v$(){return{provide:iR,useFactory:()=>{let t=M(jA),e=M(se),n=M(Mc),r=M(Nv),i=M(Ac);return n.scrollOffset&&t.setOffset(n.scrollOffset),new d$(i,r,t,e,n)}}}function _$(){return{provide:wr,useClass:RA}}function I$(){return{provide:wr,useClass:xy}}function E$(t){return"guarded"}function w$(t){return[t.initialNavigation==="disabled"?f$().\u0275providers:[],t.initialNavigation==="enabledBlocking"?h$().\u0275providers:[]]}var CS=new B("");function b$(){return[{provide:CS,useFactory:oR},{provide:Gi,multi:!0,useExisting:CS}]}var lR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T$=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,y=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(y=64)),r.push(n[h],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Pv;let y=s<<2|a>>4;if(r.push(y),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let E=l<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},C$=function(t){let e=lR(t);return dR.encodeByteArray(e,!0)},Pc=function(t){return C$(t).replace(/\./g,"")},kv=function(t){try{return dR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var S$=()=>A$().__FIREBASE_DEFAULTS__,R$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kv(t[1]);return e&&JSON.parse(e)},Th=()=>{try{return S$()||R$()||N$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hR=t=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fR=t=>{let e=hR(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fv=()=>{var t;return(t=Th())===null||t===void 0?void 0:t.config},pR=t=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${t}`]};var Dh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function mR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(o)),""].join(".")}function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function M$(){var t;let e=(t=Th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){return!M$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lv(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var x$="FirebaseError",ln=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?P$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ln(i,a,r)}};function P$(t,e){return t.replace(O$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var O$=/\{\$([^}]+)}/g;function To(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(uR(s)&&uR(o)){if(!To(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uR(t){return t!==null&&typeof t=="object"}function Vv(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wR(t,e){let n=new Ov(t,e);return n.subscribe.bind(n)}var Ov=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xv),i.error===void 0&&(i.error=xv),i.complete===void 0&&(i.complete=xv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function k$(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xv(){}var mZ=4*60*60*1e3;function Pt(t){return t&&t._delegate?t._delegate:t}var dn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var jv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Dh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L$(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F$(t){return t===Xi?void 0:t}function L$(t){return t.instantiationMode==="EAGER"}var Ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var V$=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),j$={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},U$=he.INFO,B$={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},$$=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=B$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},si=class{constructor(e){this.name=e,this._logLevel=U$,this._logHandler=$$,this._userLogHandler=null,V$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var H$=(t,e)=>e.some(n=>t instanceof n),bR,DR;function z$(){return bR||(bR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q$(){return DR||(DR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TR=new WeakMap,Bv=new WeakMap,CR=new WeakMap,Uv=new WeakMap,Hv=new WeakMap;function G$(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TR.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function W$(t){if(Bv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bv.set(t,e)}var $v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AR(t){$v=t($v)}function K$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ah(this),e,...n);return CR.set(r,e.sort?e.sort():[e]),Hn(r)}:q$().includes(t)?function(...e){return t.apply(Ah(this),e),Hn(TR.get(this))}:function(...e){return Hn(t.apply(Ah(this),e))}}function Q$(t){return typeof t=="function"?K$(t):(t instanceof IDBTransaction&&W$(t),H$(t,z$())?new Proxy(t,$v):t)}function Hn(t){if(t instanceof IDBRequest)return G$(t);if(Uv.has(t))return Uv.get(t);let e=Q$(t);return e!==t&&(Uv.set(t,e),Hv.set(e,t)),e}var Ah=t=>Hv.get(t);function RR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Hn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hn(o.result),c.oldVersion,c.newVersion,Hn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Y$=["get","getKey","getAll","getAllKeys","count"],Z$=["put","add","delete","clear"],zv=new Map;function SR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Z$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y$.includes(n)))return;let s=function(o,...a){return R(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return zv.set(e,s),s}AR(t=>De(L({},t),{get:(e,n,r)=>SR(e,n)||t.get(e,n,r),has:(e,n)=>!!SR(e,n)||t.has(e,n)}));var Gv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function J$(t){let e=t.getComponent();return e?.type==="VERSION"}var Wv="@firebase/app",NR="0.10.11";var Cr=new si("@firebase/app"),X$="@firebase/app-compat",eH="@firebase/analytics-compat",tH="@firebase/analytics",nH="@firebase/app-check-compat",rH="@firebase/app-check",iH="@firebase/auth",sH="@firebase/auth-compat",oH="@firebase/database",aH="@firebase/database-compat",cH="@firebase/functions",uH="@firebase/functions-compat",lH="@firebase/installations",dH="@firebase/installations-compat",hH="@firebase/messaging",fH="@firebase/messaging-compat",pH="@firebase/performance",mH="@firebase/performance-compat",gH="@firebase/remote-config",yH="@firebase/remote-config-compat",vH="@firebase/storage",_H="@firebase/storage-compat",IH="@firebase/firestore",EH="@firebase/vertexai-preview",wH="@firebase/firestore-compat",bH="firebase",DH="10.13.2";var Kv="[DEFAULT]",TH={[Wv]:"fire-core",[X$]:"fire-core-compat",[tH]:"fire-analytics",[eH]:"fire-analytics-compat",[rH]:"fire-app-check",[nH]:"fire-app-check-compat",[iH]:"fire-auth",[sH]:"fire-auth-compat",[oH]:"fire-rtdb",[aH]:"fire-rtdb-compat",[cH]:"fire-fn",[uH]:"fire-fn-compat",[lH]:"fire-iid",[dH]:"fire-iid-compat",[hH]:"fire-fcm",[fH]:"fire-fcm-compat",[pH]:"fire-perf",[mH]:"fire-perf-compat",[gH]:"fire-rc",[yH]:"fire-rc-compat",[vH]:"fire-gcs",[_H]:"fire-gcs-compat",[IH]:"fire-fst",[wH]:"fire-fst-compat",[EH]:"fire-vertex","fire-js":"fire-js",[bH]:"fire-js-all"};var Oc=new Map,CH=new Map,Qv=new Map;function MR(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ai(t){let e=t.name;if(Qv.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,t);for(let n of Oc.values())MR(n,t);for(let n of CH.values())MR(n,t);return!0}function Xv(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Co(t){return t.settings!==void 0}var AH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Tr("app","Firebase",AH);var Yv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}};var Ao=DH;function e_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=Fv()),!n)throw oi.create("no-options");let s=Oc.get(i);if(s){if(To(n,s.options)&&To(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}let o=new Ch(i);for(let c of Qv.values())o.addComponent(c);let a=new Yv(n,r,o);return Oc.set(i,a),a}function Fc(t=Kv){let e=Oc.get(t);if(!e&&t===Kv&&Fv())return e_();if(!e)throw oi.create("no-app",{appName:t});return e}function Sh(){return Array.from(Oc.values())}function rt(t,e,n){var r;let i=(r=TH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(a.join(" "));return}ai(new dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var SH="firebase-heartbeat-database",RH=1,kc="firebase-heartbeat-store",qv=null;function kR(){return qv||(qv=RR(SH,RH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),qv}function NH(t){return R(this,null,function*(){try{let n=(yield kR()).transaction(kc),r=yield n.objectStore(kc).get(FR(t));return yield n.done,r}catch(e){if(e instanceof ln)Cr.warn(e.message);else{let n=oi.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}})}function xR(t,e){return R(this,null,function*(){try{let r=(yield kR()).transaction(kc,"readwrite");yield r.objectStore(kc).put(e,FR(t)),yield r.done}catch(n){if(n instanceof ln)Cr.warn(n.message);else{let r=oi.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}})}function FR(t){return`${t.name}!${t.options.appId}`}var MH=1024,xH=30*24*60*60*1e3,Zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=xH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cr.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PR(),{heartbeatsToSend:r,unsentEntries:i}=PH(this._heartbeatsCache.heartbeats),s=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}})}};function PR(){return new Date().toISOString().substring(0,10)}function PH(t,e=MH){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return Lv()?ER().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function OR(t){return Pc(JSON.stringify({version:2,heartbeats:t})).length}function OH(t){ai(new dn("platform-logger",e=>new Gv(e),"PRIVATE")),ai(new dn("heartbeat",e=>new Zv(e),"PRIVATE")),rt(Wv,NR,t),rt(Wv,NR,"esm2017"),rt("fire-js","")}OH("");var kH="firebase",FH="10.13.2";rt(kH,FH,"app");var Ro=new hr("ANGULARFIRE2_VERSION");function n_(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Vc=(t,e)=>{let n=e?[e]:Sh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Lc=class{constructor(){return Vc(LH)}},LH="app-check";function So(){}var Rh=class{zone;delegate;constructor(e,n=Np){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},t_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},jc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Rh(Zone.current)),this.insideAngular=n.run(()=>new Rh(Zone.current,jr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(se))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function VH(t){return Nh().ngZone.runOutsideAngular(()=>t())}function es(t){return Nh().ngZone.run(()=>t())}function jH(t){return UH(Nh())(t)}function UH(t){return function(n){return n=n.lift(new t_(t.ngZone)),n.pipe(Br(t.outsideAngular),Ur(t.insideAngular))}}var BH=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),es(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So))),r[s]=BH(r[s],n));let i=VH(()=>t.apply(this,r));if(!e)if(i instanceof Z){let s=Nh();return i.pipe(Br(s.outsideAngular),Ur(s.insideAngular))}else return es(()=>i);return i instanceof Z?i.pipe(jH):i instanceof Promise?es(()=>new Promise((s,o)=>i.then(a=>es(()=>s(a)),a=>es(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:es(()=>i)};var ts=class{constructor(e){return e}},Uc=class{constructor(){return Sh()}};function $H(t){return t&&t.length===1?t[0]:new ts(Fc())}var r_=new B("angularfire2._apps"),HH={provide:ts,useFactory:$H,deps:[[new Ht,r_]]},zH={provide:Uc,deps:[[new Ht,r_]]};function qH(t){return(e,n)=>{let r=n.get(Et);rt("angularfire",Ro.full,"core"),rt("angularfire",Ro.full,"app"),rt("angular",aA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ts(i)}}function tJ(t,...e){return bn([HH,zH,{provide:r_,useFactory:qH(t),multi:!0,deps:[se,et,jc,...e]}])}var nJ=Qt(e_,!0);function zR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qR=zR,GR=new Tr("auth","Firebase",zR());var Oh=new si("@firebase/auth");function WH(t,...e){Oh.logLevel<=he.WARN&&Oh.warn(`Auth (${Ao}): ${t}`,...e)}function xh(t,...e){Oh.logLevel<=he.ERROR&&Oh.error(`Auth (${Ao}): ${t}`,...e)}function LR(t,...e){throw m_(t,...e)}function p_(t,...e){return m_(t,...e)}function WR(t,e,n){let r=Object.assign(Object.assign({},qR()),{[e]:n});return new Tr("auth","Firebase",r).create(e,{appName:t.name})}function Ph(t){return WR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GR.create(t,...e)}function be(t,e,...n){if(!t)throw m_(e,...n)}function Bc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function kh(t,e){t||Bc(e)}function KH(){return VR()==="http:"||VR()==="https:"}function VR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function QH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KH()||vR()||"connection"in navigator)?navigator.onLine:!0}function YH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,kh(n>e,"Short delay should be less than long delay!"),this.isMobile=gR()||_R()}get(){return QH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZH(t,e){kh(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var JH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XH=new rs(3e4,6e4);function KR(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Uh(s,o,a,c){return R(this,arguments,function*(t,e,n,r,i={}){return QR(t,i,()=>R(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Vv(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:y},l);return yR()||(g.referrerPolicy="no-referrer"),Fh.fetch()(YR(t,t.config.apiHost,n,p),g)}))})}function QR(t,e,n){return R(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},JH),e);try{let i=new o_(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Mh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mh(t,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WR(t,h,l);LR(t,h)}}catch(i){if(i instanceof ln)throw i;LR(t,"network-request-failed",{message:String(i)})}})}function YR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ZH(t.config,i):`${t.config.apiScheme}://${i}`}var o_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(p_(this.auth,"network-request-failed")),XH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Mh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p_(t,e,r);return i.customData._tokenResponse=n,i}function ez(t,e){return R(this,null,function*(){return Uh(t,"POST","/v1/accounts:delete",e)})}function ZR(t,e){return R(this,null,function*(){return Uh(t,"POST","/v1/accounts:lookup",e)})}function $c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function g_(t,e=!1){return R(this,null,function*(){let n=Pt(t),r=yield n.getIdToken(e),i=JR(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$c(i_(i.auth_time)),issuedAtTime:$c(i_(i.iat)),expirationTime:$c(i_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function i_(t){return Number(t)*1e3}function JR(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=kv(n);return i?JSON.parse(i):(xh("Failed to decode base64 JWT payload"),null)}catch(i){return xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jR(t){let e=JR(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function a_(t,e,n=!1){return R(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ln&&tz(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function tz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var c_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),n)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Lh(t){return R(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield a_(t,ZR(n,{idToken:r}));be(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XR(s.providerUserInfo):[],a=nz(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=c?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function y_(t){return R(this,null,function*(){let e=Pt(t);yield Lh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XR(t){return t.map(e=>{var{providerId:n}=e,r=xp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function rz(t,e){return R(this,null,function*(){let n=yield QR(t,{},()=>R(this,null,function*(){let r=Vv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function iz(t,e){return R(this,null,function*(){return Uh(t,"POST","/v2/accounts:revokeToken",KR(t,e))})}var Hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");let n=jR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return R(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return R(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield rz(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bc("not implemented")}};function ci(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let n=yield a_(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return g_(this,e)}reload(){return y_(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return R(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Lh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(Co(this.auth.app))return Promise.reject(Ph(this.auth));let e=yield this.getIdToken();return yield a_(this,ez(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:G,isAnonymous:pe,providerData:Y,stsTokenManager:w}=n;be(U&&w,e,"internal-error");let v=Hc.fromJSON(this.name,w);be(typeof U=="string",e,"internal-error"),ci(p,e.name),ci(y,e.name),be(typeof G=="boolean",e,"internal-error"),be(typeof pe=="boolean",e,"internal-error"),ci(g,e.name),ci(E,e.name),ci(C,e.name),ci(A,e.name),ci(x,e.name),ci(V,e.name);let _=new t({uid:U,auth:e,email:y,emailVerified:G,displayName:p,isAnonymous:pe,photoURL:E,phoneNumber:g,tenantId:C,stsTokenManager:v,createdAt:x,lastLoginAt:V});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(b=>Object.assign({},b))),A&&(_._redirectEventId=A),_}static _fromIdTokenResponse(e,n,r=!1){return R(this,null,function*(){let i=new Hc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Lh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return R(this,null,function*(){let i=n.users[0];be(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?XR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Hc;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var UR=new Map;function ns(t){kh(t instanceof Function,"Expected a class definition");let e=UR.get(t);return e?(kh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UR.set(t,e),e)}var sz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(n,r){return R(this,null,function*(){this.storage[n]=r})}_get(n){return R(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return R(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),u_=sz;function s_(t,e,n){return`firebase:${t}:${e}:${n}`}var Vh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=s_(this.userKey,i.apiKey,s),this.fullPersistenceKey=s_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return R(this,null,function*(){if(!n.length)return new t(ns(u_),e,r);let i=(yield Promise.all(n.map(l=>R(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ns(u_),o=s_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=qc._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>R(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function BR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dz(e))return"Blackberry";if(hz(e))return"Webos";if(az(e))return"Safari";if((e.includes("chrome/")||cz(e))&&!e.includes("edge/"))return"Chrome";if(lz(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function oz(t=Kt()){return/firefox\//i.test(t)}function az(t=Kt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cz(t=Kt()){return/crios\//i.test(t)}function uz(t=Kt()){return/iemobile/i.test(t)}function lz(t=Kt()){return/android/i.test(t)}function dz(t=Kt()){return/blackberry/i.test(t)}function hz(t=Kt()){return/webos/i.test(t)}function eN(t,e=[]){let n;switch(t){case"Browser":n=BR(Kt());break;case"Worker":n=`${BR(Kt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}var l_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function fz(n){return R(this,arguments,function*(t,e={}){return Uh(t,"GET","/v2/passwordPolicy",KR(t,e))})}var pz=6,d_=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var h_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jh(this),this.idTokenSubscription=new jh(this),this.beforeStateQueue=new l_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let n=yield ZR(this,{idToken:e}),r=yield qc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var n;if(Co(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return R(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=YH()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(Co(this.app))return Promise.reject(Ph(this));let n=e?Pt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return R(this,null,function*(){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return Co(this.app)?Promise.reject(Ph(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Co(this.app)?Promise.reject(Ph(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(ns(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield fz(this),n=new d_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield iz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return R(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ns(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=yield Vh.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return R(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&WH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mz(t){return Pt(t)}var jh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var gz={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yz(t){gz=t}function vz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function _z(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var pJ=vz("rcb"),mJ=new rs(3e4,6e4);var gJ=new rs(2e3,1e4);var yJ=10*60*1e3;var vJ=new rs(3e4,6e4);var _J=new rs(5e3,15e3);var IJ=encodeURIComponent("fac");var $R="@firebase/auth",HR="1.7.9";var f_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Iz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ez(t){ai(new dn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eN(t)},l=new h_(r,i,s,c);return _z(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ai(new dn("auth-internal",e=>{let n=mz(e.getProvider("auth").getImmediate());return(r=>new f_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt($R,HR,Iz(t)),rt($R,HR,"esm2017")}var wz=5*60,EJ=pR("authIdTokenMaxAge")||wz;function bz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yz({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=p_("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ez("Browser");var wq="auth";var Bh=class{constructor(){return Vc(wq)}};var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nN={};var ui,v_;(function(){var t;function e(w,v){function _(){}_.prototype=v.prototype,w.D=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(b,D,S){for(var I=Array(arguments.length-2),Xn=2;Xn<arguments.length;Xn++)I[Xn-2]=arguments[Xn];return v.prototype[D].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)b[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],D=w.g[2];var S=w.g[3],I=v+(S^_&(D^S))+b[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+b[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+b[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+b[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+b[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+b[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+b[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+b[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+b[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+b[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+b[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+b[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+b[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+b[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+b[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+b[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(D^S&(_^D))+b[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+b[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+b[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+b[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+b[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+b[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+b[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+b[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+b[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+b[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+b[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+b[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+b[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+b[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+b[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+b[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(_^D^S)+b[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+b[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+b[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+b[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+b[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+b[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+b[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+b[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+b[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+b[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+b[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+b[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+b[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+b[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+b[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+b[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(D^(_|~S))+b[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+b[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+b[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+b[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+b[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+b[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+b[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+b[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+b[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+b[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+b[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+b[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+b[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+b[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+b[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+b[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var _=v-this.blockSize,b=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=_;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(b[D++]=w.charCodeAt(S++),D==this.blockSize){i(this,b),D=0;break}}else for(;S<v;)if(b[D++]=w[S++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var _=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.u(w),w=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)w[_++]=this.g[v]>>>b&255;return w};function s(w,v){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function o(w,v){this.h=v;for(var _=[],b=!0,D=w.length-1;0<=D;D--){var S=w[D]|0;b&&S==v||(_[D]=S,b=!1)}this.g=_}var a={};function c(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],_=1,b=0;w>=_;b++)v[b]=w/_|0,_*=4294967296;return new o(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),b=p,D=0;D<w.length;D+=8){var S=Math.min(8,w.length-D),I=parseInt(w.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),b=b.j(S).add(l(I))):(b=b.j(_),b=b.add(l(I)))}return b}var p=c(0),y=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-A(this).m();for(var w=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);w+=(0<=b?b:4294967296+b)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E(this))return"0";if(C(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),_=this,b="";;){var D=G(_,v).g;_=x(_,D.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=D,E(_))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function E(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function C(w){return w.h==-1}t.l=function(w){return w=x(this,w),C(w)?-1:E(w)?0:1};function A(w){for(var v=w.g.length,_=[],b=0;b<v;b++)_[b]=~w.g[b];return new o(_,~w.h).add(y)}t.abs=function(){return C(this)?A(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],b=0,D=0;D<=v;D++){var S=b+(this.i(D)&65535)+(w.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);b=I>>>16,S&=65535,I&=65535,_[D]=I<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function x(w,v){return w.add(A(v))}t.j=function(w){if(E(this)||E(w))return p;if(C(this))return C(w)?A(this).j(A(w)):A(A(this).j(w));if(C(w))return A(this.j(A(w)));if(0>this.l(g)&&0>w.l(g))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<w.g.length;D++){var S=this.i(b)>>>16,I=this.i(b)&65535,Xn=w.i(D)>>>16,ra=w.i(D)&65535;_[2*b+2*D]+=I*ra,V(_,2*b+2*D),_[2*b+2*D+1]+=S*ra,V(_,2*b+2*D+1),_[2*b+2*D+1]+=I*Xn,V(_,2*b+2*D+1),_[2*b+2*D+2]+=S*Xn,V(_,2*b+2*D+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new o(_,0)};function V(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function U(w,v){this.g=w,this.h=v}function G(w,v){if(E(v))throw Error("division by zero");if(E(w))return new U(p,p);if(C(w))return v=G(A(w),v),new U(A(v.g),A(v.h));if(C(v))return v=G(w,A(v)),new U(A(v.g),v.h);if(30<w.g.length){if(C(w)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var _=y,b=v;0>=b.l(w);)_=pe(_),b=pe(b);var D=Y(_,1),S=Y(b,1);for(b=Y(b,2),_=Y(_,2);!E(b);){var I=S.add(b);0>=I.l(w)&&(D=D.add(_),S=I),b=Y(b,1),_=Y(_,1)}return v=x(w,D.j(v)),new U(D,v)}for(D=p;0<=w.l(v);){for(_=Math.max(1,Math.floor(w.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=l(_),I=S.j(v);C(I)||0<I.l(w);)_-=b,S=l(_),I=S.j(v);E(S)&&(S=y),D=D.add(S),w=x(w,I)}return new U(D,w)}t.A=function(w){return G(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&w.i(b);return new o(_,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|w.i(b);return new o(_,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^w.i(b);return new o(_,this.h^w.h)};function pe(w){for(var v=w.g.length+1,_=[],b=0;b<v;b++)_[b]=w.i(b)<<1|w.i(b-1)>>>31;return new o(_,w.h)}function Y(w,v){var _=v>>5;v%=32;for(var b=w.g.length-_,D=[],S=0;S<b;S++)D[S]=0<v?w.i(S+_)>>>v|w.i(S+_+1)<<32-v:w.i(S+_);return new o(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v_=nN.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,ui=nN.Integer=o}).apply(typeof tN<"u"?tN:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ar={};var __,I_,No,E_,Gc,Hh,w_,b_,D_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var T=u[m];if(!(T in f))break e;f=f[T]}u=u[u.length-1],m=f[u],d=d(m),d!=m&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function s(u,d){u instanceof String&&(u+="");var f=0,m=!1,T={next:function(){if(!m&&f<u.length){var N=f++;return{value:d(N,u[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(u){return u||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),u.apply(d,T)}}return function(){return u.apply(d,arguments)}}function y(u,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function g(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function E(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(m,T,N){for(var j=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)j[Ce-2]=arguments[Ce];return d.prototype[T].apply(m,j)}}function C(u){let d=u.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=u[m];return f}return[]}function A(u,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let T=u.length||0,N=m.length||0;u.length=T+N;for(let j=0;j<N;j++)u[T+j]=m[j]}else u.push(m)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(u){return/^[\s\xa0]*$/.test(u)}function U(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var pe=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Y(u,d,f){for(let m in u)d.call(f,u[m],m,u)}function w(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)u[f]=m[f];for(let N=0;N<_.length;N++)f=_[N],Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}}function D(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function I(){var u=$f;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Xn{constructor(){this.h=this.g=null}add(d,f){let m=ra.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ra=new x(()=>new Px,u=>u.reset());class Px{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ia,sa=!1,$f=new Xn,tw=()=>{let u=a.Promise.resolve(void 0);ia=()=>{u.then(Ox)}};var Ox=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(f){S(f)}var d=ra;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}sa=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var kx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function oa(u,d){if(ft.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(pe){e:{try{G(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fx[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oa.aa.h.call(this)}}E(oa,ft);var Fx={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),Lx=0;function Vx(u,d,f,m,T){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++Lx,this.da=this.fa=!1}function gu(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yu(u){this.src=u,this.g={},this.h=0}yu.prototype.add=function(u,d,f,m,T){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var j=zf(u,d,m,T);return-1<j?(d=u[j],f||(d.fa=!1)):(d=new Vx(d,this.src,N,!!m,T),d.fa=f,u.push(d)),d};function Hf(u,d){var f=d.type;if(f in u.g){var m=u.g[f],T=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=T)&&Array.prototype.splice.call(m,T,1),N&&(gu(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function zf(u,d,f,m){for(var T=0;T<u.length;++T){var N=u[T];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return T}return-1}var qf="closure_lm_"+(1e6*Math.random()|0),Gf={};function nw(u,d,f,m,T){if(m&&m.once)return iw(u,d,f,m,T);if(Array.isArray(d)){for(var N=0;N<d.length;N++)nw(u,d[N],f,m,T);return null}return f=Yf(f),u&&u[aa]?u.K(d,f,l(m)?!!m.capture:!!m,T):rw(u,d,f,!1,m,T)}function rw(u,d,f,m,T,N){if(!d)throw Error("Invalid event type");var j=l(T)?!!T.capture:!!T,Ce=Kf(u);if(Ce||(u[qf]=Ce=new yu(u)),f=Ce.add(d,f,m,j,N),f.proxy)return f;if(m=jx(),f.proxy=m,m.src=u,m.listener=f,u.addEventListener)kx||(T=j),T===void 0&&(T=!1),u.addEventListener(d.toString(),m,T);else if(u.attachEvent)u.attachEvent(ow(d.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jx(){function u(f){return d.call(u.src,u.listener,f)}let d=Ux;return u}function iw(u,d,f,m,T){if(Array.isArray(d)){for(var N=0;N<d.length;N++)iw(u,d[N],f,m,T);return null}return f=Yf(f),u&&u[aa]?u.L(d,f,l(m)?!!m.capture:!!m,T):rw(u,d,f,!0,m,T)}function sw(u,d,f,m,T){if(Array.isArray(d))for(var N=0;N<d.length;N++)sw(u,d[N],f,m,T);else m=l(m)?!!m.capture:!!m,f=Yf(f),u&&u[aa]?(u=u.i,d=String(d).toString(),d in u.g&&(N=u.g[d],f=zf(N,f,m,T),-1<f&&(gu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete u.g[d],u.h--)))):u&&(u=Kf(u))&&(d=u.g[d.toString()],u=-1,d&&(u=zf(d,f,m,T)),(f=-1<u?d[u]:null)&&Wf(f))}function Wf(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[aa])Hf(d.i,u);else{var f=u.type,m=u.proxy;d.removeEventListener?d.removeEventListener(f,m,u.capture):d.detachEvent?d.detachEvent(ow(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Kf(d))?(Hf(f,u),f.h==0&&(f.src=null,d[qf]=null)):gu(u)}}}function ow(u){return u in Gf?Gf[u]:Gf[u]="on"+u}function Ux(u,d){if(u.da)u=!0;else{d=new oa(d,this);var f=u.listener,m=u.ha||u.src;u.fa&&Wf(u),u=f.call(m,d)}return u}function Kf(u){return u=u[qf],u instanceof yu?u:null}var Qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(u){return typeof u=="function"?u:(u[Qf]||(u[Qf]=function(d){return u.handleEvent(d)}),u[Qf])}function pt(){kr.call(this),this.i=new yu(this),this.M=this,this.F=null}E(pt,kr),pt.prototype[aa]=!0,pt.prototype.removeEventListener=function(u,d,f,m){sw(this,u,d,f,m)};function Tt(u,d){var f,m=u.F;if(m)for(f=[];m;m=m.F)f.push(m);if(u=u.M,m=d.type||d,typeof d=="string")d=new ft(d,u);else if(d instanceof ft)d.target=d.target||u;else{var T=d;d=new ft(m,u),b(d,T)}if(T=!0,f)for(var N=f.length-1;0<=N;N--){var j=d.g=f[N];T=vu(j,m,!0,d)&&T}if(j=d.g=u,T=vu(j,m,!0,d)&&T,T=vu(j,m,!1,d)&&T,f)for(N=0;N<f.length;N++)j=d.g=f[N],T=vu(j,m,!1,d)&&T}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],m=0;m<f.length;m++)gu(f[m]);delete u.g[d],u.h--}}this.F=null},pt.prototype.K=function(u,d,f,m){return this.i.add(String(u),d,!1,f,m)},pt.prototype.L=function(u,d,f,m){return this.i.add(String(u),d,!0,f,m)};function vu(u,d,f,m){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,N=0;N<d.length;++N){var j=d[N];if(j&&!j.da&&j.capture==f){var Ce=j.listener,st=j.ha||j.src;j.fa&&Hf(u.i,j),T=Ce.call(st,m)!==!1&&T}}return T&&!m.defaultPrevented}function aw(u,d,f){if(typeof u=="function")f&&(u=y(u,f));else if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function cw(u){u.g=aw(()=>{u.g=null,u.i&&(u.i=!1,cw(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class Bx extends kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(u){kr.call(this),this.h=u,this.g={}}E(ca,kr);var uw=[];function lw(u){Y(u.g,function(d,f){this.g.hasOwnProperty(f)&&Wf(d)},u),u.g={}}ca.prototype.N=function(){ca.aa.N.call(this),lw(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zf=a.JSON.stringify,$x=a.JSON.parse,Hx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Jf(){}Jf.prototype.h=null;function dw(u){return u.h||(u.h=u.i())}function hw(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xf(){ft.call(this,"d")}E(Xf,ft);function ep(){ft.call(this,"c")}E(ep,ft);var pi={},fw=null;function _u(){return fw=fw||new pt}pi.La="serverreachability";function pw(u){ft.call(this,pi.La,u)}E(pw,ft);function la(u){let d=_u();Tt(d,new pw(d))}pi.STAT_EVENT="statevent";function mw(u,d){ft.call(this,pi.STAT_EVENT,u),this.stat=d}E(mw,ft);function Ct(u){let d=_u();Tt(d,new mw(d,u))}pi.Ma="timingevent";function gw(u,d){ft.call(this,pi.Ma,u),this.size=d}E(gw,ft);function da(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function zx(u,d,f,m,T,N){u.info(function(){if(u.g)if(N)for(var j="",Ce=N.split("&"),st=0;st<Ce.length;st++){var ye=Ce[st].split("=");if(1<ye.length){var mt=ye[0];ye=ye[1];var gt=mt.split("_");j=2<=gt.length&&gt[1]=="type"?j+(mt+"="+ye+"&"):j+(mt+"=redacted&")}}else j=null;else j=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+j})}function qx(u,d,f,m,T,N,j){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+N+" "+j})}function Is(u,d,f,m){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Wx(u,f)+(m?" "+m:"")})}function Gx(u,d){u.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function Wx(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var m=f[u];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var j=1;j<T.length;j++)T[j]=""}}}}return Zf(f)}catch{return d}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tp;function Eu(){}E(Eu,Jf),Eu.prototype.g=function(){return new XMLHttpRequest},Eu.prototype.i=function(){return{}},tp=new Eu;function Fr(u,d,f,m){this.j=u,this.i=d,this.l=f,this.R=m||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vw}function vw(){this.i=null,this.g="",this.h=!1}var _w={},np={};function rp(u,d,f){u.L=1,u.v=Tu(er(d)),u.m=f,u.P=!0,Iw(u,null)}function Iw(u,d){u.F=Date.now(),wu(u),u.A=er(u.v);var f=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),Ow(f.i,"t",m),u.C=0,f=u.j.J,u.h=new vw,u.g=Jw(u.j,f?d:null,!u.m),0<u.O&&(u.M=new Bx(y(u.Y,u,u.g),u.O)),d=u.U,f=u.g,m=u.ca;var T="readystatechange";Array.isArray(T)||(T&&(uw[0]=T.toString()),T=uw);for(var N=0;N<T.length;N++){var j=nw(f,T[N],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),la(),zx(u.i,u.u,u.A,u.l,u.R,u.m)}Fr.prototype.ca=function(u){u=u.target;let d=this.M;d&&tr(u)==3?d.j():this.Y(u)},Fr.prototype.Y=function(u){try{if(u==this.g)e:{let gt=tr(this.g);var d=this.g.Ba();let bs=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Bw(this.g)))){this.J||gt!=4||d==7||(d==8||0>=bs?la(3):la(2)),ip(this);var f=this.g.Z();this.X=f;t:if(Ew(this)){var m=Bw(this.g);u="";var T=m.length,N=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),fa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,u+=this.h.i.decode(m[d],{stream:!(N&&d==T-1)});m.length=0,this.h.g+=u,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,qx(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,st=this.g;if((Ce=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ce)){var ye=Ce;break t}}ye=null}if(f=ye)Is(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sp(this,f);else{this.o=!1,this.s=3,Ct(12),mi(this),fa(this);break e}}if(this.P){f=!0;let pn;for(;!this.J&&this.C<j.length;)if(pn=Kx(this,j),pn==np){gt==4&&(this.s=4,Ct(14),f=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==_w){this.s=4,Ct(15),Is(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Is(this.i,this.l,pn,null),sp(this,pn);if(Ew(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||j.length!=0||this.h.h||(this.s=1,Ct(16),f=!1),this.o=this.o&&f,!f)Is(this.i,this.l,j,"[Invalid Chunked Response]"),mi(this),fa(this);else if(0<j.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),dp(mt),mt.M=!0,Ct(11))}}else Is(this.i,this.l,j,null),sp(this,j);gt==4&&mi(this),this.o&&!this.J&&(gt==4?Kw(this.j,this):(this.o=!1,wu(this)))}else dP(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),mi(this),fa(this)}}}catch{}finally{}};function Ew(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Kx(u,d){var f=u.C,m=d.indexOf(`
`,f);return m==-1?np:(f=Number(d.substring(f,m)),isNaN(f)?_w:(m+=1,m+f>d.length?np:(d=d.slice(m,m+f),u.C=m+f,d)))}Fr.prototype.cancel=function(){this.J=!0,mi(this)};function wu(u){u.S=Date.now()+u.I,ww(u,u.I)}function ww(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=da(y(u.ba,u),d)}function ip(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Fr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Gx(this.i,this.A),this.L!=2&&(la(),Ct(17)),mi(this),this.s=2,fa(this)):ww(this,this.S-u)};function fa(u){u.j.G==0||u.J||Kw(u.j,u)}function mi(u){ip(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,lw(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function sp(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||op(f.h,u))){if(!u.K&&op(f.h,u)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Nu(f),Su(f);else break e;lp(f),Ct(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=da(y(f.Za,f),6e3));if(1>=Tw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yi(f,11)}else if((u.K||f.g==u)&&Nu(f),!V(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ye=T[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let mt=ye[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let gt=ye[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let bs=ye[5];bs!=null&&typeof bs=="number"&&0<bs&&(m=1.5*bs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let pn=u.g;if(pn){let xu=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var N=m.h;N.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(ap(N,N.h),N.h=null))}if(m.D){let hp=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;hp&&(m.ya=hp,Pe(m.I,m.D,hp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=u;if(m.qa=Zw(m,m.J?m.ia:null,m.W),j.K){Cw(m.h,j);var Ce=j,st=m.L;st&&(Ce.I=st),Ce.B&&(ip(Ce),wu(Ce)),m.g=j}else Gw(m);0<f.i.length&&Ru(f)}else ye[0]!="stop"&&ye[0]!="close"||yi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?yi(f,7):up(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}la(4)}catch{}}var Qx=class{constructor(u,d){this.g=u,this.map=d}};function bw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Tw(u){return u.h?1:u.g?u.g.size:0}function op(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function ap(u,d){u.g?u.g.add(d):u.h=d}function Cw(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}bw.prototype.cancel=function(){if(this.i=Aw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Aw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return C(u.i)}function Yx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,m=0;m<f;m++)d.push(u[m]);return d}d=[],f=0;for(m in u)d[f++]=u[m];return d}function Zx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let m in u)d[f++]=m;return d}}}function Sw(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=Zx(u),m=Yx(u),T=m.length,N=0;N<T;N++)d.call(void 0,m[N],f&&f[N],u)}var Rw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jx(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var m=u[f].indexOf("="),T=null;if(0<=m){var N=u[f].substring(0,m);T=u[f].substring(m+1)}else N=u[f];d(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,bu(this,u.j),this.o=u.o,this.g=u.g,Du(this,u.s),this.l=u.l;var d=u.i,f=new ga;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Nw(this,f),this.m=u.m}else u&&(d=String(u).match(Rw))?(this.h=!1,bu(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),Du(this,d[4]),this.l=pa(d[5]||"",!0),Nw(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}gi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(ma(d,Mw,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(ma(d,Mw,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(ma(f,f.charAt(0)=="/"?tP:eP,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",ma(f,rP)),u.join("")};function er(u){return new gi(u)}function bu(u,d,f){u.j=f?pa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Du(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function Nw(u,d,f){d instanceof ga?(u.i=d,iP(u.i,u.h)):(f||(d=ma(d,nP)),u.i=new ga(d,u.h))}function Pe(u,d,f){u.i.set(d,f)}function Tu(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ma(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,Xx),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Mw=/[#\/\?@]/g,eP=/[#\?:]/g,tP=/[#\?]/g,nP=/[#\?@]/g,rP=/#/g;function ga(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&Jx(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ga.prototype,t.add=function(u,d){Lr(this),this.i=null,u=Es(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function xw(u,d){Lr(u),d=Es(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function Pw(u,d){return Lr(u),d=Es(u,d),u.g.has(d)}t.forEach=function(u,d){Lr(this),this.g.forEach(function(f,m){f.forEach(function(T){u.call(d,T,m,this)},this)},this)},t.na=function(){Lr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=u[m];for(let N=0;N<T.length;N++)f.push(d[m])}return f},t.V=function(u){Lr(this);let d=[];if(typeof u=="string")Pw(this,u)&&(d=d.concat(this.g.get(Es(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return Lr(this),this.i=null,u=Es(this,u),Pw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ow(u,d,f){xw(u,d),0<f.length&&(u.i=null,u.g.set(Es(u,d),C(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var T=N;j[m]!==""&&(T+="="+encodeURIComponent(String(j[m]))),u.push(T)}}return this.i=u.join("&")};function Es(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function iP(u,d){d&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(xw(this,m),Ow(this,T,f))},u)),u.j=d}function sP(u,d){let f=new ha;if(a.Image){let m=new Image;m.onload=g(Vr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=g(Vr,f,"TestLoadImage: error",!1,d,m),m.onabort=g(Vr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=g(Vr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else d(!1)}function oP(u,d){let f=new ha,m=new AbortController,T=setTimeout(()=>{m.abort(),Vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?Vr(f,"TestPingServer: ok",!0,d):Vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Vr(f,"TestPingServer: error",!1,d)})}function Vr(u,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function aP(){this.g=new Hx}function cP(u,d,f){let m=f||"";try{Sw(u,function(T,N){let j=T;l(T)&&(j=Zf(T)),d.push(m+N+"="+encodeURIComponent(j))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function ya(u){this.l=u.Ub||null,this.j=u.eb||!1}E(ya,Jf),ya.prototype.g=function(){return new Cu(this.l,this.j)},ya.prototype.i=function(u){return function(){return u}}({});function Cu(u,d){pt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Cu,pt),t=Cu.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,_a(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?va(this):_a(this),this.readyState==3&&kw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,va(this))},t.Qa=function(u){this.g&&(this.response=u,va(this))},t.ga=function(){this.g&&va(this)};function va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_a(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function _a(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fw(u){let d="";return Y(u,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function cp(u,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Fw(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Pe(u,d,f))}function $e(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E($e,pt);var uP=/^https?$/i,lP=["POST","PUT"];t=$e.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tp.g(),this.v=this.o?dw(this.o):dw(tp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(N){Lw(this,N);return}if(u=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lP,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,j]of f)this.g.setRequestHeader(N,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uw(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){Lw(this,N)}};function Lw(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Vw(u),Au(u)}function Vw(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jw(this):this.bb())},t.bb=function(){jw(this)};function jw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||tr(u)!=4||u.Z()!=2)){if(u.u&&tr(u)==4)aw(u.Ea,0,u);else if(Tt(u,"readystatechange"),tr(u)==4){u.h=!1;try{let j=u.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var T=String(u.D).match(Rw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!uP.test(T?T.toLowerCase():"")}f=m}if(f)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var N=2<tr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",Vw(u)}}finally{Au(u)}}}}function Au(u,d){if(u.g){Uw(u);let f=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Tt(u,"ready");try{f.onreadystatechange=m}catch{}}}function Uw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function tr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),$x(d)}};function Bw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dP(u){let d={};u=(u.g&&2<=tr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(V(u[m]))continue;var f=D(u[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[T]||[];d[T]=N,N.push(f)}w(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function $w(u){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,u),this.cb=Ia("retryDelaySeedMs",1e4,u),this.Wa=Ia("forwardChannelMaxRetries",2,u),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bw(u&&u.concurrentRequestLimit),this.Da=new aP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$w.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,m){Ct(0),this.W=u,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Zw(this,null,this.W),Ru(this)};function up(u){if(Hw(u),u.G==3){var d=u.U++,f=er(u.I);if(Pe(f,"SID",u.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),Ea(u,f),d=new Fr(u,u.j,d),d.L=2,d.v=Tu(er(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Jw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wu(d)}Yw(u)}function Su(u){u.g&&(dp(u),u.g.cancel(),u.g=null)}function Hw(u){Su(u),u.u&&(a.clearTimeout(u.u),u.u=null),Nu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ru(u){if(!Dw(u.h)&&!u.s){u.s=!0;var d=u.Ga;ia||tw(),sa||(ia(),sa=!0),$f.add(d,u),u.B=0}}function hP(u,d){return Tw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=da(y(u.Ga,u,d),Qw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let T=new Fr(this,this.j,u),N=this.o;if(this.S&&(N?(N=v(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=qw(this,T,d),f=er(this.I),Pe(f,"RID",u),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),Ea(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(Fw(N)))+"&"+d:this.m&&cp(f,this.m,N)),ap(this.h,T),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),T.T=!0,rp(T,f,null)):rp(T,f,d),this.G=2}}else this.G==3&&(u?zw(this,u):this.i.length==0||Dw(this.h)||zw(this))};function zw(u,d){var f;d?f=d.l:f=u.U++;let m=er(u.I);Pe(m,"SID",u.K),Pe(m,"RID",f),Pe(m,"AID",u.T),Ea(u,m),u.m&&u.o&&cp(m,u.m,u.o),f=new Fr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=qw(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ap(u.h,f),rp(f,m,d)}function Ea(u,d){u.H&&Y(u.H,function(f,m){Pe(d,m,f)}),u.l&&Sw({},function(f,m){Pe(d,m,f)})}function qw(u,d,f){f=Math.min(u.i.length,f);var m=u.l?y(u.l.Na,u.l,u):null;e:{var T=u.i;let N=-1;for(;;){let j=["count="+f];N==-1?0<f?(N=T[0].g,j.push("ofs="+N)):N=0:j.push("ofs="+N);let Ce=!0;for(let st=0;st<f;st++){let ye=T[st].g,mt=T[st].map;if(ye-=N,0>ye)N=Math.max(0,T[st].g-100),Ce=!1;else try{cP(mt,j,"req"+ye+"_")}catch{m&&m(mt)}}if(Ce){m=j.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,m}function Gw(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;ia||tw(),sa||(ia(),sa=!0),$f.add(d,u),u.v=0}}function lp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=da(y(u.Fa,u),Qw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=da(y(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Su(this),Ww(this))};function dp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Ww(u){u.g=new Fr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=er(u.qa);Pe(d,"RID","rpc"),Pe(d,"SID",u.K),Pe(d,"AID",u.T),Pe(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(d,"TO",u.ja),Pe(d,"TYPE","xmlhttp"),Ea(u,d),u.m&&u.o&&cp(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Tu(er(d)),f.m=null,f.P=!0,Iw(f,u)}t.Za=function(){this.C!=null&&(this.C=null,Su(this),lp(this),Ct(19))};function Nu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Kw(u,d){var f=null;if(u.g==d){Nu(u),dp(u),u.g=null;var m=2}else if(op(u.h,d))f=d.D,Cw(u.h,d),m=1;else return;if(u.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=u.B;m=_u(),Tt(m,new gw(m,f)),Ru(u)}else Gw(u);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&hP(u,d)||m==2&&lp(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),T){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Qw(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function yi(u,d){if(u.j.info("Error code "+d),d==2){var f=y(u.fb,u),m=u.Xa;let T=!m;m=new gi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bu(m,"https"),Tu(m),T?sP(m.toString(),f):oP(m.toString(),f)}else Ct(2);u.G=0,u.l&&u.l.sa(d),Yw(u),Hw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Yw(u){if(u.G=0,u.ka=[],u.l){let d=Aw(u.h);(d.length!=0||u.i.length!=0)&&(A(u.ka,d),A(u.ka,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.ra()}}function Zw(u,d,f){var m=f instanceof gi?er(f):new gi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Du(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var N=new gi(null);m&&bu(N,m),d&&(N.g=d),T&&Du(N,T),f&&(N.l=f),m=N}return f=u.D,d=u.ya,f&&d&&Pe(m,f,d),Pe(m,"VER",u.la),Ea(u,m),m}function Jw(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new $e(new ya({eb:f})):new $e(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}t=Xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mu(){}Mu.prototype.g=function(u,d){return new $t(u,d)};function $t(u,d){pt.call(this),this.g=new $w(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!V(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new ws(this)}E($t,pt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){up(this.g)},$t.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=Zf(u),u=f);d.i.push(new Qx(d.Ya++,u)),d.G==3&&Ru(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,$t.aa.N.call(this)};function eb(u){Xf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}E(eb,Xf);function tb(){ep.call(this),this.status=1}E(tb,ep);function ws(u){this.g=u}E(ws,Xw),ws.prototype.ua=function(){Tt(this.g,"a")},ws.prototype.ta=function(u){Tt(this.g,new eb(u))},ws.prototype.sa=function(u){Tt(this.g,new tb)},ws.prototype.ra=function(){Tt(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,D_=Ar.createWebChannelTransport=function(){return new Mu},b_=Ar.getStatEventTarget=function(){return _u()},w_=Ar.Event=pi,Hh=Ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Gc=Ar.ErrorCode=Iu,yw.COMPLETE="complete",E_=Ar.EventType=yw,hw.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",pt.prototype.listen=pt.prototype.K,No=Ar.WebChannel=hw,I_=Ar.FetchXmlHttpFactory=ya,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,__=Ar.XhrIo=$e}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});var rN="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Zo="10.13.2";var as=new si("@firebase/firestore");function Wc(){return as.logLevel}function H(t,...e){if(as.logLevel<=he.DEBUG){let n=e.map(lE);as.debug(`Firestore (${Zo}): ${t}`,...n)}}function Rr(t,...e){if(as.logLevel<=he.ERROR){let n=e.map(lE);as.error(`Firestore (${Zo}): ${t}`,...n)}}function Lo(t,...e){if(as.logLevel<=he.WARN){let n=e.map(lE);as.warn(`Firestore (${Zo}): ${t}`,...n)}}function lE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function Ne(t,e){t||te()}function ie(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},R_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}},N_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},M_=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>R(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new Kh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new it(e)}},x_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},P_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},O_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},k_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new O_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function bq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=bq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ht=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ht(0,0))}static max(){return new t(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends Yh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Dq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends Yh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Dq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var F_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};F_.UNKNOWN_ID=-1;function Tq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new cs(i,Q.empty(),e)}function Cq(t){return new cs(t.readTime,t.key,-1)}var cs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Q.empty(),-1)}static max(){return new t(ae.max(),Q.empty(),-1)}};function Aq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var Sq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lu(t){return R(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==Sq)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Rq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function du(t){return t.name==="IndexedDbTransactionError"}var kN=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Cf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function Nq(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Mq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wX=[...Mq,"documentOverlays"],xq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pq=xq,Oq=[...Pq,"indexConfiguration","indexState","indexEntries"];var bX=[...Oq,"globals"];function iN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ge=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oo(this.root,e,this.comparator,!0)}},Oo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class t{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hn=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new bt(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var kq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Ne(!!t),typeof t=="string"){let e=0,n=kq.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function dE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hE(t){let e=t.mapValue.fields.__previous_value__;return dE(e)?hE(e):e}function eu(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}var V_=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Xh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dE(t)?4:VN(t)?9007199254740991:LN(t)?10:11:te()}function Yn(t,e){if(t===e)return!0;let n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Nr(i.timestampValue),a=Nr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return di(i.bytesValue).isEqual(di(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?Xc(o)===Xc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(iN(o)!==iN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Yn(o[c],a[c])))return!1;return!0}(t,e);default:return te()}}function tu(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function jo(t,e){if(t===e)return 0;let n=us(t),r=us(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Le(s.integerValue||s.doubleValue),c=Le(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return sN(t.timestampValue,e.timestampValue);case 4:return sN(eu(t),eu(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let a=di(s),c=di(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=ve(a[l],c[l]);if(h!==0)return h}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ve(Le(s.latitude),Le(o.latitude));return a!==0?a:ve(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oN(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,h;let p=s.fields||{},y=o.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(c=y.value)===null||c===void 0?void 0:c.arrayValue,C=ve(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:oN(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zh.mapValue&&o===zh.mapValue)return 0;if(s===zh.mapValue)return 1;if(o===zh.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let y=ve(c[p],h[p]);if(y!==0)return y;let g=jo(a[c[p]],l[h[p]]);if(g!==0)return g}return ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function sN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Nr(t),r=Nr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function oN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=jo(n[i],r[i]);if(s)return s}return ve(n.length,r.length)}function Uo(t){return j_(t)}function j_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=j_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${j_(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function U_(t){return!!t&&"integerValue"in t}function fE(t){return!!t&&"arrayValue"in t}function aN(t){return!!t&&"nullValue"in t}function cN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function LN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function jN(t){let e=[];return ps(t.fields,(n,r)=>{let i=new Zt([n]);if(Gh(r)){let s=jN(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}var Rn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bo=class{constructor(e,n){this.position=e,this.inclusive=n}};function uN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}var $o=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Fq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ef=class{},tt=class t extends ef{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $_(e,n,r):n==="array-contains"?new q_(e,r):n==="in"?new G_(e,r):n==="not-in"?new W_(e,r):n==="array-contains-any"?new K_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H_(e,r):new z_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zn=class t extends ef{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return UN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function UN(t){return t.op==="and"}function BN(t){return Lq(t)&&UN(t)}function Lq(t){for(let e of t.filters)if(e instanceof Zn)return!1;return!0}function B_(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(BN(t))return t.filters.map(e=>B_(e)).join(",");{let e=t.filters.map(n=>B_(n)).join(",");return`${t.op}(${e})`}}function $N(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$N(o,i.filters[a]),!0):!1}(t,e):void te()}function HN(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(HN).join(" ,")+"}"}(t):"Filter"}var $_=class extends tt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},H_=class extends tt{constructor(e,n){super(e,"in",n),this.keys=zN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},z_=class extends tt{constructor(e,n){super(e,"not-in",n),this.keys=zN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function zN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var q_=class extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return fE(n)&&tu(n.arrayValue,this.value)}},G_=class extends tt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},W_=class extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},K_=class extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!fE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var Q_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function dN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q_(t,e,n,r,i,s,o)}function pE(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>B_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ue=n}return e.ue}function mE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$N(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lN(t.startAt,e.startAt)&&lN(t.endAt,e.endAt)}function Y_(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ho=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Vq(t,e,n,r,i,s,o,a){return new Ho(t,e,n,r,i,s,o,a)}function gE(t){return new Ho(t)}function hN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jq(t){return t.collectionGroup!==null}function Yc(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Zt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $o(s,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new $o(Zt.keyField(),r))}return e.ce}function Gn(t){let e=ie(t);return e.le||(e.le=Uq(e,Yc(t))),e.le}function Uq(t,e){if(t.limitType==="F")return dN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new $o(i.field,s)});let n=t.endAt?new Bo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bo(t.startAt.position,t.startAt.inclusive):null;return dN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Z_(t,e,n){return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return mE(Gn(t),Gn(e))&&t.limitType===e.limitType}function qN(t){return`${pE(Gn(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HN(i)).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Yc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=uN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(o,a,c){let l=uN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function Bq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GN(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let s=$q(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $q(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?jo(c,l):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var hi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return FN(this.inner)}size(){return this.innerSize}};var Hq=new Ge(Q.comparator);function Mr(){return Hq}var WN=new Ge(Q.comparator);function Kc(...t){let e=WN;for(let n of t)e=e.insert(n.key,n);return e}function KN(t){let e=WN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return Zc()}function QN(){return Zc()}function Zc(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}var zq=new Ge(Q.comparator),qq=new bt(Q.comparator);function fe(...t){let e=qq;for(let n of t)e=e.add(n);return e}var Gq=new bt(ve);function Wq(){return Gq}function yE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function YN(t){return{integerValue:""+t}}function Kq(t,e){return Nq(e)?YN(e):yE(t,e)}var zo=class{constructor(){this._=void 0}};function Qq(t,e,n){return t instanceof ls?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dE(s)&&(s=hE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ds?JN(t,e):t instanceof hs?XN(t,e):function(i,s){let o=ZN(i,s),a=fN(o)+fN(i.Pe);return U_(o)&&U_(i.Pe)?YN(a):yE(i.serializer,a)}(t,e)}function Yq(t,e,n){return t instanceof ds?JN(t,e):t instanceof hs?XN(t,e):n}function ZN(t,e){return t instanceof qo?function(r){return U_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ls=class extends zo{},ds=class extends zo{constructor(e){super(),this.elements=e}};function JN(t,e){let n=eM(e);for(let r of t.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var hs=class extends zo{constructor(e){super(),this.elements=e}};function XN(t,e){let n=eM(e);for(let r of t.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}var qo=class extends zo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function fN(t){return Le(t.integerValue||t.doubleValue)}function eM(t){return fE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var J_=class{constructor(e,n){this.field=e,this.transform=n}};function Zq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?Vo(r.elements,i.elements,Yn):r instanceof qo&&i instanceof qo?Yn(r.Pe,i.Pe):r instanceof ls&&i instanceof ls}(t.transform,e.transform)}var X_=class{constructor(e,n){this.version=e,this.transformResults=n}},Wn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Go=class{};function tM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nu(t.key,Wn.none()):new fs(t.key,t.data,Wn.none());{let n=t.data,r=Yt.empty(),i=new bt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jn(t.key,r,new hn(i.toArray()),Wn.none())}}function Jq(t,e,n){t instanceof fs?function(i,s,o){let a=i.value.clone(),c=mN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,s,o){if(!Wh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=mN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(nM(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof fs?function(s,o,a,c){if(!Wh(s.precondition,o))return a;let l=s.value.clone(),h=gN(s.fieldTransforms,c,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(s,o,a,c){if(!Wh(s.precondition,o))return a;let l=gN(s.fieldTransforms,c,o),h=o.data;return h.setAll(nM(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Wh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Xq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=ZN(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function pN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>Zq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fs=class extends Go{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends Go{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function mN(t,e,n){let r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Yq(o,a,n[i]))}return r}function gN(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Qq(s,o,e))}return r}var nu=class extends Go{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},eI=class extends Go{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var tI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Jq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=QN();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=tM(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>pN(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>pN(n,r))}},nI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return zq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var rI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var iI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ze,ge;function e4(t){switch(t){default:return te();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function rM(t){if(t===void 0)return Rr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ze.OK:return P.OK;case Ze.CANCELLED:return P.CANCELLED;case Ze.UNKNOWN:return P.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return P.INTERNAL;case Ze.UNAVAILABLE:return P.UNAVAILABLE;case Ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ze.NOT_FOUND:return P.NOT_FOUND;case Ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ze.ABORTED:return P.ABORTED;case Ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ze.DATA_LOSS:return P.DATA_LOSS;default:return te()}}(ge=Ze||(Ze={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var yN=null;function t4(){return new TextEncoder}var n4=new ui([4294967295,4294967295],0);function vN(t){let e=t4().encode(t),n=new v_;return n.update(e),new Uint8Array(n.digest())}function _N(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,s],0)]}var sI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ss(`Invalid padding: ${n}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ui.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(n4)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=vN(e),[r,i]=_N(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=vN(e),[r,i]=_N(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ss=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var tf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Ge(ve),Mr(),fe())}},ru=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var ko=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},nf=class{constructor(e,n){this.targetId=e,this.me=n}},rf=class{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},sf=class{constructor(){this.fe=0,this.ge=EN(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=EN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},oI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=IN(),this.Qe=new Ge(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Y_(s))if(r===0){let o=new Q(s.path);this.Ue(n,o,Rn.newNoDocument(o,ae.min()))}else Ne(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}yN?.et(function(h,p,y,g,E){var C,A,x,V,U,G;let pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Y=p.unchangedNames;return Y&&(pe.bloomFilter={applied:E===0,hashCount:(C=Y?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(V=(x=(A=Y?.bits)===null||A===void 0?void 0:A.bitmap)===null||x===void 0?void 0:x.length)!==null&&V!==void 0?V:0,padding:(G=(U=Y?.bits)===null||U===void 0?void 0:U.padding)!==null&&G!==void 0?G:0,mightContain:w=>{var v;return(v=g?.mightContain(w))!==null&&v!==void 0&&v}}),pe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=di(r).toUint8Array()}catch(c){if(c instanceof Jh)return Lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new sI(o,i,s)}catch(c){return Lo(c instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Y_(a.target)){let c=new Q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Rn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new tf(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=IN(),this.Qe=new Ge(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new sf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function IN(){return new Ge(Q.comparator)}function EN(){return new Ge(Q.comparator)}var r4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"},aI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function cI(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o4(t,e){return of(t,e.toTimestamp())}function Kn(t){return Ne(!!t),ae.fromTimestamp(function(n){let r=Nr(n);return new ht(r.seconds,r.nanos)}(t))}function vE(t,e){return uI(t,e).canonicalString()}function uI(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sM(t){let e=qe.fromString(t);return Ne(lM(e)),e}function lI(t,e){return vE(t.databaseId,e.path)}function T_(t,e){let n=sM(e);if(n.get(1)!==t.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(aM(n))}function oM(t,e){return vE(t.databaseId,e)}function a4(t){let e=sM(t);return e.length===4?qe.emptyPath():aM(e)}function dI(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aM(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wN(t,e,n){return{name:lI(t,e),fields:n.value.mapValue.fields}}function c4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ne(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?P.UNKNOWN:rM(l.code);return new z(h,l.message||"")}(o);n=new rf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=T_(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ae.min(),a=new Yt({mapValue:{fields:r.document.fields}}),c=Rn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ko(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=T_(t,r.document),s=r.readTime?Kn(r.readTime):ae.min(),o=Rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ko([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=T_(t,r.document),s=r.removedTargetIds||[];n=new ko([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new iI(i,s),a=r.targetId;n=new nf(a,o)}}return n}function u4(t,e){let n;if(e instanceof fs)n={update:wN(t,e.key,e.value)};else if(e instanceof nu)n={delete:lI(t,e.key)};else if(e instanceof Jn)n={update:wN(t,e.key,e.data),updateMask:v4(e.fieldMask)};else{if(!(e instanceof eI))return te();n={verify:lI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ls)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ds)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function l4(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(ae.min())&&(o=Kn(s)),new X_(o,i.transformResults||[])}(n,e))):[]}function d4(t,e){return{documents:[oM(t,e.path)]}}function h4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oM(t,i);let s=function(l){if(l.length!==0)return uM(Zn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:xo(y.field),direction:m4(y.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=cI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function f4(t){let e=a4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let y=cM(p);return y instanceof Zn&&BN(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new $o(Po(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Cf(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){let y=!!p.before,g=p.values||[];return new Bo(g,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,g=p.values||[];return new Bo(g,y)}(n.endAt)),Vq(e,i,o,s,a,"F",c,l)}function p4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Po(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Po(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Po(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Po(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>cM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function m4(t){return r4[t]}function g4(t){return i4[t]}function y4(t){return s4[t]}function xo(t){return{fieldPath:t.canonicalString()}}function Po(t){return Zt.fromServerFormat(t.fieldPath)}function uM(t){return t instanceof tt?function(n){if(n.op==="=="){if(cN(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(aN(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cN(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(aN(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:g4(n.op),value:n.value}}}(t):t instanceof Zn?function(n){let r=n.getFilters().map(i=>uM(i));return r.length===1?r[0]:{compositeFilter:{op:y4(n.op),filters:r}}}(t):te()}function v4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iu=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hI=class{constructor(e){this.ct=e}};function _4(t){let e=f4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Z_(e,e.limit,"L"):e}var af=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Le(e.integerValue));else if("doubleValue"in e){let r=Le(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(di(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?VN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):LN(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Le(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};af.vt=new af;var fI=class{constructor(){this.un=new pI}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(cs.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},pI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(qe.comparator)).toArray()}};var TX=new Uint8Array(0);var zn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var su=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var mI=class{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jc(r.mutation,i,hn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Kc();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr(),o=Zc(),a=function(){return Zc()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Jn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Jc(h.mutation,l,h.mutation.getFieldMask(),ht.now())):o.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new gI(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Zc(),i=new Ge((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||hn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||fe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=QN();h.forEach(y=>{if(!s.has(y)){let g=tM(n.get(y),r.get(y));g!==null&&p.set(y,g),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(is()),a=-1,c=s;return o.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,fe())).next(h=>({batchId:a,changes:KN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Kc();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,c=>{let l=function(p,y){return new Ho(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Rn.newInvalidDocument(h)))});let a=Kc();return o.forEach((c,l)=>{let h=s.get(c);h!==void 0&&Jc(h.mutation,l,hn.empty(),ht.now()),Sf(n,l)&&(a=a.insert(c,l))}),a})}};var vI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_4(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),F.resolve()}};var _I=class{constructor(){this.overlays=new Ge(Q.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=is();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=is(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=is(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=is(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rI(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var II=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var ou=class{constructor(){this.Tr=new bt(Je.Er),this.dr=new bt(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Q(new qe([])),r=new Je(n,e),i=new Je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Q(new qe([])),r=new Je(n,e),i=new Je(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||Q.comparator(e.key,n.key)}};var EI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bt(Je.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new tI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ve);return n.forEach(i=>{let s=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Q.isDocumentKey(s)||(s=s.child(""));let o=new Je(new Q(s),0),a=new bt(ve);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let s=new Je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Je(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr(),o=n.path,a=new Q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Aq(Cq(h),r)<=0||(i.has(h.key)||Sf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bI(this)}getSize(e){return F.resolve(this.size)}},bI=class extends mI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var DI=class{constructor(e){this.persistence=e,this.Nr=new hi(n=>pE(n),mE),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ou,this.targetCount=0,this.kr=su.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new su(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var TI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kN(0),this.Kr=!1,this.Kr=!0,this.$r=new II,this.referenceDelegate=e(this),this.Ur=new DI(this),this.indexManager=new fI,this.remoteDocumentCache=function(i){return new wI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hI(n),this.Gr=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new EI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new CI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},CI=class extends L_{constructor(e){super(),this.currentSequenceNumber=e}},AI=class t{constructor(e){this.persistence=e,this.Jr=new ou,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var SI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var RI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var NI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IR()?8:Rq(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new RI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=he.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Wc()<=he.DEBUG&&H("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=he.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):F.resolve())}Yi(e,n){if(hN(n))return F.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Z_(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,o,c.readTime)?this.Yi(e,Z_(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return hN(n)||i.isEqual(ae.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(Wc()<=he.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(n)),this.rs(e,o,n,Tq(i,-1)).next(a=>a))})}ts(e,n){let r=new bt(GN(e));return n.forEach((i,s)=>{Sf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=he.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.Ji.getDocumentsMatchingQuery(e,n,cs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var MI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ge(ve),this._s=new hi(s=>pE(s),mE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function I4(t,e,n,r){return new MI(t,e,n,r)}function dM(t,e){return R(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=fe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function E4(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,y=p.keys(),g=F.resolve();return y.forEach(E=>{g=g.next(()=>h.getEntry(c,E)).next(C=>{let A=l.docVersions.get(E);Ne(A!==null),C.version.compareTo(A)<0&&(p.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),h.addEntry(C)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hM(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function w4(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let g=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(C,A,x){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(y,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let c=Mr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(b4(s,o,e.documentUpdates).next(h=>{c=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.os=i,s))}function b4(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function D4(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T4(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new iu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function xI(t,e,n){return R(this,null,function*(){let r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!du(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function bN(t,e,n){let r=ie(t),i=ae.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,h){let p=ie(c),y=p._s.get(h);return y!==void 0?F.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:fe())).next(a=>(C4(r,Bq(e),a),{documents:a,Ts:s})))}function C4(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var cf=class{constructor(){this.activeTargetIds=Wq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var PI=class{constructor(){this.so=new cf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var OI=class{_o(e){}shutdown(){}};var uf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qh=null;function C_(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}var A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var kI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var wt="WebChannelConnection",FI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=C_(),c=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,c,l,i).then(h=>(H("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Lo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=A4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=C_();return new Promise((o,a)=>{let c=new __;c.setWithCredentials(!0),c.listenOnce(E_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gc.NO_ERROR:let h=c.getResponseJson();H(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Gc.TIMEOUT:H(wt,`RPC '${e}' ${s} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=c.getStatus();if(H(wt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let E=function(A){let x=A.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(x)>=0?x:P.UNKNOWN}(g.status);a(new z(E,g.message))}else a(new z(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{H(wt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);H(wt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=C_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=D_(),a=b_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new I_({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=s.join("");H(wt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=o.createWebChannel(h,c),y=!1,g=!1,E=new kI({Io:A=>{g?H(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(H(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),H(wt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),C=(A,x,V)=>{A.listen(x,U=>{try{V(U)}catch(G){setTimeout(()=>{throw G},0)}})};return C(p,No.EventType.OPEN,()=>{g||(H(wt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),C(p,No.EventType.CLOSE,()=>{g||(g=!0,H(wt,`RPC '${e}' stream ${i} transport closed`),E.So())}),C(p,No.EventType.ERROR,A=>{g||(g=!0,Lo(wt,`RPC '${e}' stream ${i} transport errored:`,A),E.So(new z(P.UNAVAILABLE,"The operation could not be completed")))}),C(p,No.EventType.MESSAGE,A=>{var x;if(!g){let V=A.data[0];Ne(!!V);let U=V,G=U.error||((x=U[0])===null||x===void 0?void 0:x.error);if(G){H(wt,`RPC '${e}' stream ${i} received error:`,G);let pe=G.status,Y=function(_){let b=Ze[_];if(b!==void 0)return rM(b)}(pe),w=G.message;Y===void 0&&(Y=P.INTERNAL,w="Unknown error status: "+pe+" with message "+G.message),g=!0,E.So(new z(Y,w)),p.close()}else H(wt,`RPC '${e}' stream ${i} received:`,V),E.bo(V)}}),C(a,w_.STAT_EVENT,A=>{A.stat===Hh.PROXY?H(wt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Hh.NOPROXY&&H(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}};function A_(){return typeof document<"u"?document:null}function Rf(t){return new aI(t,!0)}var lf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var df=class{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return R(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return R(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return R(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>R(this,null,function*(){this.state=0,this.start()}))}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},LI=class extends df{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=c4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Kn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=dI(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Y_(c)?{documents:d4(s,c)}:{query:h4(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iM(s,o.resumeToken);let l=cI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=of(s,o.snapshotVersion.toTimestamp());let l=cI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=p4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=dI(this.serializer),n.removeTarget=e,this.a_(n)}},VI=class extends df{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=l4(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=dI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>u4(this.serializer,r))};this.a_(n)}};var jI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,uI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,uI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},UI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rr(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var BI=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>R(this,null,function*(){ms(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(c){return R(this,null,function*(){let l=ie(c);l.L_.add(4),yield hu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Nf(l)})}(this))}))}),this.q_=new UI(r,i)}};function Nf(t){return R(this,null,function*(){if(ms(t))for(let e of t.B_)yield e(!0)})}function hu(t){return R(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fM(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wE(n)?EE(n):Jo(n).r_()&&IE(n,e))}function _E(t,e){let n=ie(t),r=Jo(n);n.N_.delete(e),r.r_()&&pM(n,e),n.N_.size===0&&(r.r_()?r.o_():ms(n)&&n.q_.set("Unknown"))}function IE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).A_(e)}function pM(t,e){t.Q_.xe(e),Jo(t).R_(e)}function EE(t){t.Q_=new oI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.q_.v_()}function wE(t){return ms(t)&&!Jo(t).n_()&&t.N_.size>0}function ms(t){return ie(t).L_.size===0}function mM(t){t.Q_=void 0}function S4(t){return R(this,null,function*(){t.q_.set("Online")})}function R4(t){return R(this,null,function*(){t.N_.forEach((e,n)=>{IE(t,e)})})}function N4(t,e){return R(this,null,function*(){mM(t),wE(t)?(t.q_.M_(e),EE(t)):t.q_.set("Unknown")})}function M4(t,e,n){return R(this,null,function*(){if(t.q_.set("Online"),e instanceof rf&&e.state===2&&e.cause)try{yield function(i,s){return R(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hf(t,r)}else if(e instanceof ko?t.Q_.Ke(e):e instanceof nf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield hM(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),pM(s,c);let p=new iu(h.target,c,l,h.sequenceNumber);IE(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield hf(t,r)}})}function hf(t,e,n){return R(this,null,function*(){if(!du(e))throw e;t.L_.add(1),yield hu(t),t.q_.set("Offline"),n||(n=()=>hM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Nf(t)}))})}function gM(t,e){return e().catch(n=>hf(t,n,e))}function Mf(t){return R(this,null,function*(){let e=ie(t),n=fi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;x4(e);)try{let i=yield D4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,P4(e,i)}catch(i){yield hf(e,i)}yM(e)&&vM(e)})}function x4(t){return ms(t)&&t.O_.length<10}function P4(t,e){t.O_.push(e);let n=fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yM(t){return ms(t)&&!fi(t).n_()&&t.O_.length>0}function vM(t){fi(t).start()}function O4(t){return R(this,null,function*(){fi(t).p_()})}function k4(t){return R(this,null,function*(){let e=fi(t);for(let n of t.O_)e.m_(n.mutations)})}function F4(t,e,n){return R(this,null,function*(){let r=t.O_.shift(),i=nI.from(r,e,n);yield gM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mf(t)})}function L4(t,e){return R(this,null,function*(){e&&fi(t).V_&&(yield function(r,i){return R(this,null,function*(){if(function(o){return e4(o)&&o!==P.ABORTED}(i.code)){let s=r.O_.shift();fi(r).s_(),yield gM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Mf(r)}})}(t,e)),yM(t)&&vM(t)})}function DN(t,e){return R(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=ms(n);n.L_.add(3),yield hu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Nf(n)})}function V4(t,e){return R(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Nf(n)):e||(n.L_.add(2),yield hu(n),n.q_.set("Unknown"))})}function Jo(t){return t.K_||(t.K_=function(n,r,i){let s=ie(n);return s.w_(),new LI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:S4.bind(null,t),Ro:R4.bind(null,t),mo:N4.bind(null,t),d_:M4.bind(null,t)}),t.B_.push(e=>R(this,null,function*(){e?(t.K_.s_(),wE(t)?EE(t):t.q_.set("Unknown")):(yield t.K_.stop(),mM(t))}))),t.K_}function fi(t){return t.U_||(t.U_=function(n,r,i){let s=ie(n);return s.w_(),new VI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O4.bind(null,t),mo:L4.bind(null,t),f_:k4.bind(null,t),g_:F4.bind(null,t)}),t.B_.push(e=>R(this,null,function*(){e?(t.U_.s_(),yield Mf(t)):(yield t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var $I=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bE(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),du(t))return new z(P.UNAVAILABLE,`${e}: ${t}`);throw t}var ff=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var pf=class{constructor(){this.W_=new Ge(Q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Wo=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ff.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var HI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},zI=class{constructor(){this.queries=TN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),s=i.queries;i.queries=TN(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function TN(){return new hi(t=>qN(t),Af)}function j4(t,e){return R(this,null,function*(){let n=ie(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new HI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=bE(o,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&DE(n)})}function U4(t,e){return R(this,null,function*(){let n=ie(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function B4(t,e){let n=ie(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&DE(n)}function $4(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function DE(t){t.Y_.forEach(e=>{e.next()})}var qI,CN;(CN=qI||(qI={})).ea="default",CN.Cache="cache";var GI=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qI.Cache}};var mf=class{constructor(e){this.key=e}},gf=class{constructor(e){this.key=e}},WI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=GN(e),this.Ra=new ff(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new pf,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),g=Sf(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),A=!1;y&&g?y.data.isEqual(g.data)?E!==C&&(r.track({type:3,doc:g}),A=!0):this.ga(y,g)||(r.track({type:2,doc:g}),A=!0,(c&&this.Aa(g,c)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),A=!0):y&&!g&&(r.track({type:1,doc:y}),A=!0,(c||l)&&(a=!0)),A&&(g?(o=o.add(g),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(g,E){let C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return C(g)-C(E)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new Wo(this.query,e.Ra,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mf(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},KI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},QI=class{constructor(e){this.key=e,this.va=!1}},YI=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hi(a=>qN(a),Af),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(Q.comparator),this.Na=new Map,this.La=new ou,this.Ba={},this.ka=new Map,this.qa=su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function H4(t,e,n=!0){return R(this,null,function*(){let r=DM(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield _M(r,e,n,!0),i})}function z4(t,e){return R(this,null,function*(){let n=DM(t);yield _M(n,e,!0,!1)})}function _M(t,e,n,r){return R(this,null,function*(){let i=yield T4(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield q4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fM(t.remoteStore,i),a})}function q4(t,e,n,r,i){return R(this,null,function*(){t.Ka=(p,y,g)=>function(C,A,x,V){return R(this,null,function*(){let U=A.view.ma(x);U.ns&&(U=yield bN(C.localStore,A.query,!1).then(({documents:w})=>A.view.ma(w,U)));let G=V&&V.targetChanges.get(A.targetId),pe=V&&V.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(U,C.isPrimaryClient,G,pe);return SN(C,A.targetId,Y.wa),Y.snapshot})}(t,p,y,g);let s=yield bN(t.localStore,e,!0),o=new WI(e,s.Ts),a=o.ma(s.documents),c=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);SN(t,n,l.wa);let h=new KI(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function G4(t,e,n){return R(this,null,function*(){let r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Af(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_E(r.remoteStore,i.targetId),ZI(r,i.targetId)}).catch(lu))):(ZI(r,i.targetId),yield xI(r.localStore,i.targetId,!0))})}function W4(t,e){return R(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_E(n.remoteStore,r.targetId))})}function K4(t,e,n){return R(this,null,function*(){let r=tG(t);try{let i=yield function(o,a){let c=ie(o),l=ht.now(),h=a.reduce((g,E)=>g.add(E.key),fe()),p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Mr(),C=fe();return c.cs.getEntries(g,h).next(A=>{E=A,E.forEach((x,V)=>{V.isValidDocument()||(C=C.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,E)).next(A=>{p=A;let x=[];for(let V of a){let U=Xq(V,p.get(V.key).overlayedDocument);U!=null&&x.push(new Jn(V.key,U,jN(U.value.mapValue),Wn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,x,a)}).next(A=>{y=A;let x=A.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(g,A.batchId,x)})}).then(()=>({batchId:y.batchId,changes:KN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ge(ve)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield fu(r,i.changes),yield Mf(r.remoteStore)}catch(i){let s=bE(i,"Failed to persist write");n.reject(s)}})}function IM(t,e){return R(this,null,function*(){let n=ie(t);try{let r=yield w4(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),yield fu(n,r,e)}catch(r){yield lu(r)}})}function AN(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ie(o);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&DE(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q4(t,e,n){return R(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ge(Q.comparator);o=o.insert(s,Rn.newNoDocument(s,ae.min()));let a=fe().add(s),c=new tf(ae.min(),new Map,new Ge(ve),o,a);yield IM(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),TE(r)}else yield xI(r.localStore,e,!1).then(()=>ZI(r,e,n)).catch(lu)})}function Y4(t,e){return R(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield E4(n.localStore,e);wM(n,r,null),EM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fu(n,i)}catch(i){yield lu(i)}})}function Z4(t,e,n){return R(this,null,function*(){let r=ie(t);try{let i=yield function(o,a){let c=ie(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ne(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);wM(r,e,n),EM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fu(r,i)}catch(i){yield lu(i)}})}function EM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wM(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ZI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bM(t,r)})}function bM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(_E(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),TE(t))}function SN(t,e,n){for(let r of n)r instanceof mf?(t.La.addReference(r.key,e),J4(t,r)):r instanceof gf?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bM(t,r.key)):te()}function J4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),TE(t))}function TE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Q(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new QI(n)),t.Oa=t.Oa.insert(n,r),fM(t.remoteStore,new iu(Gn(gE(n.path)),r,"TargetPurposeLimboResolution",kN.oe))}}function fu(t,e,n){return R(this,null,function*(){let r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=SI.Wi(c.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,l){return R(this,null,function*(){let h=ie(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.$i,g=>h.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>F.forEach(y.Ui,g=>h.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!du(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let g=h.os.get(y),E=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(y,C)}}})}(r.localStore,s))})}function X4(t,e){return R(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield dM(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new z(P.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fu(n,r.hs)}})}function eG(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function DM(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,e),e.Ca.d_=B4.bind(null,e.eventManager),e.Ca.$a=$4.bind(null,e.eventManager),e}function tG(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z4.bind(null,e),e}var yf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I4(this.persistence,new NI,e.initialUser,this.serializer)}createPersistence(e){return new TI(AI.Zr,this.serializer)}createSharedClientState(e){return new PI}terminate(){return R(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var JI=class{initialize(e,n){return R(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,this.syncEngine),yield V4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new zI}()}createDatastore(e){let n=Rf(e.databaseInfo.databaseId),r=function(s){return new FI(s)}(e.databaseInfo);return function(s,o,a,c){return new jI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new BI(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AN(this.syncEngine,n,0),function(){return uf.D()?new uf:new OI}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,h){let p=new YI(i,s,o,a,c,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return R(this,null,function*(){var e,n;yield function(i){return R(this,null,function*(){let s=ie(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield hu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var XI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eE=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Qh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>R(this,null,function*(){H("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=bE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function S_(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield dM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function RN(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rG(t);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DN(e.remoteStore,i)),t._onlineComponents=e})}function nG(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function rG(t){return R(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield S_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!nG(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),yield S_(t,new yf)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield S_(t,new yf);return t._offlineComponents})}function TM(t){return R(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield RN(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield RN(t,new JI))),t._onlineComponents})}function iG(t){return TM(t).then(e=>e.syncEngine)}function NN(t){return R(this,null,function*(){let e=yield TM(t),n=e.eventManager;return n.onListen=H4.bind(null,e.syncEngine),n.onUnlisten=G4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),n})}function CM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var MN=new Map;function AM(t,e,n){if(!n)throw new z(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sG(t,e,n,r){if(e===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xN(t){if(!Q.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PN(t){if(Q.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=CE(t);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ko=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R_;switch(r.type){case"firstParty":return new P_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=MN.get(n);r&&(H("ComponentProvider","Removing Datastore"),MN.delete(n),r.terminate())}(this),Promise.resolve()}};function SM(t,e,n,r={}){var i;let s=(t=Qn(t,Ko))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=it.MOCK_USER;else{a=mR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(l)}t._authCredentials=new N_(new Kh(a,c))}}var _f=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},li=class t extends _f{constructor(e,n,r){super(e,n,gE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function RM(t,e,...n){if(t=Pt(t),AM("collection","path",e),t instanceof Ko){let r=qe.fromString(e,...n);return PN(r),new li(t,null,r)}{if(!(t instanceof Bt||t instanceof li))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return PN(r),new li(t.firestore,null,r)}}function AE(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Qh.newId()),AM("doc","path",e),t instanceof Ko){let r=qe.fromString(e,...n);return xN(r),new Bt(t,null,new Q(r))}{if(!(t instanceof Bt||t instanceof li))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return xN(r),new Bt(t.firestore,t instanceof li?t.converter:null,new Q(r))}}var tE=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new lf(this,"async_queue_retry"),this.Eu=()=>{let n=A_();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=A_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=A_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Sr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return R(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!du(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=$I.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&te()}verifyOperationInProgress(){}mu(){return R(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function ON(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xr=class extends Ko{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tE}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xM(this),this._firestoreClient.terminate()}};function NM(t,e){let n=typeof t=="object"?t:Fc(),r=typeof t=="string"?t:e||"(default)",i=Xv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=fR("firestore");s&&SM(i,...s)}return i}function MM(t){return t._firestoreClient||xM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,h){return new V_(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eE(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Dt.fromBase64String(e))}catch(n){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yo=class{constructor(e){this._methodName=e}};var cu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var uu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var oG=/^__.*__$/,nE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new fs(e,this.data,n,this.fieldTransforms)}},If=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var rE=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return wf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(PM(this.wu)&&oG.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},iE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(e)}Nu(e,n,r,i=!1){return new rE({wu:e,methodName:n,Ou:r,path:Zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SE(t){let e=t._freezeSettings(),n=Rf(t._databaseId);return new iE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OM(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);RE("Data must be an object, but it was:",o,r);let a=kM(r,o),c,l;if(s.merge)c=new hn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let y=oE(e,p,n);if(!o.contains(y))throw new z(P.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);LM(h,y)||h.push(y)}c=new hn(h),l=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=o.fieldTransforms;return new nE(new Yt(a),c,l)}var Ef=class t extends Yo{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var sE=class t extends Yo{_toFieldTransform(e){return new J_(e.path,new ls)}isEqual(e){return e instanceof t}};function aG(t,e,n,r){let i=t.Nu(1,e,n);RE("Data must be an object, but it was:",i,r);let s=[],o=Yt.empty();ps(r,(c,l)=>{let h=NE(e,c,n);l=Pt(l);let p=i.Cu(h);if(l instanceof Ef)s.push(h);else{let y=xf(l,p);y!=null&&(s.push(h),o.set(h,y))}});let a=new hn(s);return new If(o,a,i.fieldTransforms)}function cG(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[oE(e,r,n)],c=[i];if(s.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(oE(e,s[y])),c.push(s[y+1]);let l=[],h=Yt.empty();for(let y=a.length-1;y>=0;--y)if(!LM(l,a[y])){let g=a[y],E=c[y];E=Pt(E);let C=o.Cu(g);if(E instanceof Ef)l.push(g);else{let A=xf(E,C);A!=null&&(l.push(g),h.set(g,A))}}let p=new hn(l);return new If(h,p,o.fieldTransforms)}function xf(t,e){if(FM(t=Pt(t)))return RE("Unsupported field value:",e,t),kM(t,e);if(t instanceof Yo)return function(r,i){if(!PM(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=xf(a,i.Fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ht.fromDate(r);return{timestampValue:of(i.serializer,s)}}if(r instanceof ht){let s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,s)}}if(r instanceof cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:iM(i.serializer,r._byteString)};if(r instanceof Bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Mu("VectorValues must only contain numeric values.");return yE(a.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${CE(r)}`)}(t,e)}function kM(t,e){let n={};return FN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,i)=>{let s=xf(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof cu||t instanceof au||t instanceof Bt||t instanceof Yo||t instanceof uu)}function RE(t,e,n){if(!FM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=CE(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function oE(t,e,n){if((e=Pt(e))instanceof Qo)return e._internalPath;if(typeof e=="string")return NE(t,e);throw wf("Field path arguments must be of type string or ",t,!1,void 0,n)}var uG=new RegExp("[~\\*/\\[\\]]");function NE(t,e,n){if(e.search(uG)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qo(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new z(P.INVALID_ARGUMENT,a+t+c)}function LM(t,e){return t.some(n=>n.isEqual(e))}var bf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new aE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(VM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},aE=class extends bf{data(){return super.data()}};function VM(t,e){return typeof e=="string"?NE(t,e):e instanceof Qo?e._internalPath:e._delegate._internalPath}function lG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cE=class{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Le(o.doubleValue));return new uu(s)}convertGeoPoint(e){return new cu(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=hE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Nr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qe.fromString(e);Ne(lM(r));let i=new Xh(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function jM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var os=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Df=class extends bf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(VM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Fo=class extends Df{data(e={}){return super.data(e)}},uE=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fo(this._firestore,this._userDataWriter,r.key,r,new os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Fo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Fo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:dG(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function dG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var Tf=class extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function UM(t,e,n){t=Qn(t,Bt);let r=Qn(t.firestore,xr),i=jM(t.converter,e,n);return Pf(r,[OM(SE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function BM(t,e,n,...r){t=Qn(t,Bt);let i=Qn(t.firestore,xr),s=SE(i),o;return o=typeof(e=Pt(e))=="string"||e instanceof Qo?cG(s,"updateDoc",t._key,e,n,r):aG(s,"updateDoc",t._key,e),Pf(i,[o.toMutation(t._key,Wn.exists(!0))])}function $M(t){return Pf(Qn(t.firestore,xr),[new nu(t._key,Wn.none())])}function HM(t,e){let n=Qn(t.firestore,xr),r=AE(t),i=jM(t.converter,e);return Pf(n,[OM(SE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function ME(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ON(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ON(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof Bt)l=Qn(t.firestore,xr),h=gE(t._key.path),c={next:p=>{e[o]&&e[o](hG(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Qn(t,_f);l=Qn(p.firestore,xr),h=p._query;let y=new Tf(l);c={next:g=>{e[o]&&e[o](new uE(l,y,p,g))},error:e[o+1],complete:e[o+2]},lG(t._query)}return function(y,g,E,C){let A=new XI(C),x=new GI(g,A,E);return y.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return j4(yield NN(y),x)})),()=>{A.za(),y.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return U4(yield NN(y),x)}))}}(MM(l),h,a,c)}function Pf(t,e){return function(r,i){let s=new Sr;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return K4(yield iG(r),i,s)})),s.promise}(MM(t),e)}function hG(t,e,n){let r=n.docs.get(e._key),i=new Tf(t);return new Df(t,i,e._key,r,new os(n.hasPendingWrites,n.fromCache),e.converter)}function zM(){return new sE("serverTimestamp")}(function(e,n=!0){(function(i){Zo=i})(Ao),ai(new dn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new xr(new M_(r.getProvider("auth-internal")),new k_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),rt(rN,"4.7.2",e),rt(rN,"4.7.2","esm2017")})();var Of=function(){return Of=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Of.apply(this,arguments)};var mG={includeMetadataChanges:!1};function qM(t,e){return e===void 0&&(e=mG),new Z(function(n){var r=ME(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function GM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Of(Of({},r),(n={},n[e.idField]=t.id,n))}function WM(t){return qM(t,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function KM(t,e){return e===void 0&&(e={}),WM(t).pipe(K(function(n){return n.map(function(r){return GM(r,e)})}))}var gs=class{constructor(e){return e}},QM="firestore",xE=class{constructor(){return Vc(QM)}};var PE=new B("angularfire2.firestore-instances");function gG(t,e){let n=n_(QM,t,e);return n&&new gs(n)}function yG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gs(r)}}var vG={provide:xE,deps:[[new Ht,PE]]},_G={provide:gs,useFactory:gG,deps:[[new Ht,PE],ts]};function ete(t,...e){return rt("angularfire",Ro.full,"fst"),bn([_G,vG,{provide:PE,useFactory:yG(t),multi:!0,deps:[se,et,jc,Uc,[new Ht,Bh],[new Ht,Lc],...e]}])}var YM=Qt(KM,!0);var ZM=Qt(HM,!0);var JM=Qt(RM,!0);var XM=Qt($M,!0);var ex=Qt(AE,!0);var tte=Qt(NM,!0);var tx=Qt(zM,!0),nx=Qt(UM,!0);var rx=Qt(BM,!0);var ix=(()=>{class t{constructor(){this.collectionName="ahbenfolio",this.firestore=M(gs),this.setCollectionRef(),this.setCollectionDataObservable()}setCollectionRef(){this.collectionRef=JM(this.firestore,this.collectionName)}setCollectionDataObservable(){this.collectionDocs$=YM(this.collectionRef)}getDocRef(n){return ex(this.firestore,this.collectionName,n)}getServerTimestamp(){return tx()}setDocumentName(n){this.documentName=n}addDocument(n){ZM(this.collectionRef,n).then(r=>{console.log(r.path)})}setDocument(n,r,i){nx(this.getDocRef(n),r,{merge:i})}updateDocument(n,r){rx(this.getDocRef(n),r)}deleteDocument(n){XM(this.getDocRef(n))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lte=(()=>{class t{constructor(n,r,i,s){this.document=n,this.http=r,this.router=i,this.firebaseService=s,this.backendUrl="https://portfolio-tracker-backend-5ys2.onrender.com",this.httpOptions={headers:new cn().set("content-type","application/json").set("Access-Control-Allow-Origin","*")},this.portfolioSymbols=[],this.portfolioHoldings={},this.portfolioData={},this.portfolioTechnicalInsights={},this.portfolioDividendHistory={},this.isLoadingData=new He(!1),this.hasPortfolioData=new He(!1),this.localStorage=this.document.defaultView.localStorage,this.generatePortfolioDataFromLocalStorage()}get HasPortfolioData(){return this.hasPortfolioData.getValue()}get portfolioDataArray(){return Object.values(this.portfolioData)}get portfolioHoldingsArray(){return Object.values(this.portfolioHoldings)}get portfolioTechnicalInsightsArray(){return Object.values(this.portfolioTechnicalInsights)}get portfolioDividendHistoryArray(){return Object.values(this.portfolioDividendHistory)}get portfolioStocks(){return this.portfolioDataArray.filter(n=>n.quoteType==="EQUITY")}get portfolioEtfs(){return this.portfolioDataArray.filter(n=>n.quoteType==="ETF")}get portfolioDividendPayers(){return this.portfolioDataArray.filter(n=>n.dividendRate?.raw>0||n.dividendRate>0)}get marketState(){return this.portfolioDataArray[0]?.marketState}error(n){let r=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status} Message: ${n.message}`;return q({data:[],message:r,status:500})}wrapHttpCall(n,r=this.httpOptions){return this.http.get(n,r).pipe(Lp(2),gn(this.error))}sanityCheck(){console.log("%c ----- Sanity Check -----","background: teal; color: white");let n=this.portfolioSymbols.length>0&&this.portfolioSymbols.length===this.portfolioDataArray.length,r=this.portfolioHoldingsArray.length===this.portfolioSymbols.length+8,i=this.portfolioTechnicalInsightsArray.length===this.portfolioSymbols.length,s=this.portfolioDividendHistory!=null;return console.log("Symbols:",this.portfolioSymbols),console.log("Holdings:",this.portfolioSymbols.length),console.log("Portfolio data length = number of symbols:",n),console.log("Holdings length is = number of symbols + 8:",r),console.log("Technical insights length = number of symbols:",i),console.log("Dividend history data is not empty:",s),console.log("%c ------------------------","background: teal; color: white"),n&&r&&i?(console.log("Sanity Check Passed!"),!0):(console.log("Sanity Check Failed!"),!1)}getItem(n){let r=this.localStorage?.getItem(n);return r?JSON.parse(r):null}setItem(n,r){this.localStorage?.setItem(n,JSON.stringify(r))}getTickerData(n){return this.portfolioData[n]}getTickerHolding(n){return this.portfolioHoldings[n]}getTickerTechnicalInsights(n){return this.portfolioTechnicalInsights[n]}getTickerDividendHistory(n){return this.getItem(n+"DividendHistory")}generatePortfolioDataFromLocalStorage(){this.isLoadingData.next(!0);let n=this.getItem("portfolioSymbols"),r=this.getItem("portfolioHoldings"),i=this.getItem("portfolioTechInsights");n&&r&&i&&(this.portfolioSymbols=n,this.portfolioHoldings=r,this.portfolioTechnicalInsights=i,n.forEach(s=>{this.portfolioData[s]=this.getItem(s),this.portfolioDividendHistory[s]=this.getItem(s+"DividendHistory")}),this.hasPortfolioData.next(!0)),this.isLoadingData.next(!1),this.sanityCheck()}generatePortfolioData(n){this.isLoadingData.next(!0),this.setItem("fileContent",n),this.portfolioHoldings.positionsHeld=0,this.portfolioHoldings.marketValue=0,this.portfolioHoldings.totalAmountInvested=0,this.portfolioHoldings.dividendIncome=0,this.portfolioHoldings.unrealizedGain=0,this.portfolioHoldings.unrealizedGainPercent=0,this.portfolioHoldings.yieldOnCost=0,this.portfolioHoldings.yield=0,n.forEach(r=>{let[i,s,o]=r.split(","),a={shares:+s,costAverage:+o};this.portfolioSymbols.push(i),this.portfolioHoldings[i]=a}),this.setItem("portfolioSymbols",this.portfolioSymbols),this.portfolioHoldings.positionsHeld=this.portfolioSymbols.length,Pp([this.fetchPortfolioData(),this.fetchPortfolioTechnicalInsights()]).subscribe(([r,i])=>{this.portfolioData=r,this.portfolioTechnicalInsights=i,this.setItem("portfolioTechInsights",i),Object.entries(r).forEach(([s,o])=>{this.setItem(s,o),this.firebaseService.setDocument(s,o)}),Object.entries(i).forEach(([s,o])=>{console.log(s),console.log(o),this.firebaseService.setDocument(s+"TechnicalInsight",o)}),this.portfolioSymbols.forEach(s=>{let o=this.portfolioData[s],a=this.portfolioHoldings[s],c=a.shares,l=a.costAverage;a.symbol=s,a.totalCost=+(c*l).toFixed(2),a.marketValue=o.regularMarketPrice.raw*c,a.unrealizedGain=a.marketValue-a.totalCost,a.unrealizedGainPercent=a.unrealizedGain/a.totalCost,a.dividendIncome=o.dividendRate?.raw*c||o.dividendRate*c||0,a.yieldOnCost=a.dividendIncome/a.totalCost,this.portfolioHoldings.marketValue+=a.marketValue,this.portfolioHoldings.totalAmountInvested+=a.totalCost,this.portfolioHoldings.unrealizedGain+=a.unrealizedGain,this.portfolioHoldings.dividendIncome+=a.dividendIncome,this.portfolioHoldings[s]=a;let h={},p=s;h[p]=a,this.firebaseService.updateDocument("holdings",h)}),this.portfolioHoldingsArray.filter(s=>!!s.symbol).forEach(s=>{s.portfolioPercent=s.marketValue/this.portfolioHoldings.marketValue,this.setItem(s.symbol+"Holding",s)}),this.portfolioHoldings.unrealizedGainPercent=this.portfolioHoldings.unrealizedGain/this.portfolioHoldings.totalAmountInvested,this.portfolioHoldings.yield=this.portfolioHoldings.dividendIncome/this.portfolioHoldings.marketValue,this.portfolioHoldings.yieldOnCost=this.portfolioHoldings.dividendIncome/this.portfolioHoldings.totalAmountInvested,this.setItem("portfolioHoldings",this.portfolioHoldings),this.fetchPortfolioDividendHistory(),this.isLoadingData.next(!1),this.hasPortfolioData.next(!0),this.sanityCheck()&&this.router.navigateByUrl("/main")})}refreshPortfolioData(){this.portfolioSymbols=[],this.portfolioHoldings={},this.portfolioData={},this.portfolioTechnicalInsights={},this.portfolioDividendHistory={};let n=this.getItem("fileContent");this.localStorage?.clear(),this.generatePortfolioData(n)}fetchTickerData(n){let r=`${this.backendUrl}/fetch/stock/${n}`;return this.wrapHttpCall(r)}fetchPortfolioData(){let n=this.portfolioSymbols.join(":"),r=`${this.backendUrl}/fetch/portfolio/${n}`;return this.wrapHttpCall(r)}fetchTickerTechnicalInsight(n){let r=`${this.backendUrl}/fetch/technical-insights/${n}`;return this.wrapHttpCall(r)}fetchPortfolioTechnicalInsights(){let n=this.portfolioSymbols.join(":"),r=`${this.backendUrl}/fetch/portfolio/technical-insights/${n}`;return this.wrapHttpCall(r)}fetchTickerDividendHistory(n,r=10){let i=`${this.backendUrl}/fetch/dividend-history/${n}`,s=new jn().set("years",r),o=De(L({},this.httpOptions),{params:s});return this.wrapHttpCall(i,o)}fetchPortfolioDividendHistory(){this.isLoadingData.next(!0),this.portfolioSymbols.forEach(n=>{this.fetchTickerDividendHistory(n,10).pipe(yt(1)).subscribe(r=>{this.portfolioDividendHistory[n]=r,this.setItem(n+"DividendHistory",r),r.length&&this.firebaseService.setDocument(n+"DividendHistory",r)}),this.portfolioDividendHistoryArray.length===this.portfolioDividendPayers.length&&this.isLoadingData.next(!1)})}fetchTickerCorporateEvents(n){let r=`${this.backendUrl}/fetch/events/${n}`;return this.wrapHttpCall(r)}fetchPortfolioCorporateEvents(){this.isLoadingData.next(!0);let n=0;this.portfolioStocks.forEach((r,i,s)=>{this.fetchTickerCorporateEvents(r.symbol).pipe(yt(1)).subscribe(()=>{n++,n===s.length&&(this.isLoadingData.next(!1),console.log("%c ----- Sanity Check -----","background: teal; color: white"),console.log("counter equal portfolio symbols length:",n==this.portfolioStocks.length),console.log("%c ------------------------","background: teal; color: white"))})})}static{this.\u0275fac=function(r){return new(r||t)(O(we),O($y),O(Sn),O(ix))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kf(t){return t!=null&&`${t}`!="false"}function OE(t,e=0){return EG(t)?Number(t):arguments.length===2?e:0}function EG(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function kE(t){return Array.isArray(t)?t:[t]}function pte(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Pr(t){return t instanceof Qe?t.nativeElement:t}var LE;try{LE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{LE=!1}var Jt=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?ky(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||LE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||t)(O(Et))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xo,sx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ete(){if(Xo)return Xo;if(typeof document!="object"||!document)return Xo=new Set(sx),Xo;let t=document.createElement("input");return Xo=new Set(sx.filter(e=>(t.setAttribute("type",e),t.type===e))),Xo}var pu;function wG(){if(pu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pu=!0}))}finally{pu=pu||!1}return pu}function ea(t){return wG()?t:!!t.capture}var mu=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(mu||{}),Ff,ys;function wte(){if(ys==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ys=!1,ys;if("scrollBehavior"in document.documentElement.style)ys=!0;else{let t=Element.prototype.scrollTo;t?ys=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ys=!1}}return ys}function bte(){if(typeof document!="object"||!document)return mu.NORMAL;if(Ff==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Ff=mu.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Ff=t.scrollLeft===0?mu.NEGATED:mu.INVERTED),t.remove()}return Ff}var FE;function bG(){if(FE==null){let t=typeof document<"u"?document.head:null;FE=!!(t&&(t.createShadowRoot||t.attachShadow))}return FE}function ox(t){if(bG()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function DG(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Or(t){return t.composedPath?t.composedPath()[0]:t.target}function ax(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function cx(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function TG(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var ux=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CG=(()=>{class t{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map,this._ngZone=M(se)}ngOnDestroy(){this._observedElements.forEach((n,r)=>this._cleanupObserver(r))}observe(n){let r=Pr(n);return new Z(i=>{let o=this._observeElement(r).pipe(K(a=>a.filter(c=>!TG(c))),Ve(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let r=new me,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:i,stream:r,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:r,stream:i}=this._observedElements.get(n);r&&r.disconnect(),i.complete(),this._observedElements.delete(n)}}static{this.\u0275fac=function(r){return new(r||t)(O(ux))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ote=(()=>{class t{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=OE(n),this._subscribe()}constructor(n,r){this._contentObserver=n,this._elementRef=r,this.event=new Ue,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(bi(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)(ce(CG),ce(Qe))}}static{this.\u0275dir=It({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",vr],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[$i]})}}return t})(),lx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({providers:[ux]})}}return t})();var dx=new Set,vs,AG=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RG}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&SG(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||t)(O(Jt),O(Ka,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SG(t,e){if(!dx.has(t))try{vs||(vs=document.createElement("style"),e&&vs.setAttribute("nonce",e),vs.setAttribute("type","text/css"),document.head.appendChild(vs)),vs.sheet&&(vs.sheet.insertRule(`@media ${t} {body{ }}`,0),dx.add(t))}catch(n){console.error(n)}}function RG(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var fx=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return hx(kE(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=hx(kE(n)).map(o=>this._registerQuery(o).observable),s=wi(i);return s=Hr(s.pipe(yt(1)),s.pipe(Na(1),bi(0))),s.pipe(K(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Z(o=>{let a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Vs(r),K(({matches:o})=>({query:n,matches:o})),sr(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||t)(O(AG),O(se))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hx(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var _x=" ";function KG(t,e,n){let r=Uf(t,e);n=n.trim(),!r.some(i=>i.trim()===n)&&(r.push(n),t.setAttribute(e,r.join(_x)))}function QG(t,e,n){let r=Uf(t,e);n=n.trim();let i=r.filter(s=>s!==n);i.length?t.setAttribute(e,i.join(_x)):t.removeAttribute(e)}function Uf(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var Ix="cdk-describedby-message",Lf="cdk-describedby-host",BE=0,ane=(()=>{class t{constructor(n,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${BE++}`,this._document=n,this._id=M(oo)+"-"+BE++}describe(n,r,i){if(!this._canBeDescribed(n,r))return;let s=jE(r,i);typeof r!="string"?(px(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,r,i){if(!r||!this._isElementNode(n))return;let s=jE(r,i);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),typeof r=="string"){let o=this._messageRegistry.get(s);o&&o.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${Lf}="${this._id}"]`);for(let r=0;r<n.length;r++)this._removeCdkDescribedByReferenceIds(n[r]),n[r].removeAttribute(Lf);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,r){let i=this._document.createElement("div");px(i,this._id),i.textContent=n,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(jE(n,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(n),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(n){let r=Uf(n,"aria-describedby").filter(i=>i.indexOf(Ix)!=0);n.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(n,r){let i=this._messageRegistry.get(r);KG(n,"aria-describedby",i.messageElement.id),n.setAttribute(Lf,this._id),i.referenceCount++}_removeMessageReference(n,r){let i=this._messageRegistry.get(r);i.referenceCount--,QG(n,"aria-describedby",i.messageElement.id),n.removeAttribute(Lf)}_isElementDescribedByMessage(n,r){let i=Uf(n,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&i.indexOf(o)!=-1}_canBeDescribed(n,r){if(!this._isElementNode(n))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),s=n.getAttribute("aria-label");return i?!s||s.trim()!==i:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(r){return new(r||t)(O(we),O(Jt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jE(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function px(t,e){t.id||(t.id=`${Ix}-${e}-${BE++}`)}var YG=200,$E=class{constructor(e,n){this._letterKeyStream=new me,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new me,this.selectedItem=this._selectedItem;let r=typeof n?.debounceInterval=="number"?n.debounceInterval:YG;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let n=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(je(n=>this._pressedLetters.push(n)),bi(e),Ve(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,s=this._items[i];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},HE=class{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Oe.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this.tabOut=new me,this.change=new me,e instanceof Qs?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):ly(e)&&(this._effectRef=_y(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new $E(n,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){let n=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||cx(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),r=typeof e=="number"?e:n.indexOf(e),i=n[r];this._activeItem=i??null,this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let r=1;r<=n.length;r++){let i=(this._activeItemIndex+e*r+n.length)%n.length,s=n[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=n,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return ly(this._items)?this._items():this._items instanceof Qs?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var mx=class extends HE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var ZG=(()=>{class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return XG(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=JG(a9(n));if(r&&(gx(r)===-1||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),s=gx(n);return n.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!s9(n)?!1:i==="audio"?n.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return o9(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static{this.\u0275fac=function(r){return new(r||t)(O(Jt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JG(t){try{return t.frameElement}catch{return null}}function XG(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function e9(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function t9(t){return r9(t)&&t.type=="hidden"}function n9(t){return i9(t)&&t.hasAttribute("href")}function r9(t){return t.nodeName.toLowerCase()=="input"}function i9(t){return t.nodeName.toLowerCase()=="a"}function Ex(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function gx(t){if(!Ex(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function s9(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function o9(t){return t9(t)?!1:e9(t)||n9(t)||t.hasAttribute("contenteditable")||Ex(t)}function a9(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var zE=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?ec(e,{injector:this._injector}):setTimeout(e)}},cne=(()=>{class t{constructor(n,r,i){this._checker=n,this._ngZone=r,this._injector=M(et),this._document=i}create(n,r=!1){return new zE(n,this._checker,this._ngZone,this._document,r,this._injector)}static{this.\u0275fac=function(r){return new(r||t)(O(ZG),O(se),O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qE(t){return t.buttons===0||t.detail===0}function GE(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var c9=new B("cdk-input-modality-detector-options"),u9={ignoreKeys:[18,17,224,91,16]},wx=650,ta=ea({passive:!0,capture:!0}),l9=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(n,r,i,s){this._platform=n,this._mostRecentTarget=null,this._modality=new He(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Or(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<wx||(this._modality.next(qE(o)?"keyboard":"mouse"),this._mostRecentTarget=Or(o))},this._onTouchstart=o=>{if(GE(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Or(o)},this._options=L(L({},u9),s),this.modalityDetected=this._modality.pipe(Na(1)),this.modalityChanged=this.modalityDetected.pipe(dl()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ta),i.addEventListener("mousedown",this._onMousedown,ta),i.addEventListener("touchstart",this._onTouchstart,ta)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ta),document.removeEventListener("mousedown",this._onMousedown,ta),document.removeEventListener("touchstart",this._onTouchstart,ta))}static{this.\u0275fac=function(r){return new(r||t)(O(Jt),O(se),O(we),O(c9,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jf=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(jf||{}),d9=new B("cdk-focus-monitor-default-options"),Vf=ea({passive:!0,capture:!0}),h9=(()=>{class t{constructor(n,r,i,s,o){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me,this._rootNodeFocusAndBlurListener=a=>{let c=Or(a);for(let l=c;l;l=l.parentElement)a.type==="focus"?this._onFocus(a,l):this._onBlur(a,l)},this._document=s,this._detectionMode=o?.detectionMode||jf.IMMEDIATE}monitor(n,r=!1){let i=Pr(n);if(!this._platform.isBrowser||i.nodeType!==1)return q();let s=ox(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;let a={checkChildren:r,subject:new me,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let r=Pr(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let s=Pr(n),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===jf.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===jf.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?wx:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),s=Or(n);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vf)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,s)=>{(s===n||i.checkChildren&&s.contains(n))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||t)(O(se),O(Jt),O(l9),O(we,8),O(d9,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),une=(()=>{class t{constructor(n,r){this._elementRef=n,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new Ue}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)(ce(Qe),ce(h9))}}static{this.\u0275dir=It({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return t})(),_s=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(_s||{}),yx="cdk-high-contrast-black-on-white",vx="cdk-high-contrast-white-on-black",UE="cdk-high-contrast-active",WE=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=M(fx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return _s.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return _s.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return _s.BLACK_ON_WHITE}return _s.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(UE,yx,vx),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===_s.BLACK_ON_WHITE?n.add(UE,yx):r===_s.WHITE_ON_BLACK&&n.add(UE,vx)}}static{this.\u0275fac=function(r){return new(r||t)(O(Jt),O(we))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lne=(()=>{class t{constructor(n){n._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(r){return new(r||t)(O(WE))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({imports:[lx]})}}return t})();var p9=new B("cdk-dir-doc",{providedIn:"root",factory:m9});function m9(){return M(we)}var g9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function y9(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?g9.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ene=(()=>{class t{constructor(n){if(this.value="ltr",this.change=new Ue,n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.value=y9(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||t)(O(p9,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var KE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({})}}return t})();var v9=["mat-internal-form-field",""],_9=["*"];var Une=(()=>{class t{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return t})(),Bne=(()=>{class t{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return t})();function I9(){return!0}var E9=new B("mat-sanity-checks",{providedIn:"root",factory:I9}),na=(()=>{class t{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return ax()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}static{this.\u0275fac=function(r){return new(r||t)(O(WE),O(E9,8),O(we))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({imports:[KE,KE]})}}return t})();var bx=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var $ne=(()=>{class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(fn||{}),ZE=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=fn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Dx=ea({passive:!0,capture:!0}),JE=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Or(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Dx)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Dx)))}},Tx={enterDuration:225,exitDuration:150},w9=800,Cx=ea({passive:!0,capture:!0}),Ax=["mousedown","touchstart"],Sx=["mouseup","mouseleave","touchend","touchcancel"],XE=class t{static{this._eventManager=new JE}constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Pr(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=L(L({},Tx),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||b9(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-o}px`,h.style.top=`${c-o}px`,h.style.height=`${o*2}px`,h.style.width=`${o*2}px`,r.color!=null&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),y=p.transitionProperty,g=p.transitionDuration,E=y==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,C=new ZE(this,h,r,E);h.style.transform="scale3d(1, 1, 1)",C.state=fn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=C);let A=null;return!E&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let x=()=>{A&&(A.fallbackTimer=null),clearTimeout(U),this._finishRippleTransition(C)},V=()=>this._destroyRipple(C),U=setTimeout(V,l+100);h.addEventListener("transitionend",x),h.addEventListener("transitioncancel",V),A={onTransitionEnd:x,onTransitionCancel:V,fallbackTimer:U}}),this._activeRipples.set(C,A),(E||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===fn.FADING_OUT||e.state===fn.HIDDEN)return;let n=e.element,r=L(L({},Tx),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=fn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Pr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Ax.forEach(r=>{t._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Sx.forEach(n=>{this._triggerElement.addEventListener(n,this,Cx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===fn.FADING_IN?this._startFadeOutTransition(e):e.state===fn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=fn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=fn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=qE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+w9;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!GE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===fn.VISIBLE||e.config.terminateOnPointerUp&&e.state===fn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Ax.forEach(n=>t._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(Sx.forEach(n=>e.removeEventListener(n,this,Cx)),this._pointerUpEventsRegistered=!1))}};function b9(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var xx=new B("mat-ripple-global-options"),D9=(()=>{class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,i,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new XE(this,r,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:L(L(L({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,L(L({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,L(L({},this.rippleConfig),n))}static{this.\u0275fac=function(r){return new(r||t)(ce(Qe),ce(se),ce(Jt),ce(xx,8),ce(Id,8))}}static{this.\u0275dir=It({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&zi("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),Hne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({imports:[na,na]})}}return t})(),zne=(()=>{class t{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(r){return new(r||t)(ce(Id,8))}}static{this.\u0275cmp=Vi({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&zi("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[qi],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return t})(),qne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({imports:[na]})}}return t})();var Rx={capture:!0},Nx=["focus","mousedown","mouseenter","touchstart"],QE="mat-ripple-loader-uninitialized",YE="mat-ripple-loader-class-name",Mx="mat-ripple-loader-centered",Bf="mat-ripple-loader-disabled",Gne=(()=>{class t{constructor(){this._document=M(we,{optional:!0}),this._animationMode=M(Id,{optional:!0}),this._globalRippleOptions=M(xx,{optional:!0}),this._platform=M(Jt),this._ngZone=M(se),this._hosts=new Map,this._onInteraction=n=>{let r=Or(n);if(r instanceof HTMLElement){let i=r.closest(`[${QE}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(let n of Nx)this._document?.addEventListener(n,this._onInteraction,Rx)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of Nx)this._document?.removeEventListener(r,this._onInteraction,Rx)}configureRipple(n,r){n.setAttribute(QE,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(YE))&&n.setAttribute(YE,r.className||""),r.centered&&n.setAttribute(Mx,""),r.disabled&&n.setAttribute(Bf,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let i=this._hosts.get(n);if(i){i.disabled=r;return}r?n.setAttribute(Bf,""):n.removeAttribute(Bf)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(YE)),n.append(i);let s=new D9(new Qe(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Mx),s.disabled=n.hasAttribute(Bf),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(QE),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Vi({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&zi("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[qi],attrs:v9,ngContentSelectors:_9,decls:1,vars:0,template:function(r,i){r&1&&(Q0(),Y0(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return t})();var Jne=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=kf(n)}get inset(){return this._inset}set inset(n){this._inset=kf(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Vi({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){r&2&&(Hi("aria-orientation",i.vertical?"vertical":"horizontal"),zi("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[qi],decls:0,vars:0,template:function(r,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return t})(),Xne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=We({imports:[na,na]})}}return t})();var ew=class{constructor(e){this._box=e,this._destroyed=new me,this._resizeSubject=new me,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Z(n=>{let r=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ve(n=>n.some(r=>r.target===e)),Up({bufferSize:1,refCount:!0}),sr(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},sre=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=M(se),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new ew(i)),this._observers.get(i).observe(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{L as a,De as b,ib as c,T9 as d,C9 as e,Oe as f,Z as g,Ns as h,me as i,He as j,Aa as k,At as l,g3 as m,Me as n,q as o,ks as p,al as q,K as r,wi as s,ll as t,Pp as u,Op as v,Ra as w,XP as x,Ve as y,eO as z,gn as A,bi as B,yt as C,kp as D,dl as E,Di as F,jp as G,Na as H,Vs as I,kt as J,sr as K,je as L,$ as M,BD as N,k as O,We as P,B as Q,O as R,M as S,Ht as T,ud as U,Vi as V,Ke as W,It as X,Rt as Y,ji as Z,nQ as _,rQ as $,iQ as aa,Lg as ba,Vg as ca,et as da,Ue as ea,se as fa,kn as ga,Qe as ha,Qs as ia,Et as ja,Id as ka,Dn as la,sQ as ma,V1 as na,oQ as oa,aQ as pa,cF as qa,ce as ra,jC as sa,Fi as ta,Xs as ua,eo as va,uo as wa,yr as xa,on as ya,UL as za,lQ as Aa,KL as Ba,dQ as Ca,$i as Da,C0 as Ea,Hs as Fa,oV as Ga,ec as Ha,Hi as Ia,O0 as Ja,k0 as Ka,zi as La,hQ as Ma,fQ as Na,SV as Oa,pQ as Pa,mQ as Qa,gQ as Ra,yQ as Sa,py as Ta,my as Ua,Od as Va,z0 as Wa,q0 as Xa,kV as Ya,vQ as Za,W0 as _a,VV as $a,kd as ab,GV as bb,KV as cb,Q0 as db,Y0 as eb,ZV as fb,JV as gb,XV as hb,J0 as ib,X0 as jb,_Q as kb,IQ as lb,EQ as mb,tj as nb,ij as ob,gy as pb,sj as qb,nA as rb,qi as sb,wQ as tb,bQ as ub,DQ as vb,TQ as wb,CQ as xb,AQ as yb,SQ as zb,tc as Ab,Vn as Bb,Ki as Cb,yy as Db,vr as Eb,Oj as Fb,RQ as Gb,kj as Hb,we as Ib,fo as Jb,KQ as Kb,QQ as Lb,YQ as Mb,ZQ as Nb,JQ as Ob,XQ as Pb,eY as Qb,tY as Rb,nY as Sb,TU as Tb,ky as Ub,rc as Vb,cn as Wb,jn as Xb,$y as Yb,pY as Zb,mY as _b,aS as $b,OY as ac,D2 as bc,kY as cc,Un as dc,LY as ec,VY as fc,jY as gc,UY as hc,BY as ic,$Y as jc,HY as kc,zY as lc,qY as mc,GY as nc,mS as oc,gS as pc,WY as qc,ri as rc,nB as sc,Sn as tc,dZ as uc,hZ as vc,fZ as wc,tJ as xc,nJ as yc,ete as zc,tte as Ac,ix as Bc,lte as Cc,Jt as Dc,Ete as Ec,ea as Fc,mu as Gc,wte as Hc,bte as Ic,DG as Jc,Or as Kc,ax as Lc,cx as Mc,kf as Nc,OE as Oc,EG as Pc,kE as Qc,pte as Rc,Pr as Sc,Ote as Tc,lx as Uc,AG as Vc,ane as Wc,mx as Xc,ZG as Yc,cne as Zc,h9 as _c,une as $c,lne as ad,Ene as bd,KE as cd,Une as dd,Bne as ed,na as fd,bx as gd,$ne as hd,fn as id,XE as jd,xx as kd,D9 as ld,Hne as md,zne as nd,qne as od,Gne as pd,Wne as qd,Jne as rd,Xne as sd,sre as td};
