import{b as A}from"./chunk-WUNTIS5S.js";import{a as j}from"./chunk-WY5XNEKP.js";import{g as O,h as N,i as U}from"./chunk-KCEZY3MC.js";import{g as H}from"./chunk-YLAGYR7M.js";import{a as D,b as E,c as V}from"./chunk-QWS7DAV2.js";import{f as X}from"./chunk-ZHH6KLOK.js";import{Ab as c,B as P,Bb as s,Fb as k,Ib as _,Kb as p,M,Ub as g,Vb as C,Wa as a,X as S,Xa as T,_b as R,aa as u,fa as I,gc as v,l as b,na as m,nb as y,oa as d,pb as o,ub as h,zb as l}from"./chunk-3ALPGP63.js";var Y=(()=>{let n=class n{constructor(i,e){this.http=i,this.dataService=e,this.apiBaseUrl="https://data.alpaca.markets",this.apiKey="PK41CNLBVKS2CHYHD6FQ",this.secretKey="hOurdDodVN23wnjowMOyXYjeaobsmIbXtqhOwSbE",this.httpHeaders=new D().set("APCA-API-KEY-ID",this.apiKey).set("APCA-API-SECRET-KEY",this.secretKey)}error(i){let e=i.error instanceof ErrorEvent?i.error.message:`Error Code: ${i.status} Message: ${i.message}`;return b({data:[],message:e,status:500})}wrapHttpCall(i,e){return this.http.get(i,e).pipe(M(2),P(this.error))}getLatestBars(){let i=this.dataService.portfolioSymbols,e=this.apiBaseUrl+"/v2/stocks/bars/latest",f=new E().appendAll({symbols:i.join(","),feed:"iex"}),w={headers:this.httpHeaders,params:f};return this.wrapHttpCall(e,w)}getNews(i,e,f,w){let x=this.apiBaseUrl+"/v1beta1/alpaca/fetch/news/",F=new E().appendAll({symbols:i.join(","),start:e,end:f,limit:w}),K={headers:this.httpHeaders,params:F};return this.wrapHttpCall(x,K)}};n.\u0275fac=function(e){return new(e||n)(u(V),u(H))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function L(t,n){if(t&1){let r=k();l(0,"div",5)(1,"mat-chip-listbox")(2,"mat-chip-option",6),_("click",function(){m(r);let e=p();return d(e.selectChart(1))}),C(3,"S&P | DJI"),c(),l(4,"mat-chip-option",7),_("click",function(){m(r);let e=p();return d(e.selectChart(2))}),C(5,"Nasdaq | Russell"),c(),l(6,"mat-chip-option",7),_("click",function(){m(r);let e=p();return d(e.selectChart(3))}),C(7,"VIX"),c(),l(8,"mat-chip-option",7),_("click",function(){m(r);let e=p();return d(e.selectChart(4))}),C(9,"Cryptos"),c(),l(10,"mat-chip-option",7),_("click",function(){m(r);let e=p();return d(e.selectChart(5))}),C(11,"Forex"),c()()()}}function W(t,n){t&1&&s(0,"wallmine-chart",9)(1,"wallmine-chart",9),t&2&&(o("symbol","INDEX:GSPC")("width","50%"),a(),o("symbol","INDEX:DJI")("width","50%"))}function q(t,n){t&1&&s(0,"wallmine-chart",9)(1,"wallmine-chart",9),t&2&&(o("symbol","INDEX:IXIC")("width","50%"),a(),o("symbol","INDEX:RUT")("width","50%"))}function G(t,n){t&1&&s(0,"wallmine-chart",8),t&2&&o("symbol","INDEX:VIX")}function $(t,n){t&1&&s(0,"wallmine-chart",9)(1,"wallmine-chart",9)(2,"wallmine-chart",9),t&2&&(o("symbol","CRYPTO:BTC")("width","33.33%"),a(),o("symbol","CRYPTO:ETH")("width","33.33%"),a(),o("symbol","CRYPTO:DOGE")("width","33.33%"))}function Q(t,n){t&1&&s(0,"wallmine-chart",9)(1,"wallmine-chart",9)(2,"wallmine-chart",9),t&2&&(o("symbol","FOREX:USDCNY")("width","33.33%"),a(),o("symbol","FOREX:USDJPY")("width","33.33%"),a(),o("symbol","FOREX:USDEUR")("width","33.33%"))}function z(t,n){if(t&1&&y(0,W,2,4)(1,q,2,4)(2,G,1,1,"wallmine-chart",8)(3,$,3,6)(4,Q,3,6),t&2){let r=p();h(r.selectedChart===1?0:-1),a(),h(r.selectedChart===2?1:-1),a(),h(r.selectedChart===3?2:-1),a(),h(r.selectedChart===4?3:-1),a(),h(r.selectedChart===5?4:-1)}}var ct=(()=>{let n=class n{constructor(i){this.alpacaApiService=i,this.selectedChart=1}ngOnInit(){}selectChart(i){this.selectedChart=i}};n.\u0275fac=function(e){return new(e||n)(T(Y))},n.\u0275cmp=I({type:n,selectors:[["app-portfolio-main"]],standalone:!0,features:[R],decls:8,vars:3,consts:[["titleContentRef",""],["indexCharts",""],[1,"add-margin"],["title","Market Charts",3,"mainContentRef","titleContentRef"],[3,"expandWidget"],[1,"add-flex"],["selected","",3,"click"],[3,"click"],[3,"symbol"],[3,"symbol","width"]],template:function(e,f){if(e&1&&(y(0,L,12,0,"ng-template",null,0,v)(2,z,5,5,"ng-template",null,1,v),l(4,"section",2),s(5,"container-card",3),c(),l(6,"section",2),s(7,"stock-price-movement-charts",4),c()),e&2){let w=g(1),x=g(3);a(5),o("mainContentRef",x)("titleContentRef",w),a(2),o("expandWidget",!0)}},dependencies:[X,U,N,O,A,j]});let t=n;return t})();export{ct as a};
