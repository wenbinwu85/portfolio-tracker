import{a as R,b as T,f as I}from"./chunk-RGQZAJBQ.js";import"./chunk-G7XGGRQQ.js";import"./chunk-O55OQ3MC.js";import{b as w}from"./chunk-BDBTJ4N5.js";import{j as A}from"./chunk-Z4PAFYLC.js";import{j as F,m as Y}from"./chunk-UROA4DXB.js";import"./chunk-DH5ALFXS.js";import"./chunk-AWCSJ736.js";import"./chunk-Z7NHXA47.js";import"./chunk-SG7TNQSD.js";import"./chunk-AESYL7IM.js";import{o as D,q as Q}from"./chunk-2WYAVOGU.js";import{f as M}from"./chunk-3QERKWO7.js";import{Ab as s,Bb as m,Kb as f,Rc as _,Ub as d,Vb as h,Wa as o,Wb as E,Xa as x,Xb as v,Yb as S,_b as g,fa as u,gc as C,kb as k,pb as p,xb as y,yb as b,zb as c}from"./chunk-6PRU6VJY.js";import"./chunk-GAL4ENT6.js";function $(t,e){if(t&1&&(c(0,"div",4),m(1,"ngx-charts-bubble-chart",5),s()),t&2){let r=f();o(),p("view",r.view)("scheme",r.colorScheme)("results",r.earningsChartData)("xAxis",!0)("yAxis",!0)("legend",!0)("animations",!0)("legendTitle","")}}function j(t,e){if(t&1&&m(0,"stock-ticker-chip",6),t&2){let r=f();p("stock",r.stock)}}function G(t,e){if(t&1&&(c(0,"div")(1,"span"),h(2),s(),c(3,"span"),h(4),s(),c(5,"span"),h(6),s()()),t&2){let r=f();o(2),S(" ",r.currentQuarter," earnings date: ",r.earningsDate,""),o(2),v(" ",r.currentQuarter," EPS estimate: "),o(2),E(r.currentQuarterEstimate)}}var P=(()=>{let e=class e{constructor(){this.earningsChartData=[],this.currentQuarter="",this.currentQuarterYear="",this.currentQuarterEstimate=0,this.earningsDate="",this.view=[400,200],this.colorScheme={domain:["skyblue","slategrey"]}}ngOnInit(){let a=this.stock.earnings?.earningsChart;this.currentQuarter=a.currentQuarterEstimateDate,this.currentQuarterYear=a.currentQuarterEstimateYear,this.currentQuarterEstimate=a.currentQuarterEstimate.fmt,this.earningsDate=a.earningsDate[0].fmt,this.earningsChartData.name=this.stock.symbol;let n={name:"Estimate",series:[]},l={name:"Actual",series:[]};a.quarterly.forEach(i=>{n.series.push({name:i.date,x:i.date,y:i.estimate.fmt,r:50}),l.series.push({name:i.date,x:i.date,y:i.actual.fmt,r:50})}),n.series.push({name:this.currentQuarter+this.currentQuarterYear+" "+this.earningsDate,x:this.currentQuarter+this.currentQuarterYear,y:this.currentQuarterEstimate,r:50}),this.earningsChartData.push(n),this.earningsChartData.push(l)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["stock-earnings-chart"]],inputs:{stock:"stock"},standalone:!0,features:[g],decls:7,vars:4,consts:[["earningsChartRef",""],["titleContentRef",""],["subRef",""],[3,"title","mainContentRef","titleContentRef","subContentRef"],[1,"earnings-container"],[3,"view","scheme","results","xAxis","yAxis","legend","animations","legendTitle"],[3,"stock"]],template:function(n,l){if(n&1&&(k(0,$,2,8,"ng-template",null,0,C)(2,j,1,1,"ng-template",null,1,C)(4,G,7,4,"ng-template",null,2,C),m(6,"container-card",3)),n&2){let i=d(1),B=d(3),O=d(5);o(6),p("title",l.stock.longName+" Earnings Per Share")("mainContentRef",i)("titleContentRef",B)("subContentRef",O)}},dependencies:[Y,F,A,M],styles:[".earnings-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}  ul.legend-labels{width:min-content!important;background:none!important}"]});let t=e;return t})();var z=(t,e)=>e.symbol;function H(t,e){if(t&1&&m(0,"stock-earnings-chart",2),t&2){let r=e.$implicit;p("stock",r)}}var mt=(()=>{let e=class e{constructor(a){this.dataService=a}ngOnInit(){this.stocks=this.dataService.portfolioStocks}};e.\u0275fac=function(n){return new(n||e)(x(D))},e.\u0275cmp=u({type:e,selectors:[["app-analysis"]],standalone:!0,features:[g],decls:6,vars:0,consts:[["mat-align-tabs","center"],["label","Earnings"],[3,"stock"],["label","Analysis B"],["label","Analysis C"]],template:function(n,l){n&1&&(c(0,"mat-tab-group",0)(1,"mat-tab",1),y(2,H,1,1,"stock-earnings-chart",2,z),s(),m(4,"mat-tab",3)(5,"mat-tab",4),s()),n&2&&(o(2),b(l.stocks))},dependencies:[_,Q,w,I,R,T,P]});let t=e;return t})();export{mt as AnalysisComponent};
