import{a as g,b as A,c as q,d as x,e as B,f as z,h as V,i as N,k as j,l as J,n as K,o as L,q as U,s as W,t as X,y as Z}from"./chunk-GV6PQAID.js";import{x as I}from"./chunk-6ZFL52UB.js";import{Ea as m,Ja as _,Jb as H,La as R,Ma as y,Na as M,Oa as c,Ob as O,Pa as s,Q as T,Qa as f,Za as i,cb as w,db as v,eb as S,hb as E,ib as u,jb as C,jd as Q,la as l,ma as D,nb as b,pb as Y,sb as k,tb as $,tc as G,vb as F,za as d}from"./chunk-P5LTBNWM.js";import{a as h,b as P}from"./chunk-GAL4ENT6.js";var ee=t=>({color:t});function te(t,r){if(t&1&&(c(0,"th",10)(1,"span"),u(2),s()()),t&2){let n=i().$index,o=i(2);l(2),C(o.headers[n])}}function ne(t,r){if(t&1&&(c(0,"div",12),f(1,"stock-name-card",14),s()),t&2){let n=i().$implicit;l(),m("stock",n)}}function re(t,r){if(t&1&&(c(0,"span",13),u(1),s()),t&2){let n=i().$implicit,o=i(),p=o.$implicit,e=o.$index,a=i(2);m("ngStyle",Y(2,ee,a.getCellColor(e,n))),l(),C(n[p])}}function ae(t,r){if(t&1&&(c(0,"td",11),d(1,ne,2,1,"div",12)(2,re,2,4,"span",13),s()),t&2){let n=i().$index;l(),_(n===0?1:2)}}function ie(t,r){if(t&1&&(c(0,"div",5),d(1,te,3,1,"th",8)(2,ae,3,1,"td",9),s()),t&2){let n=r.$implicit;m("matColumnDef",n)}}function oe(t,r){t&1&&f(0,"tr",15)}function le(t,r){t&1&&f(0,"tr",16)}function me(t,r){if(t&1&&(c(0,"table",4),y(1,ie,3,1,"div",5,R),d(3,oe,1,0,"tr",6)(4,le,1,0,"tr",7),s()),t&2){let n=i();m("dataSource",n.dataSource),l(),M(n.columnDefs),l(2),m("matHeaderRowDef",n.columnDefs)("matHeaderRowDefSticky",!0),l(),m("matRowDefColumns",n.columnDefs)}}function ce(t,r){if(t&1&&(c(0,"th",19)(1,"span"),u(2),s()()),t&2){let n=i().$index,o=i(2);l(2),C(o.etfHeaders[n])}}function se(t,r){if(t&1&&(c(0,"div",12),f(1,"stock-name-card",14),s()),t&2){let n=i().$implicit;l(),m("stock",n)}}function pe(t,r){if(t&1&&(c(0,"span"),u(1),s()),t&2){let n=i(2).$implicit,o=i().$implicit;l(),C(n[o])}}function de(t,r){if(t&1&&(c(0,"span"),u(1),k(2,"currency"),s()),t&2){let n=i(2).$implicit,o=i().$implicit;l(),C($(2,1,n[o]))}}function fe(t,r){if(t&1&&d(0,pe,2,1,"span")(1,de,3,3,"span"),t&2){let n=i(2).$index;_(n<13?0:-1),l(),_(n===13?1:-1)}}function _e(t,r){if(t&1&&(c(0,"td",11),d(1,se,2,1,"div",12)(2,fe,2,2),s()),t&2){let n=i().$index;l(),_(n===0?1:2)}}function ue(t,r){if(t&1&&(c(0,"div",5),d(1,ce,3,1,"th",18)(2,_e,3,1,"td",9),s()),t&2){let n=r.$implicit;m("matColumnDef",n)}}function Ce(t,r){t&1&&f(0,"tr",15)}function he(t,r){t&1&&f(0,"tr",16)}function ge(t,r){if(t&1&&(c(0,"table",17),y(1,ue,3,1,"div",5,R),d(3,Ce,1,0,"tr",6)(4,he,1,0,"tr",7),s()),t&2){let n=i();m("dataSource",n.sortedEtfs),l(),M(n.etfColumnDefs),l(2),m("matHeaderRowDef",n.etfColumnDefs)("matHeaderRowDefSticky",!0),l(),m("matRowDefColumns",n.etfColumnDefs)}}function xe(t,r){if(t&1&&f(0,"container-card",3),t&2){i();let n=E(4);m("mainContentRef",n)}}var De=(()=>{let r=class r{constructor(o){this.dataService=o,this.dataSource=new X,this.sortedEtfs=[],this.headers=["Symbol","Debt To Equity (MRQ)","Current Ratio (MRQ)","Earnings Growth (QOQ) %","Quarterly Revenue Growth (YOY) %","Profit Margins %","Forward PE","Forward EPS","PEG Ratio","Total Cash / Share","Revenue / Share","FCF Yield","FCF / Share","Return On Assets %","Return On Equity %","EV / EBITDA","EV / Revenue"],this.columnDefs=["symbol","debtToEquity","currentRatio","earningsGrowth","revenueGrowth","profitMargins","forwardPE","forwardEps","pegRatio","totalCashPerShare","revenuePerShare","freeCashflowYield","freeCashflowPerShare","returnOnAssets","returnOnEquity","enterpriseToEbitda","enterpriseToRevenue"],this.etfHeaders=["Symbol","Expense Ratio","Nav Price","Trailing PE","YTD Return","1 Month Return","3 month Return","1 Year Return","3 Year Return","5 year Return","10 Year return","3Y Beta","Total Assets"],this.etfColumnDefs=["symbol","annualReportExpenseRatio","navPrice","trailingPE","ytdReturn","1monthReturn","3monthReturn","1YearReturn","threeYearReturn","fiveYearReturn","tenYearReturn","beta3Year","totalAssets"]}ngOnInit(){let o=this.dataService.portfolioStocks,p=this.dataService.portfolioEtfs;this.dataSource.data=o.map(e=>{let a=this.dataService.portfolioHoldings[e.symbol];return P(h(h({},e),a),{symbol:e.symbol,debtToEquity:(e.debtToEquity.raw/100).toFixed(2)||0,currentRatio:e.currentRatio.fmt||0,earningsGrowth:+e.earningsQuarterlyGrowth.fmt?.replace("%","")||0,revenueGrowth:+e.revenueGrowth.fmt?.replace("%","")||0,profitMargins:+e.profitMargins.fmt?.replace("%","")||0,forwardPE:e.forwardPE.fmt||0,forwardEps:e.forwardEps.fmt||0,pegRatio:e.pegRatio.fmt||0,totalCashPerShare:e.totalCashPerShare.fmt||0,revenuePerShare:e.revenuePerShare.fmt||0,freeCashflowYield:+(e.freeCashflowYield*100).toFixed(2)||0,freeCashflowPerShare:+e.freeCashflowPerShare.toFixed(2)||0,returnOnAssets:+e.returnOnAssets.fmt?.replace("%","")||0,returnOnEquity:+e.returnOnEquity.fmt?.replace("%","")||0,enterpriseToEbitda:e.enterpriseToEbitda.fmt||0,enterpriseToRevenue:e.enterpriseToRevenue.fmt||0,regularMarketPrice:e.regularMarketPrice?.raw,regularMarketChange:e.regularMarketChange?.raw,regularMarketChangePercent:e.regularMarketChangePercent?.raw,preMarketPrice:e.preMarketPrice?.raw,preMarketChangePercent:e.preMarketChangePercent?.raw||0,postMarketPrice:e.postMarketPrice?.raw,postMarketChangePercent:e.postMarketChangePercent?.raw||0})}).sort((e,a)=>e.unrealizedGainPercent-a.unrealizedGainPercent),this.sortedEtfs=p.map(e=>{let a=this.dataService.portfolioHoldings[e.symbol];return P(h(h({},e),a),{symbol:e.symbol,annualReportExpenseRatio:e.profile.feesExpensesInvestment.annualReportExpenseRatio.fmt,navPrice:e.navPrice.fmt,trailingPE:e.trailingPE.fmt,ytdReturn:e.fundPerformance.trailingReturns.ytd.fmt,"1monthReturn":e.fundPerformance.trailingReturns.oneMonth.fmt,"3monthReturn":e.fundPerformance.trailingReturns.threeMonth.fmt,"1YearReturn":e.fundPerformance.trailingReturns.oneYear.fmt,threeYearReturn:e.fundPerformance.trailingReturns.threeYear.fmt,fiveYearReturn:e.fundPerformance.trailingReturns.fiveYear.fmt,tenYearReturn:e.fundPerformance.trailingReturns.tenYear.fmt,beta3Year:e.beta3Year.raw,totalAssets:e.totalAssets.fmt,regularMarketPrice:e.regularMarketPrice?.raw,regularMarketChange:e.regularMarketChange?.raw,regularMarketChangePercent:e.regularMarketChangePercent?.raw,preMarketPrice:e.preMarketPrice?.raw,preMarketChangePercent:e.preMarketChangePercent?.raw||0,postMarketPrice:e.postMarketPrice?.raw,postMarketChangePercent:e.postMarketChangePercent?.raw||0})}).sort((e,a)=>e.unrealizedGainPercent-a.unrealizedGainPercent)}ngAfterViewInit(){this.dataSource.sort=this.sort}getCellColor(o,p){let e=this.columnDefs[o],a=p[e];return a<0||a[0]==="-"||a[1]==="-"?"chocolate":""}};r.\u0275fac=function(p){return new(p||r)(D(G))},r.\u0275cmp=T({type:r,selectors:[["portfolio-financials"]],viewQuery:function(p,e){if(p&1&&(w(x,5),w(g,5)),p&2){let a;v(a=S())&&(e.table=a.first),v(a=S())&&(e.sort=a.first)}},standalone:!0,features:[b],decls:6,vars:2,consts:[["stocksRef",""],["etfsRef",""],["title","Stocks",3,"mainContentRef"],["title","Exchange Traded Funds",3,"mainContentRef"],["mat-table","","matSort","","matSortActive","earningsQuarterlyGrowth","matSortDirection","asc",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"table-col-0"],[3,"ngStyle"],[3,"stock"],["mat-header-row",""],["mat-row",""],["mat-table","",3,"dataSource"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""]],template:function(p,e){if(p&1&&(d(0,me,5,4,"ng-template",null,0,F),f(2,"container-card",2),d(3,ge,5,4,"ng-template",null,1,F)(5,xe,1,1,"container-card",3)),p&2){let a=E(1);l(2),m("mainContentRef",a),l(3),_(e.sortedEtfs.length>0?5:-1)}},dependencies:[I,O,Q,q,g,A,W,x,z,J,V,B,K,N,j,L,U,H,Z],styles:[".table-col-0[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;margin:0;padding:0}.mat-mdc-row[_ngcontent-%COMP%]{height:max-content}td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type   td.mat-mdc-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mdc-data-table__header-cell[_ngcontent-%COMP%], .mdc-data-table__cell[_ngcontent-%COMP%]{padding:0}"]});let t=r;return t})();export{De as a};
