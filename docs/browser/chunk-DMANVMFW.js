import{a as nt}from"./chunk-JDN65U7N.js";import{a as x,b as N,c as B,d as h,e as j,f as L,h as U,i as W,k as z,l as J,n as K,o as X,q as Z,s as tt,t as et,u as it}from"./chunk-IIB2OAUU.js";import{a as q,b as G}from"./chunk-7XK5PBSE.js";import{a as V}from"./chunk-6MPDKA62.js";import{h as k,i as A,j as H,o as Q}from"./chunk-RNTJAAAV.js";import{$a as l,Bb as m,Cb as c,Db as f,Eb as C,Fb as g,Hb as M,Lb as b,Mb as r,Rb as y,Sb as v,Tb as S,Ub as R,Vb as u,Wb as _,Xb as E,_b as O,ab as T,ac as Y,ba as P,dc as I,ec as $,fa as D,ga as w,gc as F,qb as p,sb as s}from"./chunk-FNNUKVD3.js";function ot(e,o){if(e&1){let a=M();m(0,"th",11),b("click",function(){D(a);let t=r().index,i=r();return w(i.setChartData(t))}),u(1),c()}if(e&2){let a=r().index,n=r();l(),E(" ",n.headers[a]," ")}}function rt(e,o){if(e&1&&(m(0,"div",15),f(1,"stock-name-card",16),c()),e&2){let a=r().$implicit;l(),s("stock",a)}}var lt=e=>({color:e});function st(e,o){if(e&1&&(m(0,"span",17),u(1),c()),e&2){let a=r().$implicit,n=r().index,t=r();s("ngStyle",Y(2,lt,t.getColor(n,a))),l(),_(t.cells[n](a))}}function ct(e,o){if(e&1&&(m(0,"td",12),p(1,rt,2,1,"div",13)(2,st,2,4,"ng-template",null,14,F),c()),e&2){let a=R(3),n=r().index;l(),s("ngIf",n===0)("ngIfElse",a)}}function dt(e,o){if(e&1&&(C(0,8),p(1,ot,2,1,"th",9)(2,ct,4,2,"td",10),g()),e&2){let a=o.$implicit;s("matColumnDef",a)}}function mt(e,o){e&1&&f(0,"tr",18)}function ft(e,o){e&1&&f(0,"tr",19)}function pt(e,o){if(e&1&&(m(0,"th",21),u(1),c()),e&2){let a=r().index,n=r();l(),E(" ",n.etfHeaders[a]," ")}}function ut(e,o){if(e&1&&(m(0,"div",15),f(1,"stock-name-card",16),c()),e&2){let a=r().$implicit;l(),s("stock",a)}}function _t(e,o){if(e&1&&(m(0,"span"),u(1),c()),e&2){let a=r(2).$implicit,n=r().index,t=r();l(),_(t.etfCells[n](a))}}function xt(e,o){if(e&1&&(m(0,"span"),u(1),I(2,"currency"),c()),e&2){let a=r(2).$implicit,n=r().index,t=r();l(),_($(2,1,t.etfCells[n](a)))}}function ht(e,o){if(e&1&&p(0,_t,2,1,"span",22)(1,xt,3,3,"span",22),e&2){let a=r(2).index;s("ngIf",a<13),l(),s("ngIf",a===13)}}function Ct(e,o){if(e&1&&(m(0,"td",12),p(1,ut,2,1,"div",13)(2,ht,2,2,"ng-template",null,14,F),c()),e&2){let a=R(3),n=r().index;l(),s("ngIf",n===0)("ngIfElse",a)}}function gt(e,o){if(e&1&&(C(0,8),p(1,pt,2,1,"th",20)(2,Ct,4,2,"td",10),g()),e&2){let a=o.$implicit;s("matColumnDef",a)}}function yt(e,o){e&1&&f(0,"tr",18)}function vt(e,o){e&1&&f(0,"tr",19)}var Yt=(()=>{let o=class o{constructor(n){this.dataService=n,this.transactions="portfolio",this.echartUpdateOptions={yAxis:{},xAxis:{data:[]},series:[{data:[]}]},this.xAxisLabel="",this.dataSource=new et,this.sortedEtfs=[],this.headers=["Symbol","Debt To Equity (MRQ)","Current Ratio","Earnings Growth (YOY)","Revenue Growth (YOY)","Profit Margins","Forward PE","Forward EPS","PEG Ratio","Total Cash / Share","Revenue / Share","FCF Yield","FCF / Share","Return On Assets","Return On Equity","EV / EBITDA","EV / Revenue"],this.columnDefs=["symbol","debtToEquity","currentRatio","earningsQuarterlyGrowth","revenueGrowth","profitMargins","forwardPE","forwardEps","pegRatio","totalCashPerShare","revenuePerShare","fcfYield","fcfPerShare","returnOnAssets","returnOnEquity","enterpriseToEbitda","enterpriseToRevenue"],this.etfHeaders=["Symbol","Expense Ratio","Nav Price","Trailing PE","Trailing EPS","YTD Return","1 Month Return","3 month Return","1 Year Return","3 Year Return","5 year Return","10 Year return","3Y Beta","Total Assets"],this.etfColumnDefs=["symbol","annualReportExpenseRatio","navPrice","trailingPE","epsTrailingTwelveMonths","ytdReturn","1monthReturn","3monthReturn","1YearReturn","threeYearReturn","fiveYearReturn","tenYearReturn","beta3Year","totalAssets"],this.cells=[t=>"",t=>`${t.debtToEquity?.toFixed(2)}%`||0,t=>t.currentRatio?.toFixed(2)||0,t=>t.earningsQuarterlyGrowth?`${(t.earningsQuarterlyGrowth*100).toFixed(2)}%`:"0%",t=>`${(t.revenueGrowth*100).toFixed(2)}%`||0,t=>`${(t.profitMargins*100).toFixed(2)}%`||0,t=>t.forwardPE.toFixed(2)||0,t=>t.forwardEps.toFixed(2)||0,t=>t.pegRatio||0,t=>`$${t.totalCashPerShare}`||0,t=>`$${t.revenuePerShare}`||0,t=>`${(t.fcfYield*100).toFixed(2)}%`||0,t=>`$${t.fcfPerShare.toFixed(2)}`||0,t=>`${(t.returnOnAssets*100).toFixed(2)}%`||0,t=>`${(t.returnOnEquity*100).toFixed(2)}%`||0,t=>t.enterpriseToEbitda||0,t=>t.enterpriseToRevenue||0],this.etfCells=[t=>"",t=>(t.profile.feesExpensesInvestment.annualReportExpenseRatio*100).toFixed(2)+"%",t=>`$${t.navPrice.toFixed(2)}`,t=>t.trailingPE.toFixed(2),t=>t.epsTrailingTwelveMonths?.toFixed(2)||"N/A",t=>(t.fundPerformance.trailingReturns.ytd*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.oneMonth*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.threeMonth*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.oneYear*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.threeYear*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.fiveYear*100).toFixed(2)+"%",t=>(t.fundPerformance.trailingReturns.tenYear*100).toFixed(2)+"%",t=>t.beta3Year,t=>t.totalAssets]}ngOnInit(){let n=Object.values(this.dataService.portfolioData).filter(i=>i.quoteType==="EQUITY");this.dataSource.data=this.sortStocks(n);let t=Object.values(this.dataService.portfolioData).filter(i=>i.quoteType==="ETF");this.sortedEtfs=this.sortEtfs(t),this.setChartData(1)}ngAfterViewInit(){this.dataSource.sort=this.sort}sortStocks(n){return n.sort((t,i)=>t["52WeekChange"]-i["52WeekChange"])}sortEtfs(n){return n.sort((t,i)=>t.ytdReturn-i.ytdReturn)}setChartData(n){let t={title:{text:""},legend:{data:[this.headers[n]]},tooltip:{},xAxis:{data:[],splitLine:{show:!0}},yAxis:{},series:[{name:this.headers[n],type:"bar",data:[],emphasis:{focus:"series"},animationDelay:function(d){return d*10}}],animationEasing:"elasticOut",animationDelayUpdate:function(d){return d*5}};this.xAxisLabel=this.headers[n];let i=this.columnDefs[n];this.dataSource.data.sort((d,at)=>d[i]-at[i]).forEach(d=>{t.xAxis.data.push(d.symbol),t.series[0].data.push(d[i]||0)}),this.echartOptions=t}getColor(n,t){let i=this.cells[n](t);return i<0||i[0]==="-"||i[1]==="-"?"orangered":"#000000DE"}};o.\u0275fac=function(t){return new(t||o)(T(V))},o.\u0275cmp=P({type:o,selectors:[["portfolio-financials"]],viewQuery:function(t,i){if(t&1&&(y(h,5),y(x,5)),t&2){let d;v(d=S())&&(i.table=d.first),v(d=S())&&(i.sort=d.first)}},inputs:{transactions:"transactions"},standalone:!0,features:[O],decls:14,vars:11,consts:[[1,"add-border"],[1,"title"],[3,"options"],["mat-table","","matSort","","matSortActive","earningsQuarterlyGrowth","matSortDirection","asc",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-table","","matSort","","matSortActive","ytdReturn","matSortDirection","asc",3,"dataSource"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",3,"click",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",3,"click"],["mat-cell",""],["class","table-col-0",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-col-0"],[3,"stock"],[3,"ngStyle"],["mat-header-row",""],["mat-row",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf"]],template:function(t,i){t&1&&(m(0,"section",0)(1,"div",1)(2,"span"),u(3,"Financial Data"),c()(),f(4,"app-echart",2),c(),m(5,"table",3),p(6,dt,3,1,"ng-container",4)(7,mt,1,0,"tr",5)(8,ft,1,0,"tr",6),c(),f(9,"mat-divider"),m(10,"table",7),p(11,gt,3,1,"ng-container",4)(12,yt,1,0,"tr",5)(13,vt,1,0,"tr",6),c()),t&2&&(l(4),s("options",i.echartOptions),l(),s("dataSource",i.dataSource),l(),s("ngForOf",i.columnDefs),l(),s("matHeaderRowDef",i.columnDefs)("matHeaderRowDefSticky",!0),l(),s("matRowDefColumns",i.columnDefs),l(2),s("dataSource",i.sortedEtfs),l(),s("ngForOf",i.etfColumnDefs),l(),s("matHeaderRowDef",i.etfColumnDefs)("matHeaderRowDefSticky",!0),l(),s("matRowDefColumns",i.etfColumnDefs))},dependencies:[Q,nt,G,q,B,x,N,tt,h,L,J,U,j,K,W,z,X,Z,k,A,H,it],styles:[".table-col-0[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;margin:0;padding:0}.mat-mdc-row[_ngcontent-%COMP%]{height:max-content}td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type   td.mat-mdc-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mdc-data-table__header-cell[_ngcontent-%COMP%], .mdc-data-table__cell[_ngcontent-%COMP%]{padding:0}"]});let e=o;return e})();export{Yt as a};
