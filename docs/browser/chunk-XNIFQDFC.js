import{a as T,b as M,f as I}from"./chunk-RGQZAJBQ.js";import"./chunk-G7XGGRQQ.js";import{a as P}from"./chunk-CYVDRZQX.js";import"./chunk-O55OQ3MC.js";import{b as w}from"./chunk-BDBTJ4N5.js";import{j as A}from"./chunk-Z4PAFYLC.js";import{j as F,m as Y}from"./chunk-UROA4DXB.js";import"./chunk-DH5ALFXS.js";import"./chunk-AWCSJ736.js";import"./chunk-Z7NHXA47.js";import"./chunk-SG7TNQSD.js";import"./chunk-AESYL7IM.js";import{o as D,q as Q}from"./chunk-2WYAVOGU.js";import{f as R}from"./chunk-3QERKWO7.js";import{Ab as s,Bb as l,Kb as d,Rc as _,Ub as f,Vb as h,Wa as i,Wb as v,Xa as x,Xb as E,Yb as S,_b as g,fa as u,gc as C,kb as k,pb as c,xb as y,yb as b,zb as m}from"./chunk-6PRU6VJY.js";import"./chunk-GAL4ENT6.js";function j(t,e){if(t&1&&(m(0,"div",4),l(1,"ngx-charts-bubble-chart",5)(2,"stock-recommendation-trends",6),s()),t&2){let n=d();i(),c("view",n.view)("scheme",n.colorScheme)("results",n.earningsChartData)("xAxis",!0)("yAxis",!0)("legend",!0)("animations",!0)("legendTitle",""),i(),c("symbol",n.stock.symbol)("height",200)}}function G(t,e){if(t&1&&l(0,"stock-ticker-chip",7),t&2){let n=d();c("stock",n.stock)}}function z(t,e){if(t&1&&(m(0,"div")(1,"span"),h(2),s(),m(3,"span"),h(4),s(),m(5,"span"),h(6),s()()),t&2){let n=d();i(2),S(" ",n.currentQuarter," earnings date: ",n.earningsDate,""),i(2),E(" ",n.currentQuarter," EPS estimate: "),i(2),v(n.currentQuarterEstimate)}}var B=(()=>{let e=class e{constructor(){this.earningsChartData=[],this.currentQuarter="",this.currentQuarterYear="",this.currentQuarterEstimate=0,this.earningsDate="",this.view=[400,200],this.colorScheme={domain:["skyblue","slategrey"]}}ngOnInit(){let a=this.stock.earnings?.earningsChart;this.currentQuarter=a.currentQuarterEstimateDate,this.currentQuarterYear=a.currentQuarterEstimateYear,this.currentQuarterEstimate=a.currentQuarterEstimate.fmt,this.earningsDate=a.earningsDate[0].fmt,this.earningsChartData.name=this.stock.symbol;let r={name:"Estimate",series:[]},p={name:"Actual",series:[]};a.quarterly.forEach(o=>{r.series.push({name:o.date,x:o.date,y:o.estimate.fmt,r:50}),p.series.push({name:o.date,x:o.date,y:o.actual.fmt,r:50})}),r.series.push({name:this.currentQuarter+this.currentQuarterYear+" "+this.earningsDate,x:this.currentQuarter+this.currentQuarterYear,y:this.currentQuarterEstimate,r:50}),this.earningsChartData.push(r),this.earningsChartData.push(p)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=u({type:e,selectors:[["stock-earnings-chart"]],inputs:{stock:"stock"},standalone:!0,features:[g],decls:7,vars:4,consts:[["earningsChartRef",""],["titleContentRef",""],["subRef",""],[3,"title","mainContentRef","titleContentRef","subContentRef"],[1,"earnings-container"],[3,"view","scheme","results","xAxis","yAxis","legend","animations","legendTitle"],[3,"symbol","height"],[3,"stock"]],template:function(r,p){if(r&1&&(k(0,j,3,10,"ng-template",null,0,C)(2,G,1,1,"ng-template",null,1,C)(4,z,7,4,"ng-template",null,2,C),l(6,"container-card",3)),r&2){let o=f(1),O=f(3),N=f(5);i(6),c("title",p.stock.longName+" Earnings Per Share")("mainContentRef",o)("titleContentRef",O)("subContentRef",N)}},dependencies:[Y,F,A,R,P],styles:[".earnings-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}  ul.legend-labels{width:min-content!important;background:none!important}"]});let t=e;return t})();var H=(t,e)=>e.symbol;function J(t,e){if(t&1&&l(0,"stock-earnings-chart",2),t&2){let n=e.$implicit;c("stock",n)}}var pt=(()=>{let e=class e{constructor(a){this.dataService=a}ngOnInit(){this.stocks=this.dataService.portfolioStocks}};e.\u0275fac=function(r){return new(r||e)(x(D))},e.\u0275cmp=u({type:e,selectors:[["app-analysis"]],standalone:!0,features:[g],decls:6,vars:0,consts:[["mat-align-tabs","center"],["label","Earnings"],[3,"stock"],["label","Analysis B"],["label","Analysis C"]],template:function(r,p){r&1&&(m(0,"mat-tab-group",0)(1,"mat-tab",1),y(2,J,1,1,"stock-earnings-chart",2,H),s(),l(4,"mat-tab",3)(5,"mat-tab",4),s()),r&2&&(i(2),b(p.stocks))},dependencies:[_,Q,w,I,T,M,B]});let t=e;return t})();export{pt as AnalysisComponent};
