import{a as G}from"./chunk-LGVMFQ2D.js";import{a as W,b as R,c as U,d as F}from"./chunk-PDHJK7NQ.js";import{a as J,c as j,e as $,h as z}from"./chunk-HNALET22.js";import{f as V,g as Y,h as H}from"./chunk-JJRYLBXA.js";import{a as O,b as q}from"./chunk-WB7PLXYS.js";import{a as S}from"./chunk-XND4MOQU.js";import{a as K}from"./chunk-67B52VIS.js";import{Sa as Q,Ta as B,i as I,j as N,p as L,q as X}from"./chunk-AZ6TNXQN.js";import{$a as g,$b as T,Ab as c,Bb as l,Cb as m,Gb as w,Kb as D,Lb as d,Qb as x,Rb as f,Sb as y,Ub as p,Wb as k,Zb as C,_a as o,_b as b,cc as A,dc as P,fc as E,ja as u,pb as v,rb as s,ta as _,ua as M}from"./chunk-Z2OYXGZW.js";var ie=["miniChartWidget"],ee=(()=>{let a=class a{constructor(t){this.tradingviewService=t,this.width="100%",this.height=200,this.range="12M",this.theme="light"}ngAfterViewInit(){let t=this.tradingviewService.miniChartWidget(this.symbol,this.width,this.height,this.range,this.theme);this.miniChartWidget.nativeElement.appendChild(t)}};a.\u0275fac=function(e){return new(e||a)(g(S))},a.\u0275cmp=u({type:a,selectors:[["tv-mini-chart-widget"]],viewQuery:function(e,r){if(e&1&&x(ie,5),e&2){let h;f(h=y())&&(r.miniChartWidget=h.first)}},inputs:{symbol:"symbol",width:"width",height:"height",range:"range",theme:"theme"},standalone:!0,features:[C],decls:2,vars:0,consts:[["miniChartWidget",""]],template:function(e,r){e&1&&m(0,"div",null,0)},encapsulation:2});let i=a;return i})();var ae=["tickersWidget"],he=(()=>{let a=class a{constructor(t){this.tradingviewService=t,this.symbols=`[
    {
      "title": "S&P 500 Index",
      "proName": "FOREXCOM:SPXUSD"
    },
    {
      "title": "Nasdaq 100",
      "proName": "NASDAQ:NDX"
    },
    {
      "title": "Dow Jones Industrial",
      "proName": "DJI"
    },
    {
      "title": "Bitcoin",
      "proName": "BITSTAMP:BTCUSD"
    },
    {
      "title": "Ethereum",
      "proName": "BITSTAMP:ETHUSD"
    },
    {
      "title": "Dogecoin",
      "proName": "BINANCE:DOGEUSD"
    },
    {
      "title": "USD/RMB",
      "proName": "FX:USDCNH"
    },
    {
      "title": "USD/JPY",
      "proName": "FX:USDJPY"
    },
    {
      "title": "EUR/USD",
      "proName": "FX:EURUSD"
    }
  ]`,this.theme="light",this.displayMode="adaptive"}ngAfterViewInit(){let t=this.tradingviewService.tickersWidget(this.symbols,this.tape,this.displayMode,this.theme);this.tickersWidget.nativeElement.appendChild(t);try{let e=this.tickersWidget.nativeElement.children[1];this.tickersWidget.nativeElement.removeChild(e)}catch{}}};a.\u0275fac=function(e){return new(e||a)(g(S))},a.\u0275cmp=u({type:a,selectors:[["tv-tickers-widget"]],viewQuery:function(e,r){if(e&1&&x(ae,5),e&2){let h;f(h=y())&&(r.tickersWidget=h.first)}},inputs:{symbols:"symbols",tape:"tape",theme:"theme",displayMode:"displayMode"},standalone:!0,features:[C],decls:2,vars:0,consts:[["tickersWidget",""]],template:function(e,r){e&1&&m(0,"div",null,0)},encapsulation:2});let i=a;return i})();var re=()=>({"padding-right":"1.25rem"}),ne=i=>({color:i});function oe(i,a){if(i&1&&(c(0,"div",11)(1,"span"),p(2,"Today's Unrealized P/L: "),l(),c(3,"span",5),p(4),A(5,"currency"),l()()),i&2){let n=d(2);o(3),s("ngStyle",T(4,ne,n.getDayPriceChangeColor())),o(),k(" ",P(5,2,n.priceChange)," ")}}function se(i,a){if(i&1&&(m(0,"tv-mini-chart-widget",15)(1,"mat-divider",16),c(2,"span"),p(3),l(),c(4,"span"),p(5),l()),i&2){let n=a.model;s("symbol",n.name)("theme","dark"),o(3),k("Pre/Post: ",n.name," "),o(2),k("",n.value.toFixed(2),"%")}}function ce(i,a){if(i&1&&(c(0,"div",3)(1,"div",12)(2,"ngx-charts-bar-vertical",13),v(3,se,6,4,"ng-template",null,0,E),l()(),c(5,"div",12),m(6,"ngx-charts-bar-vertical-stacked",14),l()()),i&2){let n=d(2);o(2),s("results",n.priceChangeChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Price Change %")("customColors",n.getPriceChangeChartColor),o(4),s("scheme",n.priceRangeColorScheme)("results",n.priceRangeChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Market Day Price Range $")}}function le(i,a){if(i&1&&(c(0,"div",3)(1,"div",12),m(2,"ngx-charts-bar-vertical",17),l()()),i&2){let n=d(2);o(2),s("scheme",n.betaColorScheme)("schemeType",n.scaleType.Linear)("results",n.betaChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("yAxisLabel","Beta")}}function me(i,a){if(i&1){let n=w();c(0,"section",2)(1,"div",3),v(2,oe,6,6,"div",4),c(3,"mat-chip-listbox",5)(4,"mat-chip-option",6),D("click",function(){_(n);let e=d();return M(e.displayChart(1))}),p(5,"Today's Change"),l(),c(6,"mat-chip-option",7),D("click",function(){_(n);let e=d();return M(e.displayChart(2))}),p(7,"Beta"),l()()(),v(8,ce,7,18,"div",8)(9,le,3,10,"div",8),c(10,"mat-expansion-panel",9)(11,"mat-expansion-panel-header")(12,"mat-panel-title")(13,"mat-icon"),p(14,"price_change"),l(),c(15,"span"),p(16,"Price Quotes"),l()()(),m(17,"tv-market-quotes-widget",10),l()()}if(i&2){let n=d();o(2),s("ngIf",n.priceChangeChartData),o(),s("ngStyle",b(7,re)),o(5),s("ngIf",n.selectedChart===1),o(),s("ngIf",n.selectedChart===2),o(),s("expanded",!1),o(7),s("stockNames",n.stockNames)("height",820)}}var Ee=(()=>{let a=class a{constructor(t){this.dataService=t,this.showTickers=!0,this.priceChange=0,this.priceChangeChartData=[],this.priceRangeChartData=[],this.betaChartData=[],this.stockNames=[],this.priceRangeColorScheme={domain:["steelblue","skyblue"]},this.betaColorScheme={domain:["palevioletred"]},this.scaleType=J,this.selectedChart=1,this.getPriceChangeChartColor=e=>this.portfolioData[e].regularMarketChangePercent>0?"teal":"chocolate"}ngOnInit(){this.portfolioHoldings=this.dataService.portfolioHoldings,this.portfolioData=this.dataService.portfolioData,this.dataService.portfolioSymbols?.forEach(t=>{let e=this.portfolioHoldings[t],r=this.portfolioData[t];this.stockNames.push({name:r.symbol,displayName:`${r.longName} - ${r.symbol} `}),this.priceChange+=r.regularMarketChange*e.sharesOwned,this.priceChangeChartData.push({name:r.symbol,value:r.regularMarketChangePercent*100||0}),this.priceRangeChartData.push({name:r.symbol,series:[{name:"Low Range",value:r.regularMarketPrice-r.regularMarketDayLow},{name:"High Range",value:r.regularMarketDayHigh-r.regularMarketPrice}]}),r.quoteType==="EQUITY"&&this.betaChartData.push({name:r.symbol,value:r.beta||0})}),this.stockNames.sort((t,e)=>{let r=this.portfolioData[t.name].regularMarketChangePercent,h=this.portfolioData[e.name].regularMarketChangePercent;return r-h}),this.priceChangeChartData.sort((t,e)=>t.value-e.value),this.priceRangeChartData.sort((t,e)=>t.series[0].value+t.series[1].value-(e.series[0].value+e.series[1].value)),this.betaChartData.sort((t,e)=>t.value-e.value)}getDayPriceChangeColor(){return this.priceChange>0?"teal":"chocolate"}displayChart(t){this.selectedChart=t}};a.\u0275fac=function(e){return new(e||a)(g(K))},a.\u0275cmp=u({type:a,selectors:[["stock-price-movement-charts"]],inputs:{showTickers:"showTickers"},standalone:!0,features:[C],decls:1,vars:1,consts:[["tooltipTemplate",""],["class","add-border",4,"ngIf"],[1,"add-border"],[1,"add-flex"],["class","title",4,"ngIf"],[3,"ngStyle"],["selected","",3,"click"],[3,"click"],["class","add-flex",4,"ngIf"],[3,"expanded"],[3,"stockNames","height"],[1,"title"],[1,"chart-container"],[3,"results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel","customColors"],[3,"scheme","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel"],[3,"symbol","theme"],[2,"margin","none","border-top-color","slategrey"],[3,"scheme","schemeType","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","yAxisLabel"]],template:function(e,r){e&1&&v(0,me,18,8,"section",1),e&2&&s("ngIf",r.priceChangeChartData.length>0)},dependencies:[X,I,N,L,H,Y,V,q,O,F,W,R,U,B,Q,z,j,$,ee,G]});let i=a;return i})();export{he as a,Ee as b};
