import{b as Y}from"./chunk-2FRT4FJM.js";import{h as X,i as j,j as A}from"./chunk-7YJNWHMN.js";import{a as U}from"./chunk-XWHWHFWE.js";import{g as V}from"./chunk-5F4UKWR5.js";import{a as D,b as E,c as H}from"./chunk-YHJYA4IA.js";import{h as O}from"./chunk-PA5NE4HK.js";import{Ab as s,B as P,Bb as c,Fb as k,Ib as C,Kb as p,M,Ub as v,Vb as w,Wa as a,X as S,Xa as T,_b as R,aa as u,fa as I,gc as g,l as b,na as h,nb as x,oa as _,pb as o,ub as f,zb as l}from"./chunk-CPZLQSFH.js";var F=(()=>{let n=class n{constructor(i,e){this.http=i,this.dataService=e,this.apiBaseUrl="https://data.alpaca.markets",this.apiKey="PK41CNLBVKS2CHYHD6FQ",this.secretKey="hOurdDodVN23wnjowMOyXYjeaobsmIbXtqhOwSbE",this.httpHeaders=new D().set("APCA-API-KEY-ID",this.apiKey).set("APCA-API-SECRET-KEY",this.secretKey)}error(i){let e=i.error instanceof ErrorEvent?i.error.message:`Error Code: ${i.status} Message: ${i.message}`;return b({data:[],message:e,status:500})}wrapHttpCall(i,e){return this.http.get(i,e).pipe(M(2),P(this.error))}getLatestBars(){let i=this.dataService.portfolioSymbols,e=this.apiBaseUrl+"/v2/stocks/bars/latest",m=new E().appendAll({symbols:i.join(","),feed:"iex"}),d={headers:this.httpHeaders,params:m};return this.wrapHttpCall(e,d)}getNews(i,e,m,d){let y=this.apiBaseUrl+"/v1beta1/alpaca/fetch/news/",K=new E().appendAll({symbols:i.join(","),start:e,end:m,limit:d}),N={headers:this.httpHeaders,params:K};return this.wrapHttpCall(y,N)}};n.\u0275fac=function(e){return new(e||n)(u(H),u(V))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function W(t,n){if(t&1){let r=k();l(0,"div",5)(1,"mat-chip-listbox")(2,"mat-chip-option",6),C("click",function(){h(r);let e=p();return _(e.selectChart(1))}),w(3,"Indices"),s(),l(4,"mat-chip-option",7),C("click",function(){h(r);let e=p();return _(e.selectChart(2))}),w(5,"Cryptos"),s(),l(6,"mat-chip-option",7),C("click",function(){h(r);let e=p();return _(e.selectChart(3))}),w(7,"Forex"),s(),l(8,"mat-chip-option",7),C("click",function(){h(r);let e=p();return _(e.selectChart(4))}),w(9,"VIX"),s()()()}}function G(t,n){t&1&&c(0,"wallmine-chart",9)(1,"wallmine-chart",9)(2,"wallmine-chart",9),t&2&&(o("symbol","INDEX:GSPC")("width","33.33%"),a(),o("symbol","INDEX:DJI")("width","33.33%"),a(),o("symbol","INDEX:IXIC")("width","33.33%"))}function J(t,n){t&1&&c(0,"wallmine-chart",9)(1,"wallmine-chart",9)(2,"wallmine-chart",9),t&2&&(o("symbol","CRYPTO:BTC")("width","33.33%"),a(),o("symbol","CRYPTO:ETH")("width","33.33%"),a(),o("symbol","CRYPTO:DOGE")("width","33.33%"))}function $(t,n){t&1&&c(0,"wallmine-chart",9)(1,"wallmine-chart",9)(2,"wallmine-chart",9),t&2&&(o("symbol","FOREX:USDCNY")("width","33.33%"),a(),o("symbol","FOREX:USDJPY")("width","33.33%"),a(),o("symbol","FOREX:USDEUR")("width","33.33%"))}function q(t,n){t&1&&c(0,"wallmine-chart",8),t&2&&o("symbol","INDEX:VIX")}function Q(t,n){if(t&1&&x(0,G,3,6)(1,J,3,6)(2,$,3,6)(3,q,1,1,"wallmine-chart",8),t&2){let r=p();f(r.selectedChart===1?0:-1),a(),f(r.selectedChart===2?1:-1),a(),f(r.selectedChart===3?2:-1),a(),f(r.selectedChart===4?3:-1)}}var lt=(()=>{let n=class n{constructor(i){this.alpacaApiService=i,this.selectedChart=1}ngOnInit(){}selectChart(i){this.selectedChart=i}};n.\u0275fac=function(e){return new(e||n)(T(F))},n.\u0275cmp=I({type:n,selectors:[["app-portfolio-main"]],standalone:!0,features:[R],decls:8,vars:3,consts:[["titleContentRef",""],["indexCharts",""],[1,"add-margin"],["title","Market Charts",3,"mainContentRef","titleContentRef"],[3,"expandWidget"],[1,"add-flex"],["selected","",3,"click"],[3,"click"],[3,"symbol"],[3,"symbol","width"]],template:function(e,m){if(e&1&&(x(0,W,10,0,"ng-template",null,0,g)(2,Q,4,4,"ng-template",null,1,g),l(4,"section",2),c(5,"container-card",3),s(),l(6,"section",2),c(7,"stock-price-movement-charts",4),s()),e&2){let d=v(1),y=v(3);a(5),o("mainContentRef",y)("titleContentRef",d),a(2),o("expandWidget",!0)}},dependencies:[O,A,j,X,Y,U]});let t=n;return t})();export{lt as a};
