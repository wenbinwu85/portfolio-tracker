import{f as y,i as C,j as x,m as u}from"./chunk-6TNWMDRD.js";import{Cc as f,Ja as o,Ta as m,Ua as c,V as s,Va as l,Z as d,qa as i,ra as p,sb as h,ub as g}from"./chunk-A2FSG2YQ.js";var S=a=>[400,a],k=(()=>{class a{constructor(t){this.dataService=t,this.symbol="AAPL",this.recommendationTrendChartColorScheme={domain:["teal","seagreen","gold","tomato","chocolate"]},this.scaleType=y}ngOnInit(){this.updateRecommendationTrends()}ngOnChanges(){this.updateRecommendationTrends()}updateRecommendationTrends(){let t=this.dataService.portfolioData;this.stockData=Object.values(t).filter(e=>e.symbol===this.symbol)[0],this.recommendationTrends=this.stockData.recommendationTrend,this.recommendationTrendChartData=[],this.recommendationTrends.forEach(e=>{this.recommendationTrendChartData.push({name:this.getMonthName(e.period),series:[{name:"Strong Buy",value:e.strongBuy},{name:"Buy",value:e.buy},{name:"Hold",value:e.hold},{name:"Sell",value:e.sell},{name:"Strong Sell",value:e.strongSell}]})})}getMonthName(t){let n={"0m":0,"-1m":1,"-2m":2,"-3m":3}[t],r=new Date,b=r.getMonth();return r.setMonth(b-n),r.toLocaleString("default",{month:"short"})}static{this.\u0275fac=function(e){return new(e||a)(p(f))}}static{this.\u0275cmp=s({type:a,selectors:[["stock-recommendation-trends"]],inputs:{symbol:"symbol",height:"height"},standalone:!0,features:[d,h],decls:2,vars:15,consts:[[1,"rec-trends"],[3,"view","scheme","results","xAxis","yAxis","showXAxisLabel","showYAxisLabel","rotateXAxisTicks","animations","legend","showDataLabel","legendTitle","yAxisLabel"]],template:function(e,n){e&1&&(m(0,"div",0),l(1,"ngx-charts-bar-vertical-stacked",1),c()),e&2&&(i(),o("view",g(13,S,n.height||200))("scheme",n.recommendationTrendChartColorScheme)("results",n.recommendationTrendChartData)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("rotateXAxisTicks",!0)("animations",!0)("legend",!0)("showDataLabel",!0)("legendTitle","")("yAxisLabel","Analysts Opinions"))},dependencies:[u,C],styles:["div.ngx-charts-outer{display:flex!important;align-items:center!important}  ul.legend-labels{width:min-content!important;background:none!important}"]})}}return a})();var O=(()=>{class a{constructor(){this.earningsChartData=[],this.currentQuarter="",this.currentQuarterYear="",this.currentQuarterEstimate=0,this.earningsDate="",this.view=[0,200],this.colorScheme={domain:["skyblue","slategrey"]}}ngOnInit(){let t=this.stock.earnings?.earningsChart;this.currentQuarter=t.currentQuarterEstimateDate,this.currentQuarterYear=t.currentQuarterEstimateYear,this.currentQuarterEstimate=t.currentQuarterEstimate.fmt,this.earningsDate=t.earningsDate[0].fmt,this.earningsChartData.name=this.stock.symbol;let e={name:"Estimate",series:[]},n={name:"Actual",series:[]};t.quarterly.forEach(r=>{e.series.push({name:r.date,x:r.date,y:r.estimate.fmt,r:50}),n.series.push({name:r.date,x:r.date,y:r.actual.fmt,r:50})}),e.series.push({name:this.currentQuarter+this.currentQuarterYear+" "+this.earningsDate,x:this.currentQuarter+this.currentQuarterYear,y:this.currentQuarterEstimate,r:50}),this.earningsChartData.push(e),this.earningsChartData.push(n)}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=s({type:a,selectors:[["stock-earnings-chart"]],inputs:{stock:"stock"},standalone:!0,features:[h],decls:2,vars:10,consts:[[1,"earnings-container"],[3,"view","scheme","results","xAxis","yAxis","yAxisLabel","showYAxisLabel","legend","animations","legendTitle"]],template:function(e,n){e&1&&(m(0,"div",0),l(1,"ngx-charts-bubble-chart",1),c()),e&2&&(i(),o("view",n.view)("scheme",n.colorScheme)("results",n.earningsChartData)("xAxis",!0)("yAxis",!0)("yAxisLabel","Earnings Per Share")("showYAxisLabel",!0)("legend",!0)("animations",!0)("legendTitle",""))},dependencies:[u,x],styles:[".earnings-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}  ul.legend-labels{width:max-content!important;background:none!important}"]})}}return a})();export{k as a,O as b};
